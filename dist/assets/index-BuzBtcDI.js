function DS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var LS={exports:{}},of={},BS={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),dT=Symbol.for("react.portal"),fT=Symbol.for("react.fragment"),hT=Symbol.for("react.strict_mode"),pT=Symbol.for("react.profiler"),mT=Symbol.for("react.provider"),gT=Symbol.for("react.context"),vT=Symbol.for("react.forward_ref"),yT=Symbol.for("react.suspense"),xT=Symbol.for("react.memo"),bT=Symbol.for("react.lazy"),U0=Symbol.iterator;function wT(e){return e===null||typeof e!="object"?null:(e=U0&&e[U0]||e["@@iterator"],typeof e=="function"?e:null)}var US={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zS=Object.assign,FS={};function Uo(e,t,r){this.props=e,this.context=t,this.refs=FS,this.updater=r||US}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qS(){}qS.prototype=Uo.prototype;function Sv(e,t,r){this.props=e,this.context=t,this.refs=FS,this.updater=r||US}var jv=Sv.prototype=new qS;jv.constructor=Sv;zS(jv,Uo.prototype);jv.isPureReactComponent=!0;var z0=Array.isArray,WS=Object.prototype.hasOwnProperty,Ov={current:null},VS={key:!0,ref:!0,__self:!0,__source:!0};function HS(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)WS.call(t,n)&&!VS.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:nc,type:e,key:a,ref:o,props:i,_owner:Ov.current}}function _T(e,t){return{$$typeof:nc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ev(e){return typeof e=="object"&&e!==null&&e.$$typeof===nc}function ST(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var F0=/\/+/g;function Sh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ST(""+e.key):t.toString(36)}function fu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case nc:case dT:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Sh(o,0):n,z0(i)?(r="",e!=null&&(r=e.replace(F0,"$&/")+"/"),fu(i,t,r,"",function(c){return c})):i!=null&&(Ev(i)&&(i=_T(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(F0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",z0(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Sh(a,s);o+=fu(a,t,r,l,i)}else if(l=wT(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Sh(a,s++),o+=fu(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jc(e,t,r){if(e==null)return e;var n=[],i=0;return fu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function jT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},hu={transition:null},OT={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:hu,ReactCurrentOwner:Ov};function KS(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:jc,forEach:function(e,t,r){jc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jc(e,function(){t++}),t},toArray:function(e){return jc(e,function(t){return t})||[]},only:function(e){if(!Ev(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Uo;fe.Fragment=fT;fe.Profiler=pT;fe.PureComponent=Sv;fe.StrictMode=hT;fe.Suspense=yT;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OT;fe.act=KS;fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zS({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Ov.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)WS.call(t,l)&&!VS.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:nc,type:e.type,key:i,ref:a,props:n,_owner:o}};fe.createContext=function(e){return e={$$typeof:gT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mT,_context:e},e.Consumer=e};fe.createElement=HS;fe.createFactory=function(e){var t=HS.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:vT,render:e}};fe.isValidElement=Ev;fe.lazy=function(e){return{$$typeof:bT,_payload:{_status:-1,_result:e},_init:jT}};fe.memo=function(e,t){return{$$typeof:xT,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=hu.transition;hu.transition={};try{e()}finally{hu.transition=t}};fe.unstable_act=KS;fe.useCallback=function(e,t){return Rt.current.useCallback(e,t)};fe.useContext=function(e){return Rt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Rt.current.useEffect(e,t)};fe.useId=function(){return Rt.current.useId()};fe.useImperativeHandle=function(e,t,r){return Rt.current.useImperativeHandle(e,t,r)};fe.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Rt.current.useMemo(e,t)};fe.useReducer=function(e,t,r){return Rt.current.useReducer(e,t,r)};fe.useRef=function(e){return Rt.current.useRef(e)};fe.useState=function(e){return Rt.current.useState(e)};fe.useSyncExternalStore=function(e,t,r){return Rt.current.useSyncExternalStore(e,t,r)};fe.useTransition=function(){return Rt.current.useTransition()};fe.version="18.3.1";BS.exports=fe;var O=BS.exports;const T=be(O),ET=DS({__proto__:null,default:T},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT=O,PT=Symbol.for("react.element"),NT=Symbol.for("react.fragment"),TT=Object.prototype.hasOwnProperty,kT=AT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CT={key:!0,ref:!0,__self:!0,__source:!0};function GS(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)TT.call(t,n)&&!CT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:PT,type:e,key:a,ref:o,props:i,_owner:kT.current}}of.Fragment=NT;of.jsx=GS;of.jsxs=GS;LS.exports=of;var u=LS.exports,Dp={},XS={exports:{}},cr={},YS={exports:{}},JS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,C){var U=I.length;I.push(C);e:for(;0<U;){var K=U-1>>>1,z=I[K];if(0<i(z,C))I[K]=C,I[U]=z,U=K;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var C=I[0],U=I.pop();if(U!==C){I[0]=U;e:for(var K=0,z=I.length,Y=z>>>1;K<Y;){var ae=2*(K+1)-1,F=I[ae],ce=ae+1,Fe=I[ce];if(0>i(F,U))ce<z&&0>i(Fe,F)?(I[K]=Fe,I[ce]=U,K=ce):(I[K]=F,I[ae]=U,K=ae);else if(ce<z&&0>i(Fe,U))I[K]=Fe,I[ce]=U,K=ce;else break e}}return C}function i(I,C){var U=I.sortIndex-C.sortIndex;return U!==0?U:I.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var C=r(c);C!==null;){if(C.callback===null)n(c);else if(C.startTime<=I)n(c),C.sortIndex=C.expirationTime,t(l,C);else break;C=r(c)}}function S(I){if(g=!1,b(I),!y)if(r(l)!==null)y=!0,$(w);else{var C=r(c);C!==null&&M(S,C.startTime-I)}}function w(I,C){y=!1,g&&(g=!1,m(E),E=-1),p=!0;var U=h;try{for(b(C),f=r(l);f!==null&&(!(f.expirationTime>C)||I&&!P());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var z=K(f.expirationTime<=C);C=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(l)&&n(l),b(C)}else n(l);f=r(l)}if(f!==null)var Y=!0;else{var ae=r(c);ae!==null&&M(S,ae.startTime-C),Y=!1}return Y}finally{f=null,h=U,p=!1}}var _=!1,j=null,E=-1,A=5,N=-1;function P(){return!(e.unstable_now()-N<A)}function k(){if(j!==null){var I=e.unstable_now();N=I;var C=!0;try{C=j(!0,I)}finally{C?R():(_=!1,j=null)}}else _=!1}var R;if(typeof x=="function")R=function(){x(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,L=D.port2;D.port1.onmessage=k,R=function(){L.postMessage(null)}}else R=function(){v(k,0)};function $(I){j=I,_||(_=!0,R())}function M(I,C){E=v(function(){I(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,$(w))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var U=h;h=C;try{return I()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,C){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=h;h=I;try{return C()}finally{h=U}},e.unstable_scheduleCallback=function(I,C,U){var K=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,I){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=U+z,I={id:d++,callback:C,priorityLevel:I,startTime:U,expirationTime:z,sortIndex:-1},U>K?(I.sortIndex=U,t(c,I),r(l)===null&&I===r(c)&&(g?(m(E),E=-1):g=!0,M(S,U-K))):(I.sortIndex=z,t(l,I),y||p||(y=!0,$(w))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var C=h;return function(){var U=h;h=C;try{return I.apply(this,arguments)}finally{h=U}}}})(JS);YS.exports=JS;var $T=YS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=O,lr=$T;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QS=new Set,Qs={};function ua(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(Qs[e]=t,e=0;e<t.length;e++)QS.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,RT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q0={},W0={};function MT(e){return Lp.call(W0,e)?!0:Lp.call(q0,e)?!1:RT.test(e)?W0[e]=!0:(q0[e]=!0,!1)}function DT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LT(e,t,r,n){if(t===null||typeof t>"u"||DT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Av=/[\-:]([a-z])/g;function Pv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Av,Pv);vt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Av,Pv);vt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Av,Pv);vt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nv(e,t,r,n){var i=vt.hasOwnProperty(t)?vt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LT(t,r,i,n)&&(r=null),n||i===null?MT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pn=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),ka=Symbol.for("react.portal"),Ca=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),ej=Symbol.for("react.context"),kv=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),Cv=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),tj=Symbol.for("react.offscreen"),V0=Symbol.iterator;function os(e){return e===null||typeof e!="object"?null:(e=V0&&e[V0]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,jh;function js(e){if(jh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jh=t&&t[1]||""}return`
`+jh+e}var Oh=!1;function Eh(e,t){if(!e||Oh)return"";Oh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Oh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?js(e):""}function BT(e){switch(e.tag){case 5:return js(e.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 2:case 15:return e=Eh(e.type,!1),e;case 11:return e=Eh(e.type.render,!1),e;case 1:return e=Eh(e.type,!0),e;default:return""}}function Fp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ca:return"Fragment";case ka:return"Portal";case Bp:return"Profiler";case Tv:return"StrictMode";case Up:return"Suspense";case zp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ej:return(e.displayName||"Context")+".Consumer";case ZS:return(e._context.displayName||"Context")+".Provider";case kv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cv:return t=e.displayName||null,t!==null?t:Fp(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return Fp(e(t))}catch{}}return null}function UT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fp(t);case 8:return t===Tv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zT(e){var t=rj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ec(e){e._valueTracker||(e._valueTracker=zT(e))}function nj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qp(e,t){var r=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function H0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ai(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ij(e,t){t=t.checked,t!=null&&Nv(e,"checked",t,!1)}function Wp(e,t){ij(e,t);var r=ai(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vp(e,t.type,ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function K0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vp(e,t,r){(t!=="number"||Au(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Os=Array.isArray;function Xa(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ai(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Os(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ai(r)}}function aj(e,t){var r=ai(t.value),n=ai(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function X0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ac,sj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ac=Ac||document.createElement("div"),Ac.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ac.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FT=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(e){FT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$s[t]=$s[e]})});function lj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$s.hasOwnProperty(e)&&$s[e]?(""+t).trim():t+"px"}function cj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=lj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var qT=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(e,t){if(t){if(qT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Xp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function $v(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jp=null,Ya=null,Ja=null;function Y0(e){if(e=oc(e)){if(typeof Jp!="function")throw Error(W(280));var t=e.stateNode;t&&(t=df(t),Jp(e.stateNode,e.type,t))}}function uj(e){Ya?Ja?Ja.push(e):Ja=[e]:Ya=e}function dj(){if(Ya){var e=Ya,t=Ja;if(Ja=Ya=null,Y0(e),t)for(e=0;e<t.length;e++)Y0(t[e])}}function fj(e,t){return e(t)}function hj(){}var Ah=!1;function pj(e,t,r){if(Ah)return e(t,r);Ah=!0;try{return fj(e,t,r)}finally{Ah=!1,(Ya!==null||Ja!==null)&&(hj(),dj())}}function el(e,t){var r=e.stateNode;if(r===null)return null;var n=df(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Qp=!1;if(wn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Qp=!1}function WT(e,t,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Is=!1,Pu=null,Nu=!1,Zp=null,VT={onError:function(e){Is=!0,Pu=e}};function HT(e,t,r,n,i,a,o,s,l){Is=!1,Pu=null,WT.apply(VT,arguments)}function KT(e,t,r,n,i,a,o,s,l){if(HT.apply(this,arguments),Is){if(Is){var c=Pu;Is=!1,Pu=null}else throw Error(W(198));Nu||(Nu=!0,Zp=c)}}function da(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function J0(e){if(da(e)!==e)throw Error(W(188))}function GT(e){var t=e.alternate;if(!t){if(t=da(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return J0(i),e;if(a===n)return J0(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function gj(e){return e=GT(e),e!==null?vj(e):null}function vj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vj(e);if(t!==null)return t;e=e.sibling}return null}var yj=lr.unstable_scheduleCallback,Q0=lr.unstable_cancelCallback,XT=lr.unstable_shouldYield,YT=lr.unstable_requestPaint,He=lr.unstable_now,JT=lr.unstable_getCurrentPriorityLevel,Iv=lr.unstable_ImmediatePriority,xj=lr.unstable_UserBlockingPriority,Tu=lr.unstable_NormalPriority,QT=lr.unstable_LowPriority,bj=lr.unstable_IdlePriority,sf=null,Xr=null;function ZT(e){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(sf,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:rk,ek=Math.log,tk=Math.LN2;function rk(e){return e>>>=0,e===0?32:31-(ek(e)/tk|0)|0}var Pc=64,Nc=4194304;function Es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ku(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Es(s):(a&=o,a!==0&&(n=Es(a)))}else o=r&~i,o!==0?n=Es(o):a!==0&&(n=Es(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Br(t),i=1<<r,n|=e[r],t&=~i;return n}function nk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ik(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Br(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=nk(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function em(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wj(){var e=Pc;return Pc<<=1,!(Pc&4194240)&&(Pc=64),e}function Ph(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ic(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=r}function ak(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Br(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Rv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Br(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var xe=0;function _j(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sj,Mv,jj,Oj,Ej,tm=!1,Tc=[],Xn=null,Yn=null,Jn=null,tl=new Map,rl=new Map,Un=[],ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z0(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function ls(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=oc(t),t!==null&&Mv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sk(e,t,r,n,i){switch(t){case"focusin":return Xn=ls(Xn,e,t,r,n,i),!0;case"dragenter":return Yn=ls(Yn,e,t,r,n,i),!0;case"mouseover":return Jn=ls(Jn,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return tl.set(a,ls(tl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,rl.set(a,ls(rl.get(a)||null,e,t,r,n,i)),!0}return!1}function Aj(e){var t=Ii(e.target);if(t!==null){var r=da(t);if(r!==null){if(t=r.tag,t===13){if(t=mj(r),t!==null){e.blockedOn=t,Ej(e.priority,function(){jj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yp=n,r.target.dispatchEvent(n),Yp=null}else return t=oc(r),t!==null&&Mv(t),e.blockedOn=r,!1;t.shift()}return!0}function ex(e,t,r){pu(e)&&r.delete(t)}function lk(){tm=!1,Xn!==null&&pu(Xn)&&(Xn=null),Yn!==null&&pu(Yn)&&(Yn=null),Jn!==null&&pu(Jn)&&(Jn=null),tl.forEach(ex),rl.forEach(ex)}function cs(e,t){e.blockedOn===t&&(e.blockedOn=null,tm||(tm=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,lk)))}function nl(e){function t(i){return cs(i,e)}if(0<Tc.length){cs(Tc[0],e);for(var r=1;r<Tc.length;r++){var n=Tc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xn!==null&&cs(Xn,e),Yn!==null&&cs(Yn,e),Jn!==null&&cs(Jn,e),tl.forEach(t),rl.forEach(t),r=0;r<Un.length;r++)n=Un[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Un.length&&(r=Un[0],r.blockedOn===null);)Aj(r),r.blockedOn===null&&Un.shift()}var Qa=Pn.ReactCurrentBatchConfig,Cu=!0;function ck(e,t,r,n){var i=xe,a=Qa.transition;Qa.transition=null;try{xe=1,Dv(e,t,r,n)}finally{xe=i,Qa.transition=a}}function uk(e,t,r,n){var i=xe,a=Qa.transition;Qa.transition=null;try{xe=4,Dv(e,t,r,n)}finally{xe=i,Qa.transition=a}}function Dv(e,t,r,n){if(Cu){var i=rm(e,t,r,n);if(i===null)Lh(e,t,n,$u,r),Z0(e,n);else if(sk(i,e,t,r,n))n.stopPropagation();else if(Z0(e,n),t&4&&-1<ok.indexOf(e)){for(;i!==null;){var a=oc(i);if(a!==null&&Sj(a),a=rm(e,t,r,n),a===null&&Lh(e,t,n,$u,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Lh(e,t,n,null,r)}}var $u=null;function rm(e,t,r,n){if($u=null,e=$v(n),e=Ii(e),e!==null)if(t=da(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $u=e,null}function Pj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JT()){case Iv:return 1;case xj:return 4;case Tu:case QT:return 16;case bj:return 536870912;default:return 16}default:return 16}}var Vn=null,Lv=null,mu=null;function Nj(){if(mu)return mu;var e,t=Lv,r=t.length,n,i="value"in Vn?Vn.value:Vn.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return mu=i.slice(e,1<n?1-n:void 0)}function gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kc(){return!0}function tx(){return!1}function ur(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?kc:tx,this.isPropagationStopped=tx,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),t}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=ur(zo),ac=ze({},zo,{view:0,detail:0}),dk=ur(ac),Nh,Th,us,lf=ze({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(Nh=e.screenX-us.screenX,Th=e.screenY-us.screenY):Th=Nh=0,us=e),Nh)},movementY:function(e){return"movementY"in e?e.movementY:Th}}),rx=ur(lf),fk=ze({},lf,{dataTransfer:0}),hk=ur(fk),pk=ze({},ac,{relatedTarget:0}),kh=ur(pk),mk=ze({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),gk=ur(mk),vk=ze({},zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yk=ur(vk),xk=ze({},zo,{data:0}),nx=ur(xk),bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_k={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_k[e])?!!t[e]:!1}function Uv(){return Sk}var jk=ze({},ac,{key:function(e){if(e.key){var t=bk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uv,charCode:function(e){return e.type==="keypress"?gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ok=ur(jk),Ek=ze({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ix=ur(Ek),Ak=ze({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uv}),Pk=ur(Ak),Nk=ze({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tk=ur(Nk),kk=ze({},lf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ck=ur(kk),$k=[9,13,27,32],zv=wn&&"CompositionEvent"in window,Rs=null;wn&&"documentMode"in document&&(Rs=document.documentMode);var Ik=wn&&"TextEvent"in window&&!Rs,Tj=wn&&(!zv||Rs&&8<Rs&&11>=Rs),ax=" ",ox=!1;function kj(e,t){switch(e){case"keyup":return $k.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function Rk(e,t){switch(e){case"compositionend":return Cj(t);case"keypress":return t.which!==32?null:(ox=!0,ax);case"textInput":return e=t.data,e===ax&&ox?null:e;default:return null}}function Mk(e,t){if($a)return e==="compositionend"||!zv&&kj(e,t)?(e=Nj(),mu=Lv=Vn=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tj&&t.locale!=="ko"?null:t.data;default:return null}}var Dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dk[e.type]:t==="textarea"}function $j(e,t,r,n){uj(n),t=Iu(t,"onChange"),0<t.length&&(r=new Bv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ms=null,il=null;function Lk(e){Wj(e,0)}function cf(e){var t=Ma(e);if(nj(t))return e}function Bk(e,t){if(e==="change")return t}var Ij=!1;if(wn){var Ch;if(wn){var $h="oninput"in document;if(!$h){var lx=document.createElement("div");lx.setAttribute("oninput","return;"),$h=typeof lx.oninput=="function"}Ch=$h}else Ch=!1;Ij=Ch&&(!document.documentMode||9<document.documentMode)}function cx(){Ms&&(Ms.detachEvent("onpropertychange",Rj),il=Ms=null)}function Rj(e){if(e.propertyName==="value"&&cf(il)){var t=[];$j(t,il,e,$v(e)),pj(Lk,t)}}function Uk(e,t,r){e==="focusin"?(cx(),Ms=t,il=r,Ms.attachEvent("onpropertychange",Rj)):e==="focusout"&&cx()}function zk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cf(il)}function Fk(e,t){if(e==="click")return cf(t)}function qk(e,t){if(e==="input"||e==="change")return cf(t)}function Wk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fr=typeof Object.is=="function"?Object.is:Wk;function al(e,t){if(Fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Lp.call(t,i)||!Fr(e[i],t[i]))return!1}return!0}function ux(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dx(e,t){var r=ux(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ux(r)}}function Mj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dj(){for(var e=window,t=Au();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Au(e.document)}return t}function Fv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vk(e){var t=Dj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Mj(r.ownerDocument.documentElement,r)){if(n!==null&&Fv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=dx(r,a);var o=dx(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hk=wn&&"documentMode"in document&&11>=document.documentMode,Ia=null,nm=null,Ds=null,im=!1;function fx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;im||Ia==null||Ia!==Au(n)||(n=Ia,"selectionStart"in n&&Fv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ds&&al(Ds,n)||(Ds=n,n=Iu(nm,"onSelect"),0<n.length&&(t=new Bv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ia)))}function Cc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ra={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},Ih={},Lj={};wn&&(Lj=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function uf(e){if(Ih[e])return Ih[e];if(!Ra[e])return e;var t=Ra[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Lj)return Ih[e]=t[r];return e}var Bj=uf("animationend"),Uj=uf("animationiteration"),zj=uf("animationstart"),Fj=uf("transitionend"),qj=new Map,hx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(e,t){qj.set(e,t),ua(t,[e])}for(var Rh=0;Rh<hx.length;Rh++){var Mh=hx[Rh],Kk=Mh.toLowerCase(),Gk=Mh[0].toUpperCase()+Mh.slice(1);si(Kk,"on"+Gk)}si(Bj,"onAnimationEnd");si(Uj,"onAnimationIteration");si(zj,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(Fj,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xk=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function px(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,KT(n,t,void 0,e),e.currentTarget=null}function Wj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;px(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;px(i,s,c),a=l}}}if(Nu)throw e=Zp,Nu=!1,Zp=null,e}function Te(e,t){var r=t[cm];r===void 0&&(r=t[cm]=new Set);var n=e+"__bubble";r.has(n)||(Vj(t,e,2,!1),r.add(n))}function Dh(e,t,r){var n=0;t&&(n|=4),Vj(r,e,n,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function ol(e){if(!e[$c]){e[$c]=!0,QS.forEach(function(r){r!=="selectionchange"&&(Xk.has(r)||Dh(r,!1,e),Dh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,Dh("selectionchange",!1,t))}}function Vj(e,t,r,n){switch(Pj(t)){case 1:var i=ck;break;case 4:i=uk;break;default:i=Dv}r=i.bind(null,t,r,e),i=void 0,!Qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Lh(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ii(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}pj(function(){var c=a,d=$v(r),f=[];e:{var h=qj.get(e);if(h!==void 0){var p=Bv,y=e;switch(e){case"keypress":if(gu(r)===0)break e;case"keydown":case"keyup":p=Ok;break;case"focusin":y="focus",p=kh;break;case"focusout":y="blur",p=kh;break;case"beforeblur":case"afterblur":p=kh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Pk;break;case Bj:case Uj:case zj:p=gk;break;case Fj:p=Tk;break;case"scroll":p=dk;break;case"wheel":p=Ck;break;case"copy":case"cut":case"paste":p=yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ix}var g=(t&4)!==0,v=!g&&e==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,m!==null&&(S=el(x,m),S!=null&&g.push(sl(x,S,b)))),v)break;x=x.return}0<g.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Yp&&(y=r.relatedTarget||r.fromElement)&&(Ii(y)||y[_n]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=c,y=y?Ii(y):null,y!==null&&(v=da(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(g=rx,S="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=ix,S="onPointerLeave",m="onPointerEnter",x="pointer"),v=p==null?h:Ma(p),b=y==null?h:Ma(y),h=new g(S,x+"leave",p,r,d),h.target=v,h.relatedTarget=b,S=null,Ii(d)===c&&(g=new g(m,x+"enter",y,r,d),g.target=b,g.relatedTarget=v,S=g),v=S,p&&y)t:{for(g=p,m=y,x=0,b=g;b;b=xa(b))x++;for(b=0,S=m;S;S=xa(S))b++;for(;0<x-b;)g=xa(g),x--;for(;0<b-x;)m=xa(m),b--;for(;x--;){if(g===m||m!==null&&g===m.alternate)break t;g=xa(g),m=xa(m)}g=null}else g=null;p!==null&&mx(f,h,p,g,!1),y!==null&&v!==null&&mx(f,v,y,g,!0)}}e:{if(h=c?Ma(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=Bk;else if(sx(h))if(Ij)w=qk;else{w=zk;var _=Uk}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Fk);if(w&&(w=w(e,c))){$j(f,w,r,d);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Vp(h,"number",h.value)}switch(_=c?Ma(c):window,e){case"focusin":(sx(_)||_.contentEditable==="true")&&(Ia=_,nm=c,Ds=null);break;case"focusout":Ds=nm=Ia=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,fx(f,r,d);break;case"selectionchange":if(Hk)break;case"keydown":case"keyup":fx(f,r,d)}var j;if(zv)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $a?kj(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Tj&&r.locale!=="ko"&&($a||E!=="onCompositionStart"?E==="onCompositionEnd"&&$a&&(j=Nj()):(Vn=d,Lv="value"in Vn?Vn.value:Vn.textContent,$a=!0)),_=Iu(c,E),0<_.length&&(E=new nx(E,e,null,r,d),f.push({event:E,listeners:_}),j?E.data=j:(j=Cj(r),j!==null&&(E.data=j)))),(j=Ik?Rk(e,r):Mk(e,r))&&(c=Iu(c,"onBeforeInput"),0<c.length&&(d=new nx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=j))}Wj(f,t)})}function sl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Iu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=el(e,r),a!=null&&n.unshift(sl(e,a,i)),a=el(e,t),a!=null&&n.push(sl(e,a,i))),e=e.return}return n}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mx(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=el(r,a),l!=null&&o.unshift(sl(r,l,s))):i||(l=el(r,a),l!=null&&o.push(sl(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Yk=/\r\n?/g,Jk=/\u0000|\uFFFD/g;function gx(e){return(typeof e=="string"?e:""+e).replace(Yk,`
`).replace(Jk,"")}function Ic(e,t,r){if(t=gx(t),gx(e)!==t&&r)throw Error(W(425))}function Ru(){}var am=null,om=null;function sm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,Qk=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,Zk=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(e){return vx.resolve(null).then(e).catch(eC)}:lm;function eC(e){setTimeout(function(){throw e})}function Bh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),nl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);nl(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Fo,ll="__reactProps$"+Fo,_n="__reactContainer$"+Fo,cm="__reactEvents$"+Fo,tC="__reactListeners$"+Fo,rC="__reactHandles$"+Fo;function Ii(e){var t=e[Hr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_n]||r[Hr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yx(e);e!==null;){if(r=e[Hr])return r;e=yx(e)}return t}e=r,r=e.parentNode}return null}function oc(e){return e=e[Hr]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ma(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function df(e){return e[ll]||null}var um=[],Da=-1;function li(e){return{current:e}}function $e(e){0>Da||(e.current=um[Da],um[Da]=null,Da--)}function Ae(e,t){Da++,um[Da]=e.current,e.current=t}var oi={},Ot=li(oi),qt=li(!1),Qi=oi;function oo(e,t){var r=e.type.contextTypes;if(!r)return oi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(e){return e=e.childContextTypes,e!=null}function Mu(){$e(qt),$e(Ot)}function xx(e,t,r){if(Ot.current!==oi)throw Error(W(168));Ae(Ot,t),Ae(qt,r)}function Hj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,UT(e)||"Unknown",i));return ze({},r,n)}function Du(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,Qi=Ot.current,Ae(Ot,e),Ae(qt,qt.current),!0}function bx(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=Hj(e,t,Qi),n.__reactInternalMemoizedMergedChildContext=e,$e(qt),$e(Ot),Ae(Ot,e)):$e(qt),Ae(qt,r)}var ln=null,ff=!1,Uh=!1;function Kj(e){ln===null?ln=[e]:ln.push(e)}function nC(e){ff=!0,Kj(e)}function ci(){if(!Uh&&ln!==null){Uh=!0;var e=0,t=xe;try{var r=ln;for(xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ln=null,ff=!1}catch(i){throw ln!==null&&(ln=ln.slice(e+1)),yj(Iv,ci),i}finally{xe=t,Uh=!1}}return null}var La=[],Ba=0,Lu=null,Bu=0,pr=[],mr=0,Zi=null,cn=1,un="";function Oi(e,t){La[Ba++]=Bu,La[Ba++]=Lu,Lu=e,Bu=t}function Gj(e,t,r){pr[mr++]=cn,pr[mr++]=un,pr[mr++]=Zi,Zi=e;var n=cn;e=un;var i=32-Br(n)-1;n&=~(1<<i),r+=1;var a=32-Br(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,cn=1<<32-Br(t)+i|r<<i|n,un=a+e}else cn=1<<a|r<<i|n,un=e}function qv(e){e.return!==null&&(Oi(e,1),Gj(e,1,0))}function Wv(e){for(;e===Lu;)Lu=La[--Ba],La[Ba]=null,Bu=La[--Ba],La[Ba]=null;for(;e===Zi;)Zi=pr[--mr],pr[mr]=null,un=pr[--mr],pr[mr]=null,cn=pr[--mr],pr[mr]=null}var ar=null,nr=null,Ie=!1,Dr=null;function Xj(e,t){var r=vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,nr=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zi!==null?{id:cn,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ar=e,nr=null,!0):!1;default:return!1}}function dm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fm(e){if(Ie){var t=nr;if(t){var r=t;if(!wx(e,t)){if(dm(e))throw Error(W(418));t=Qn(r.nextSibling);var n=ar;t&&wx(e,t)?Xj(n,r):(e.flags=e.flags&-4097|2,Ie=!1,ar=e)}}else{if(dm(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ie=!1,ar=e}}}function _x(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function Rc(e){if(e!==ar)return!1;if(!Ie)return _x(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sm(e.type,e.memoizedProps)),t&&(t=nr)){if(dm(e))throw Yj(),Error(W(418));for(;t;)Xj(e,t),t=Qn(t.nextSibling)}if(_x(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nr=Qn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nr=null}}else nr=ar?Qn(e.stateNode.nextSibling):null;return!0}function Yj(){for(var e=nr;e;)e=Qn(e.nextSibling)}function so(){nr=ar=null,Ie=!1}function Vv(e){Dr===null?Dr=[e]:Dr.push(e)}var iC=Pn.ReactCurrentBatchConfig;function ds(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Mc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sx(e){var t=e._init;return t(e._payload)}function Jj(e){function t(m,x){if(e){var b=m.deletions;b===null?(m.deletions=[x],m.flags|=16):b.push(x)}}function r(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=ri(m,x),m.index=0,m.sibling=null,m}function a(m,x,b){return m.index=b,e?(b=m.alternate,b!==null?(b=b.index,b<x?(m.flags|=2,x):b):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,x,b,S){return x===null||x.tag!==6?(x=Kh(b,m.mode,S),x.return=m,x):(x=i(x,b),x.return=m,x)}function l(m,x,b,S){var w=b.type;return w===Ca?d(m,x,b.props.children,S,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dn&&Sx(w)===x.type)?(S=i(x,b.props),S.ref=ds(m,x,b),S.return=m,S):(S=Su(b.type,b.key,b.props,null,m.mode,S),S.ref=ds(m,x,b),S.return=m,S)}function c(m,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Gh(b,m.mode,S),x.return=m,x):(x=i(x,b.children||[]),x.return=m,x)}function d(m,x,b,S,w){return x===null||x.tag!==7?(x=qi(b,m.mode,S,w),x.return=m,x):(x=i(x,b),x.return=m,x)}function f(m,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Kh(""+x,m.mode,b),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Oc:return b=Su(x.type,x.key,x.props,null,m.mode,b),b.ref=ds(m,null,x),b.return=m,b;case ka:return x=Gh(x,m.mode,b),x.return=m,x;case Dn:var S=x._init;return f(m,S(x._payload),b)}if(Os(x)||os(x))return x=qi(x,m.mode,b,null),x.return=m,x;Mc(m,x)}return null}function h(m,x,b,S){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(m,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oc:return b.key===w?l(m,x,b,S):null;case ka:return b.key===w?c(m,x,b,S):null;case Dn:return w=b._init,h(m,x,w(b._payload),S)}if(Os(b)||os(b))return w!==null?null:d(m,x,b,S,null);Mc(m,b)}return null}function p(m,x,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(b)||null,s(x,m,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Oc:return m=m.get(S.key===null?b:S.key)||null,l(x,m,S,w);case ka:return m=m.get(S.key===null?b:S.key)||null,c(x,m,S,w);case Dn:var _=S._init;return p(m,x,b,_(S._payload),w)}if(Os(S)||os(S))return m=m.get(b)||null,d(x,m,S,w,null);Mc(x,S)}return null}function y(m,x,b,S){for(var w=null,_=null,j=x,E=x=0,A=null;j!==null&&E<b.length;E++){j.index>E?(A=j,j=null):A=j.sibling;var N=h(m,j,b[E],S);if(N===null){j===null&&(j=A);break}e&&j&&N.alternate===null&&t(m,j),x=a(N,x,E),_===null?w=N:_.sibling=N,_=N,j=A}if(E===b.length)return r(m,j),Ie&&Oi(m,E),w;if(j===null){for(;E<b.length;E++)j=f(m,b[E],S),j!==null&&(x=a(j,x,E),_===null?w=j:_.sibling=j,_=j);return Ie&&Oi(m,E),w}for(j=n(m,j);E<b.length;E++)A=p(j,m,E,b[E],S),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?E:A.key),x=a(A,x,E),_===null?w=A:_.sibling=A,_=A);return e&&j.forEach(function(P){return t(m,P)}),Ie&&Oi(m,E),w}function g(m,x,b,S){var w=os(b);if(typeof w!="function")throw Error(W(150));if(b=w.call(b),b==null)throw Error(W(151));for(var _=w=null,j=x,E=x=0,A=null,N=b.next();j!==null&&!N.done;E++,N=b.next()){j.index>E?(A=j,j=null):A=j.sibling;var P=h(m,j,N.value,S);if(P===null){j===null&&(j=A);break}e&&j&&P.alternate===null&&t(m,j),x=a(P,x,E),_===null?w=P:_.sibling=P,_=P,j=A}if(N.done)return r(m,j),Ie&&Oi(m,E),w;if(j===null){for(;!N.done;E++,N=b.next())N=f(m,N.value,S),N!==null&&(x=a(N,x,E),_===null?w=N:_.sibling=N,_=N);return Ie&&Oi(m,E),w}for(j=n(m,j);!N.done;E++,N=b.next())N=p(j,m,E,N.value,S),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?E:N.key),x=a(N,x,E),_===null?w=N:_.sibling=N,_=N);return e&&j.forEach(function(k){return t(m,k)}),Ie&&Oi(m,E),w}function v(m,x,b,S){if(typeof b=="object"&&b!==null&&b.type===Ca&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Oc:e:{for(var w=b.key,_=x;_!==null;){if(_.key===w){if(w=b.type,w===Ca){if(_.tag===7){r(m,_.sibling),x=i(_,b.props.children),x.return=m,m=x;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dn&&Sx(w)===_.type){r(m,_.sibling),x=i(_,b.props),x.ref=ds(m,_,b),x.return=m,m=x;break e}r(m,_);break}else t(m,_);_=_.sibling}b.type===Ca?(x=qi(b.props.children,m.mode,S,b.key),x.return=m,m=x):(S=Su(b.type,b.key,b.props,null,m.mode,S),S.ref=ds(m,x,b),S.return=m,m=S)}return o(m);case ka:e:{for(_=b.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(m,x.sibling),x=i(x,b.children||[]),x.return=m,m=x;break e}else{r(m,x);break}else t(m,x);x=x.sibling}x=Gh(b,m.mode,S),x.return=m,m=x}return o(m);case Dn:return _=b._init,v(m,x,_(b._payload),S)}if(Os(b))return y(m,x,b,S);if(os(b))return g(m,x,b,S);Mc(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(m,x.sibling),x=i(x,b),x.return=m,m=x):(r(m,x),x=Kh(b,m.mode,S),x.return=m,m=x),o(m)):r(m,x)}return v}var lo=Jj(!0),Qj=Jj(!1),Uu=li(null),zu=null,Ua=null,Hv=null;function Kv(){Hv=Ua=zu=null}function Gv(e){var t=Uu.current;$e(Uu),e._currentValue=t}function hm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Za(e,t){zu=e,Hv=Ua=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function wr(e){var t=e._currentValue;if(Hv!==e)if(e={context:e,memoizedValue:t,next:null},Ua===null){if(zu===null)throw Error(W(308));Ua=e,zu.dependencies={lanes:0,firstContext:e}}else Ua=Ua.next=e;return t}var Ri=null;function Xv(e){Ri===null?Ri=[e]:Ri.push(e)}function Zj(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Xv(t)):(r.next=i.next,i.next=r),t.interleaved=r,Sn(e,n)}function Sn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function Yv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Sn(e,r)}return i=n.interleaved,i===null?(t.next=t,Xv(n)):(t.next=i.next,i.next=t),n.interleaved=t,Sn(e,r)}function vu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Rv(e,r)}}function jx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fu(e,t,r,n){var i=e.updateQueue;Ln=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,g=s;switch(h=t,p=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=ze({},f,h);break e;case 2:Ln=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ta|=o,e.lanes=o,e.memoizedState=f}}function Ox(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var sc={},Yr=li(sc),cl=li(sc),ul=li(sc);function Mi(e){if(e===sc)throw Error(W(174));return e}function Jv(e,t){switch(Ae(ul,t),Ae(cl,e),Ae(Yr,sc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kp(t,e)}$e(Yr),Ae(Yr,t)}function co(){$e(Yr),$e(cl),$e(ul)}function tO(e){Mi(ul.current);var t=Mi(Yr.current),r=Kp(t,e.type);t!==r&&(Ae(cl,e),Ae(Yr,r))}function Qv(e){cl.current===e&&($e(Yr),$e(cl))}var Le=li(0);function qu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zh=[];function Zv(){for(var e=0;e<zh.length;e++)zh[e]._workInProgressVersionPrimary=null;zh.length=0}var yu=Pn.ReactCurrentDispatcher,Fh=Pn.ReactCurrentBatchConfig,ea=0,Be=null,nt=null,ct=null,Wu=!1,Ls=!1,dl=0,aC=0;function yt(){throw Error(W(321))}function ey(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fr(e[r],t[r]))return!1;return!0}function ty(e,t,r,n,i,a){if(ea=a,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yu.current=e===null||e.memoizedState===null?cC:uC,e=r(n,i),Ls){a=0;do{if(Ls=!1,dl=0,25<=a)throw Error(W(301));a+=1,ct=nt=null,t.updateQueue=null,yu.current=dC,e=r(n,i)}while(Ls)}if(yu.current=Vu,t=nt!==null&&nt.next!==null,ea=0,ct=nt=Be=null,Wu=!1,t)throw Error(W(300));return e}function ry(){var e=dl!==0;return dl=0,e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Be.memoizedState=ct=e:ct=ct.next=e,ct}function _r(){if(nt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=ct===null?Be.memoizedState:ct.next;if(t!==null)ct=t,nt=e;else{if(e===null)throw Error(W(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ct===null?Be.memoizedState=ct=e:ct=ct.next=e}return ct}function fl(e,t){return typeof t=="function"?t(e):t}function qh(e){var t=_r(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=nt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var d=c.lane;if((ea&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Be.lanes|=d,ta|=d}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,Fr(n,t.memoizedState)||(zt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Be.lanes|=a,ta|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wh(e){var t=_r(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Fr(a,t.memoizedState)||(zt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function rO(){}function nO(e,t){var r=Be,n=_r(),i=t(),a=!Fr(n.memoizedState,i);if(a&&(n.memoizedState=i,zt=!0),n=n.queue,ny(oO.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,hl(9,aO.bind(null,r,n,i,t),void 0,null),dt===null)throw Error(W(349));ea&30||iO(r,t,i)}return i}function iO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aO(e,t,r,n){t.value=r,t.getSnapshot=n,sO(t)&&lO(e)}function oO(e,t,r){return r(function(){sO(t)&&lO(e)})}function sO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fr(e,r)}catch{return!0}}function lO(e){var t=Sn(e,1);t!==null&&Ur(t,e,1,-1)}function Ex(e){var t=Vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:e},t.queue=e,e=e.dispatch=lC.bind(null,Be,e),[t.memoizedState,e]}function hl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cO(){return _r().memoizedState}function xu(e,t,r,n){var i=Vr();Be.flags|=e,i.memoizedState=hl(1|t,r,void 0,n===void 0?null:n)}function hf(e,t,r,n){var i=_r();n=n===void 0?null:n;var a=void 0;if(nt!==null){var o=nt.memoizedState;if(a=o.destroy,n!==null&&ey(n,o.deps)){i.memoizedState=hl(t,r,a,n);return}}Be.flags|=e,i.memoizedState=hl(1|t,r,a,n)}function Ax(e,t){return xu(8390656,8,e,t)}function ny(e,t){return hf(2048,8,e,t)}function uO(e,t){return hf(4,2,e,t)}function dO(e,t){return hf(4,4,e,t)}function fO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hO(e,t,r){return r=r!=null?r.concat([e]):null,hf(4,4,fO.bind(null,t,e),r)}function iy(){}function pO(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ey(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mO(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ey(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gO(e,t,r){return ea&21?(Fr(r,t)||(r=wj(),Be.lanes|=r,ta|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=r)}function oC(e,t){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var n=Fh.transition;Fh.transition={};try{e(!1),t()}finally{xe=r,Fh.transition=n}}function vO(){return _r().memoizedState}function sC(e,t,r){var n=ti(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yO(e))xO(t,r);else if(r=Zj(e,t,r,n),r!==null){var i=Ct();Ur(r,e,n,i),bO(r,t,n)}}function lC(e,t,r){var n=ti(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yO(e))xO(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Fr(s,o)){var l=t.interleaved;l===null?(i.next=i,Xv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Zj(e,t,i,n),r!==null&&(i=Ct(),Ur(r,e,n,i),bO(r,t,n))}}function yO(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function xO(e,t){Ls=Wu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Rv(e,r)}}var Vu={readContext:wr,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},cC={readContext:wr,useCallback:function(e,t){return Vr().memoizedState=[e,t===void 0?null:t],e},useContext:wr,useEffect:Ax,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xu(4194308,4,fO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xu(4194308,4,e,t)},useInsertionEffect:function(e,t){return xu(4,2,e,t)},useMemo:function(e,t){var r=Vr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sC.bind(null,Be,e),[n.memoizedState,e]},useRef:function(e){var t=Vr();return e={current:e},t.memoizedState=e},useState:Ex,useDebugValue:iy,useDeferredValue:function(e){return Vr().memoizedState=e},useTransition:function(){var e=Ex(!1),t=e[0];return e=oC.bind(null,e[1]),Vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Be,i=Vr();if(Ie){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),dt===null)throw Error(W(349));ea&30||iO(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ax(oO.bind(null,n,a,e),[e]),n.flags|=2048,hl(9,aO.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Vr(),t=dt.identifierPrefix;if(Ie){var r=un,n=cn;r=(n&~(1<<32-Br(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=dl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uC={readContext:wr,useCallback:pO,useContext:wr,useEffect:ny,useImperativeHandle:hO,useInsertionEffect:uO,useLayoutEffect:dO,useMemo:mO,useReducer:qh,useRef:cO,useState:function(){return qh(fl)},useDebugValue:iy,useDeferredValue:function(e){var t=_r();return gO(t,nt.memoizedState,e)},useTransition:function(){var e=qh(fl)[0],t=_r().memoizedState;return[e,t]},useMutableSource:rO,useSyncExternalStore:nO,useId:vO,unstable_isNewReconciler:!1},dC={readContext:wr,useCallback:pO,useContext:wr,useEffect:ny,useImperativeHandle:hO,useInsertionEffect:uO,useLayoutEffect:dO,useMemo:mO,useReducer:Wh,useRef:cO,useState:function(){return Wh(fl)},useDebugValue:iy,useDeferredValue:function(e){var t=_r();return nt===null?t.memoizedState=e:gO(t,nt.memoizedState,e)},useTransition:function(){var e=Wh(fl)[0],t=_r().memoizedState;return[e,t]},useMutableSource:rO,useSyncExternalStore:nO,useId:vO,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pf={isMounted:function(e){return(e=e._reactInternals)?da(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ct(),i=ti(e),a=mn(n,i);a.payload=t,r!=null&&(a.callback=r),t=Zn(e,a,i),t!==null&&(Ur(t,e,i,n),vu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ct(),i=ti(e),a=mn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Zn(e,a,i),t!==null&&(Ur(t,e,i,n),vu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ct(),n=ti(e),i=mn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Zn(e,i,n),t!==null&&(Ur(t,e,n,r),vu(t,e,n))}};function Px(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!al(r,n)||!al(i,a):!0}function wO(e,t,r){var n=!1,i=oi,a=t.contextType;return typeof a=="object"&&a!==null?a=wr(a):(i=Wt(t)?Qi:Ot.current,n=t.contextTypes,a=(n=n!=null)?oo(e,i):oi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Nx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pf.enqueueReplaceState(t,t.state,null)}function mm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Yv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=wr(a):(a=Wt(t)?Qi:Ot.current,i.context=oo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(pm(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&pf.enqueueReplaceState(i,i.state,null),Fu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uo(e,t){try{var r="",n=t;do r+=BT(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Vh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fC=typeof WeakMap=="function"?WeakMap:Map;function _O(e,t,r){r=mn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ku||(Ku=!0,Em=n),gm(e,t)},r}function SO(e,t,r){r=mn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){gm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){gm(e,t),typeof n!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Tx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fC;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=EC.bind(null,e,t,r),t.then(e,e))}function kx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cx(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mn(-1,1),t.tag=2,Zn(r,t,1))),r.lanes|=1),e)}var hC=Pn.ReactCurrentOwner,zt=!1;function Et(e,t,r,n){t.child=e===null?Qj(t,null,r,n):lo(t,e.child,r,n)}function $x(e,t,r,n,i){r=r.render;var a=t.ref;return Za(t,i),n=ty(e,t,r,n,a,i),r=ry(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jn(e,t,i)):(Ie&&r&&qv(t),t.flags|=1,Et(e,t,n,i),t.child)}function Ix(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!fy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,jO(e,t,a,n,i)):(e=Su(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:al,r(o,n)&&e.ref===t.ref)return jn(e,t,i)}return t.flags|=1,e=ri(a,n),e.ref=t.ref,e.return=t,t.child=e}function jO(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(al(a,n)&&e.ref===t.ref)if(zt=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,jn(e,t,i)}return vm(e,t,r,n,i)}function OO(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Fa,Yt),Yt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Fa,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ae(Fa,Yt),Yt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ae(Fa,Yt),Yt|=n;return Et(e,t,i,r),t.child}function EO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vm(e,t,r,n,i){var a=Wt(r)?Qi:Ot.current;return a=oo(t,a),Za(t,i),r=ty(e,t,r,n,a,i),n=ry(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jn(e,t,i)):(Ie&&n&&qv(t),t.flags|=1,Et(e,t,r,i),t.child)}function Rx(e,t,r,n,i){if(Wt(r)){var a=!0;Du(t)}else a=!1;if(Za(t,i),t.stateNode===null)bu(e,t),wO(t,r,n),mm(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=wr(c):(c=Wt(r)?Qi:Ot.current,c=oo(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Nx(t,o,n,c),Ln=!1;var h=t.memoizedState;o.state=h,Fu(t,n,o,i),l=t.memoizedState,s!==n||h!==l||qt.current||Ln?(typeof d=="function"&&(pm(t,r,d,n),l=t.memoizedState),(s=Ln||Px(t,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,eO(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:kr(t.type,s),o.props=c,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=wr(l):(l=Wt(r)?Qi:Ot.current,l=oo(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Nx(t,o,n,l),Ln=!1,h=t.memoizedState,o.state=h,Fu(t,n,o,i);var y=t.memoizedState;s!==f||h!==y||qt.current||Ln?(typeof p=="function"&&(pm(t,r,p,n),y=t.memoizedState),(c=Ln||Px(t,r,c,n,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ym(e,t,r,n,a,i)}function ym(e,t,r,n,i,a){EO(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&bx(t,r,!1),jn(e,t,a);n=t.stateNode,hC.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=lo(t,e.child,null,a),t.child=lo(t,null,s,a)):Et(e,t,s,a),t.memoizedState=n.state,i&&bx(t,r,!0),t.child}function AO(e){var t=e.stateNode;t.pendingContext?xx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xx(e,t.context,!1),Jv(e,t.containerInfo)}function Mx(e,t,r,n,i){return so(),Vv(i),t.flags|=256,Et(e,t,r,n),t.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function PO(e,t,r){var n=t.pendingProps,i=Le.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ae(Le,i&1),e===null)return fm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=vf(o,n,0,null),e=qi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bm(r),t.memoizedState=xm,e):ay(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pC(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ri(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ri(s,a):(a=qi(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?bm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=xm,n}return a=e.child,e=a.sibling,n=ri(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ay(e,t){return t=vf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dc(e,t,r,n){return n!==null&&Vv(n),lo(t,e.child,null,r),e=ay(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pC(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Vh(Error(W(422))),Dc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=vf({mode:"visible",children:n.children},i,0,null),a=qi(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&lo(t,e.child,null,o),t.child.memoizedState=bm(o),t.memoizedState=xm,a);if(!(t.mode&1))return Dc(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(W(419)),n=Vh(a,n,void 0),Dc(e,t,o,n)}if(s=(o&e.childLanes)!==0,zt||s){if(n=dt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Sn(e,i),Ur(n,e,i,-1))}return dy(),n=Vh(Error(W(421))),Dc(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=AC.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,nr=Qn(i.nextSibling),ar=t,Ie=!0,Dr=null,e!==null&&(pr[mr++]=cn,pr[mr++]=un,pr[mr++]=Zi,cn=e.id,un=e.overflow,Zi=t),t=ay(t,n.children),t.flags|=4096,t)}function Dx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hm(e.return,t,r)}function Hh(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function NO(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Et(e,t,n.children,r),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dx(e,r,t);else if(e.tag===19)Dx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ae(Le,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&qu(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Hh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qu(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Hh(t,!0,r,null,a);break;case"together":Hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ta|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=ri(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ri(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mC(e,t,r){switch(t.tag){case 3:AO(t),so();break;case 5:tO(t);break;case 1:Wt(t.type)&&Du(t);break;case 4:Jv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ae(Uu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ae(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?PO(e,t,r):(Ae(Le,Le.current&1),e=jn(e,t,r),e!==null?e.sibling:null);Ae(Le,Le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return NO(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,OO(e,t,r)}return jn(e,t,r)}var TO,wm,kO,CO;TO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wm=function(){};kO=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Mi(Yr.current);var a=null;switch(r){case"input":i=qp(e,i),n=qp(e,n),a=[];break;case"select":i=ze({},i,{value:void 0}),n=ze({},n,{value:void 0}),a=[];break;case"textarea":i=Hp(e,i),n=Hp(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ru)}Gp(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qs.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};CO=function(e,t,r,n){r!==n&&(t.flags|=4)};function fs(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gC(e,t,r){var n=t.pendingProps;switch(Wv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return Wt(t.type)&&Mu(),xt(t),null;case 3:return n=t.stateNode,co(),$e(qt),$e(Ot),Zv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dr!==null&&(Nm(Dr),Dr=null))),wm(e,t),xt(t),null;case 5:Qv(t);var i=Mi(ul.current);if(r=t.type,e!==null&&t.stateNode!=null)kO(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return xt(t),null}if(e=Mi(Yr.current),Rc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Hr]=t,n[ll]=a,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(i=0;i<As.length;i++)Te(As[i],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":H0(n,a),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Te("invalid",n);break;case"textarea":G0(n,a),Te("invalid",n)}Gp(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Ic(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Ic(n.textContent,s,e),i=["children",""+s]):Qs.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Te("scroll",n)}switch(r){case"input":Ec(n),K0(n,a,!0);break;case"textarea":Ec(n),X0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ru)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Hr]=t,e[ll]=n,TO(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xp(r,n),r){case"dialog":Te("cancel",e),Te("close",e),i=n;break;case"iframe":case"object":case"embed":Te("load",e),i=n;break;case"video":case"audio":for(i=0;i<As.length;i++)Te(As[i],e);i=n;break;case"source":Te("error",e),i=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),i=n;break;case"details":Te("toggle",e),i=n;break;case"input":H0(e,n),i=qp(e,n),Te("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ze({},n,{value:void 0}),Te("invalid",e);break;case"textarea":G0(e,n),i=Hp(e,n),Te("invalid",e);break;default:i=n}Gp(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?cj(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sj(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zs(e,l):typeof l=="number"&&Zs(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qs.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Te("scroll",e):l!=null&&Nv(e,a,l,o))}switch(r){case"input":Ec(e),K0(e,n,!1);break;case"textarea":Ec(e),X0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ai(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Xa(e,!!n.multiple,a,!1):n.defaultValue!=null&&Xa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ru)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xt(t),null;case 6:if(e&&t.stateNode!=null)CO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Mi(ul.current),Mi(Yr.current),Rc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Hr]=t,(a=n.nodeValue!==r)&&(e=ar,e!==null))switch(e.tag){case 3:Ic(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ic(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hr]=t,t.stateNode=n}return xt(t),null;case 13:if($e(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&nr!==null&&t.mode&1&&!(t.flags&128))Yj(),so(),t.flags|=98560,a=!1;else if(a=Rc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Hr]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),a=!1}else Dr!==null&&(Nm(Dr),Dr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?at===0&&(at=3):dy())),t.updateQueue!==null&&(t.flags|=4),xt(t),null);case 4:return co(),wm(e,t),e===null&&ol(t.stateNode.containerInfo),xt(t),null;case 10:return Gv(t.type._context),xt(t),null;case 17:return Wt(t.type)&&Mu(),xt(t),null;case 19:if($e(Le),a=t.memoizedState,a===null)return xt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)fs(a,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qu(e),o!==null){for(t.flags|=128,fs(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ae(Le,Le.current&1|2),t.child}e=e.sibling}a.tail!==null&&He()>fo&&(t.flags|=128,n=!0,fs(a,!1),t.lanes=4194304)}else{if(!n)if(e=qu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ie)return xt(t),null}else 2*He()-a.renderingStartTime>fo&&r!==1073741824&&(t.flags|=128,n=!0,fs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=He(),t.sibling=null,r=Le.current,Ae(Le,n?r&1|2:r&1),t):(xt(t),null);case 22:case 23:return uy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yt&1073741824&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function vC(e,t){switch(Wv(t),t.tag){case 1:return Wt(t.type)&&Mu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return co(),$e(qt),$e(Ot),Zv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qv(t),null;case 13:if($e(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Le),null;case 4:return co(),null;case 10:return Gv(t.type._context),null;case 22:case 23:return uy(),null;case 24:return null;default:return null}}var Lc=!1,_t=!1,yC=typeof WeakSet=="function"?WeakSet:Set,J=null;function za(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){We(e,t,n)}else r.current=null}function _m(e,t,r){try{r()}catch(n){We(e,t,n)}}var Lx=!1;function xC(e,t){if(am=Cu,e=Dj(),Fv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===i&&(s=o),h===a&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(om={focusedElem:e,selectionRange:r},Cu=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:kr(t.type,g),v);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(S){We(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=Lx,Lx=!1,y}function Bs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&_m(t,r,a)}i=i.next}while(i!==n)}}function mf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Sm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $O(e){var t=e.alternate;t!==null&&(e.alternate=null,$O(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[ll],delete t[cm],delete t[tC],delete t[rC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IO(e){return e.tag===5||e.tag===3||e.tag===4}function Bx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ru));else if(n!==4&&(e=e.child,e!==null))for(jm(e,t,r),e=e.sibling;e!==null;)jm(e,t,r),e=e.sibling}function Om(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Om(e,t,r),e=e.sibling;e!==null;)Om(e,t,r),e=e.sibling}var mt=null,$r=!1;function Rn(e,t,r){for(r=r.child;r!==null;)RO(e,t,r),r=r.sibling}function RO(e,t,r){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(sf,r)}catch{}switch(r.tag){case 5:_t||za(r,t);case 6:var n=mt,i=$r;mt=null,Rn(e,t,r),mt=n,$r=i,mt!==null&&($r?(e=mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):mt.removeChild(r.stateNode));break;case 18:mt!==null&&($r?(e=mt,r=r.stateNode,e.nodeType===8?Bh(e.parentNode,r):e.nodeType===1&&Bh(e,r),nl(e)):Bh(mt,r.stateNode));break;case 4:n=mt,i=$r,mt=r.stateNode.containerInfo,$r=!0,Rn(e,t,r),mt=n,$r=i;break;case 0:case 11:case 14:case 15:if(!_t&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&_m(r,t,o),i=i.next}while(i!==n)}Rn(e,t,r);break;case 1:if(!_t&&(za(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){We(r,t,s)}Rn(e,t,r);break;case 21:Rn(e,t,r);break;case 22:r.mode&1?(_t=(n=_t)||r.memoizedState!==null,Rn(e,t,r),_t=n):Rn(e,t,r);break;default:Rn(e,t,r)}}function Ux(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yC),t.forEach(function(n){var i=PC.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ar(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:mt=s.stateNode,$r=!1;break e;case 3:mt=s.stateNode.containerInfo,$r=!0;break e;case 4:mt=s.stateNode.containerInfo,$r=!0;break e}s=s.return}if(mt===null)throw Error(W(160));RO(a,o,i),mt=null,$r=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){We(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)MO(t,e),t=t.sibling}function MO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ar(t,e),Wr(e),n&4){try{Bs(3,e,e.return),mf(3,e)}catch(g){We(e,e.return,g)}try{Bs(5,e,e.return)}catch(g){We(e,e.return,g)}}break;case 1:Ar(t,e),Wr(e),n&512&&r!==null&&za(r,r.return);break;case 5:if(Ar(t,e),Wr(e),n&512&&r!==null&&za(r,r.return),e.flags&32){var i=e.stateNode;try{Zs(i,"")}catch(g){We(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&ij(i,a),Xp(s,o);var c=Xp(s,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?cj(i,f):d==="dangerouslySetInnerHTML"?sj(i,f):d==="children"?Zs(i,f):Nv(i,d,f,c)}switch(s){case"input":Wp(i,a);break;case"textarea":aj(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Xa(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Xa(i,!!a.multiple,a.defaultValue,!0):Xa(i,!!a.multiple,a.multiple?[]:"",!1))}i[ll]=a}catch(g){We(e,e.return,g)}}break;case 6:if(Ar(t,e),Wr(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){We(e,e.return,g)}}break;case 3:if(Ar(t,e),Wr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nl(t.containerInfo)}catch(g){We(e,e.return,g)}break;case 4:Ar(t,e),Wr(e);break;case 13:Ar(t,e),Wr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ly=He())),n&4&&Ux(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_t=(c=_t)||d,Ar(t,e),_t=c):Ar(t,e),Wr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(f=J=d;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:Bs(4,h,h.return);break;case 1:za(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){We(n,r,g)}}break;case 5:za(h,h.return);break;case 22:if(h.memoizedState!==null){Fx(f);continue}}p!==null?(p.return=h,J=p):Fx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=lj("display",o))}catch(g){We(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){We(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ar(t,e),Wr(e),n&4&&Ux(e);break;case 21:break;default:Ar(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(IO(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Zs(i,""),n.flags&=-33);var a=Bx(e);Om(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Bx(e);jm(e,s,o);break;default:throw Error(W(161))}}catch(l){We(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bC(e,t,r){J=e,DO(e)}function DO(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Lc;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||_t;s=Lc;var c=_t;if(Lc=o,(_t=l)&&!c)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?qx(i):l!==null?(l.return=o,J=l):qx(i);for(;a!==null;)J=a,DO(a),a=a.sibling;J=i,Lc=s,_t=c}zx(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,J=a):zx(e)}}function zx(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||mf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_t)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:kr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ox(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ox(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&nl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}_t||t.flags&512&&Sm(t)}catch(h){We(t,t.return,h)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function Fx(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function qx(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mf(4,t)}catch(l){We(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){We(t,i,l)}}var a=t.return;try{Sm(t)}catch(l){We(t,a,l)}break;case 5:var o=t.return;try{Sm(t)}catch(l){We(t,o,l)}}}catch(l){We(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var wC=Math.ceil,Hu=Pn.ReactCurrentDispatcher,oy=Pn.ReactCurrentOwner,br=Pn.ReactCurrentBatchConfig,me=0,dt=null,Xe=null,gt=0,Yt=0,Fa=li(0),at=0,pl=null,ta=0,gf=0,sy=0,Us=null,Bt=null,ly=0,fo=1/0,an=null,Ku=!1,Em=null,ei=null,Bc=!1,Hn=null,Gu=0,zs=0,Am=null,wu=-1,_u=0;function Ct(){return me&6?He():wu!==-1?wu:wu=He()}function ti(e){return e.mode&1?me&2&&gt!==0?gt&-gt:iC.transition!==null?(_u===0&&(_u=wj()),_u):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Pj(e.type)),e):1}function Ur(e,t,r,n){if(50<zs)throw zs=0,Am=null,Error(W(185));ic(e,r,n),(!(me&2)||e!==dt)&&(e===dt&&(!(me&2)&&(gf|=r),at===4&&zn(e,gt)),Vt(e,n),r===1&&me===0&&!(t.mode&1)&&(fo=He()+500,ff&&ci()))}function Vt(e,t){var r=e.callbackNode;ik(e,t);var n=ku(e,e===dt?gt:0);if(n===0)r!==null&&Q0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Q0(r),t===1)e.tag===0?nC(Wx.bind(null,e)):Kj(Wx.bind(null,e)),Zk(function(){!(me&6)&&ci()}),r=null;else{switch(_j(n)){case 1:r=Iv;break;case 4:r=xj;break;case 16:r=Tu;break;case 536870912:r=bj;break;default:r=Tu}r=VO(r,LO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function LO(e,t){if(wu=-1,_u=0,me&6)throw Error(W(327));var r=e.callbackNode;if(eo()&&e.callbackNode!==r)return null;var n=ku(e,e===dt?gt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xu(e,n);else{t=n;var i=me;me|=2;var a=UO();(dt!==e||gt!==t)&&(an=null,fo=He()+500,Fi(e,t));do try{jC();break}catch(s){BO(e,s)}while(!0);Kv(),Hu.current=a,me=i,Xe!==null?t=0:(dt=null,gt=0,t=at)}if(t!==0){if(t===2&&(i=em(e),i!==0&&(n=i,t=Pm(e,i))),t===1)throw r=pl,Fi(e,0),zn(e,n),Vt(e,He()),r;if(t===6)zn(e,n);else{if(i=e.current.alternate,!(n&30)&&!_C(i)&&(t=Xu(e,n),t===2&&(a=em(e),a!==0&&(n=a,t=Pm(e,a))),t===1))throw r=pl,Fi(e,0),zn(e,n),Vt(e,He()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:Ei(e,Bt,an);break;case 3:if(zn(e,n),(n&130023424)===n&&(t=ly+500-He(),10<t)){if(ku(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lm(Ei.bind(null,e,Bt,an),t);break}Ei(e,Bt,an);break;case 4:if(zn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Br(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=He()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wC(n/1960))-n,10<n){e.timeoutHandle=lm(Ei.bind(null,e,Bt,an),n);break}Ei(e,Bt,an);break;case 5:Ei(e,Bt,an);break;default:throw Error(W(329))}}}return Vt(e,He()),e.callbackNode===r?LO.bind(null,e):null}function Pm(e,t){var r=Us;return e.current.memoizedState.isDehydrated&&(Fi(e,t).flags|=256),e=Xu(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&Nm(t)),e}function Nm(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function _C(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Fr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~sy,t&=~gf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Br(t),n=1<<r;e[r]=-1,t&=~n}}function Wx(e){if(me&6)throw Error(W(327));eo();var t=ku(e,0);if(!(t&1))return Vt(e,He()),null;var r=Xu(e,t);if(e.tag!==0&&r===2){var n=em(e);n!==0&&(t=n,r=Pm(e,n))}if(r===1)throw r=pl,Fi(e,0),zn(e,t),Vt(e,He()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ei(e,Bt,an),Vt(e,He()),null}function cy(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(fo=He()+500,ff&&ci())}}function ra(e){Hn!==null&&Hn.tag===0&&!(me&6)&&eo();var t=me;me|=1;var r=br.transition,n=xe;try{if(br.transition=null,xe=1,e)return e()}finally{xe=n,br.transition=r,me=t,!(me&6)&&ci()}}function uy(){Yt=Fa.current,$e(Fa)}function Fi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Qk(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(Wv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mu();break;case 3:co(),$e(qt),$e(Ot),Zv();break;case 5:Qv(n);break;case 4:co();break;case 13:$e(Le);break;case 19:$e(Le);break;case 10:Gv(n.type._context);break;case 22:case 23:uy()}r=r.return}if(dt=e,Xe=e=ri(e.current,null),gt=Yt=t,at=0,pl=null,sy=gf=ta=0,Bt=Us=null,Ri!==null){for(t=0;t<Ri.length;t++)if(r=Ri[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Ri=null}return e}function BO(e,t){do{var r=Xe;try{if(Kv(),yu.current=Vu,Wu){for(var n=Be.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Wu=!1}if(ea=0,ct=nt=Be=null,Ls=!1,dl=0,oy.current=null,r===null||r.return===null){at=1,pl=t,Xe=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=gt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=kx(o);if(p!==null){p.flags&=-257,Cx(p,o,s,a,t),p.mode&1&&Tx(a,c,t),t=p,l=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}else{if(!(t&1)){Tx(a,c,t),dy();break e}l=Error(W(426))}}else if(Ie&&s.mode&1){var v=kx(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Cx(v,o,s,a,t),Vv(uo(l,s));break e}}a=l=uo(l,s),at!==4&&(at=2),Us===null?Us=[a]:Us.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=_O(a,l,t);jx(a,m);break e;case 1:s=l;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ei===null||!ei.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=SO(a,s,t);jx(a,S);break e}}a=a.return}while(a!==null)}FO(r)}catch(w){t=w,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(!0)}function UO(){var e=Hu.current;return Hu.current=Vu,e===null?Vu:e}function dy(){(at===0||at===3||at===2)&&(at=4),dt===null||!(ta&268435455)&&!(gf&268435455)||zn(dt,gt)}function Xu(e,t){var r=me;me|=2;var n=UO();(dt!==e||gt!==t)&&(an=null,Fi(e,t));do try{SC();break}catch(i){BO(e,i)}while(!0);if(Kv(),me=r,Hu.current=n,Xe!==null)throw Error(W(261));return dt=null,gt=0,at}function SC(){for(;Xe!==null;)zO(Xe)}function jC(){for(;Xe!==null&&!XT();)zO(Xe)}function zO(e){var t=WO(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?FO(e):Xe=t,oy.current=null}function FO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vC(r,t),r!==null){r.flags&=32767,Xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,Xe=null;return}}else if(r=gC(r,t,Yt),r!==null){Xe=r;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);at===0&&(at=5)}function Ei(e,t,r){var n=xe,i=br.transition;try{br.transition=null,xe=1,OC(e,t,r,n)}finally{br.transition=i,xe=n}return null}function OC(e,t,r,n){do eo();while(Hn!==null);if(me&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(ak(e,a),e===dt&&(Xe=dt=null,gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bc||(Bc=!0,VO(Tu,function(){return eo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=br.transition,br.transition=null;var o=xe;xe=1;var s=me;me|=4,oy.current=null,xC(e,r),MO(r,e),Vk(om),Cu=!!am,om=am=null,e.current=r,bC(r),YT(),me=s,xe=o,br.transition=a}else e.current=r;if(Bc&&(Bc=!1,Hn=e,Gu=i),a=e.pendingLanes,a===0&&(ei=null),ZT(r.stateNode),Vt(e,He()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Em,Em=null,e;return Gu&1&&e.tag!==0&&eo(),a=e.pendingLanes,a&1?e===Am?zs++:(zs=0,Am=e):zs=0,ci(),null}function eo(){if(Hn!==null){var e=_j(Gu),t=br.transition,r=xe;try{if(br.transition=null,xe=16>e?16:e,Hn===null)var n=!1;else{if(e=Hn,Hn=null,Gu=0,me&6)throw Error(W(331));var i=me;for(me|=4,J=e.current;J!==null;){var a=J,o=a.child;if(J.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(J=c;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Bs(8,d,a)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var h=d.sibling,p=d.return;if($O(d),d===c){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}J=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,J=o;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bs(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,J=m;break e}J=a.return}}var x=e.current;for(J=x;J!==null;){o=J;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,J=b;else e:for(o=x;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:mf(9,s)}}catch(w){We(s,s.return,w)}if(s===o){J=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,J=S;break e}J=s.return}}if(me=i,ci(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(sf,e)}catch{}n=!0}return n}finally{xe=r,br.transition=t}}return!1}function Vx(e,t,r){t=uo(r,t),t=_O(e,t,1),e=Zn(e,t,1),t=Ct(),e!==null&&(ic(e,1,t),Vt(e,t))}function We(e,t,r){if(e.tag===3)Vx(e,e,r);else for(;t!==null;){if(t.tag===3){Vx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ei===null||!ei.has(n))){e=uo(r,e),e=SO(t,e,1),t=Zn(t,e,1),e=Ct(),t!==null&&(ic(t,1,e),Vt(t,e));break}}t=t.return}}function EC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(gt&r)===r&&(at===4||at===3&&(gt&130023424)===gt&&500>He()-ly?Fi(e,0):sy|=r),Vt(e,t)}function qO(e,t){t===0&&(e.mode&1?(t=Nc,Nc<<=1,!(Nc&130023424)&&(Nc=4194304)):t=1);var r=Ct();e=Sn(e,t),e!==null&&(ic(e,t,r),Vt(e,r))}function AC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qO(e,r)}function PC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),qO(e,r)}var WO;WO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)zt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zt=!1,mC(e,t,r);zt=!!(e.flags&131072)}else zt=!1,Ie&&t.flags&1048576&&Gj(t,Bu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bu(e,t),e=t.pendingProps;var i=oo(t,Ot.current);Za(t,r),i=ty(null,t,n,e,i,r);var a=ry();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(n)?(a=!0,Du(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yv(t),i.updater=pf,t.stateNode=i,i._reactInternals=t,mm(t,n,e,r),t=ym(null,t,n,!0,a,r)):(t.tag=0,Ie&&a&&qv(t),Et(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=TC(n),e=kr(n,e),i){case 0:t=vm(null,t,n,e,r);break e;case 1:t=Rx(null,t,n,e,r);break e;case 11:t=$x(null,t,n,e,r);break e;case 14:t=Ix(null,t,n,kr(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),vm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),Rx(e,t,n,i,r);case 3:e:{if(AO(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,eO(e,t),Fu(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=uo(Error(W(423)),t),t=Mx(e,t,n,r,i);break e}else if(n!==i){i=uo(Error(W(424)),t),t=Mx(e,t,n,r,i);break e}else for(nr=Qn(t.stateNode.containerInfo.firstChild),ar=t,Ie=!0,Dr=null,r=Qj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(so(),n===i){t=jn(e,t,r);break e}Et(e,t,n,r)}t=t.child}return t;case 5:return tO(t),e===null&&fm(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,sm(n,i)?o=null:a!==null&&sm(n,a)&&(t.flags|=32),EO(e,t),Et(e,t,o,r),t.child;case 6:return e===null&&fm(t),null;case 13:return PO(e,t,r);case 4:return Jv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lo(t,null,n,r):Et(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),$x(e,t,n,i,r);case 7:return Et(e,t,t.pendingProps,r),t.child;case 8:return Et(e,t,t.pendingProps.children,r),t.child;case 12:return Et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ae(Uu,n._currentValue),n._currentValue=o,a!==null)if(Fr(a.value,o)){if(a.children===i.children&&!qt.current){t=jn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=mn(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),hm(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),hm(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Et(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Za(t,r),i=wr(i),n=n(i),t.flags|=1,Et(e,t,n,r),t.child;case 14:return n=t.type,i=kr(n,t.pendingProps),i=kr(n.type,i),Ix(e,t,n,i,r);case 15:return jO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:kr(n,i),bu(e,t),t.tag=1,Wt(n)?(e=!0,Du(t)):e=!1,Za(t,r),wO(t,n,i),mm(t,n,i,r),ym(null,t,n,!0,e,r);case 19:return NO(e,t,r);case 22:return OO(e,t,r)}throw Error(W(156,t.tag))};function VO(e,t){return yj(e,t)}function NC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(e,t,r,n){return new NC(e,t,r,n)}function fy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TC(e){if(typeof e=="function")return fy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kv)return 11;if(e===Cv)return 14}return 2}function ri(e,t){var r=e.alternate;return r===null?(r=vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Su(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")fy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ca:return qi(r.children,i,a,t);case Tv:o=8,i|=8;break;case Bp:return e=vr(12,r,t,i|2),e.elementType=Bp,e.lanes=a,e;case Up:return e=vr(13,r,t,i),e.elementType=Up,e.lanes=a,e;case zp:return e=vr(19,r,t,i),e.elementType=zp,e.lanes=a,e;case tj:return vf(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZS:o=10;break e;case ej:o=9;break e;case kv:o=11;break e;case Cv:o=14;break e;case Dn:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=vr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function qi(e,t,r,n){return e=vr(7,e,n,t),e.lanes=r,e}function vf(e,t,r,n){return e=vr(22,e,n,t),e.elementType=tj,e.lanes=r,e.stateNode={isHidden:!1},e}function Kh(e,t,r){return e=vr(6,e,null,t),e.lanes=r,e}function Gh(e,t,r){return t=vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kC(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ph(0),this.expirationTimes=Ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hy(e,t,r,n,i,a,o,s,l){return e=new kC(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=vr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(a),e}function CC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function HO(e){if(!e)return oi;e=e._reactInternals;e:{if(da(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Wt(r))return Hj(e,r,t)}return t}function KO(e,t,r,n,i,a,o,s,l){return e=hy(r,n,!0,e,i,a,o,s,l),e.context=HO(null),r=e.current,n=Ct(),i=ti(r),a=mn(n,i),a.callback=t??null,Zn(r,a,i),e.current.lanes=i,ic(e,i,n),Vt(e,n),e}function yf(e,t,r,n){var i=t.current,a=Ct(),o=ti(i);return r=HO(r),t.context===null?t.context=r:t.pendingContext=r,t=mn(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zn(i,t,o),e!==null&&(Ur(e,i,o,a),vu(e,i,o)),o}function Yu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function py(e,t){Hx(e,t),(e=e.alternate)&&Hx(e,t)}function $C(){return null}var GO=typeof reportError=="function"?reportError:function(e){console.error(e)};function my(e){this._internalRoot=e}xf.prototype.render=my.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));yf(e,t,null,null)};xf.prototype.unmount=my.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ra(function(){yf(null,e,null,null)}),t[_n]=null}};function xf(e){this._internalRoot=e}xf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Un.length&&t!==0&&t<Un[r].priority;r++);Un.splice(r,0,e),r===0&&Aj(e)}};function gy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kx(){}function IC(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Yu(o);a.call(c)}}var o=KO(t,n,e,0,null,!1,!1,"",Kx);return e._reactRootContainer=o,e[_n]=o.current,ol(e.nodeType===8?e.parentNode:e),ra(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Yu(l);s.call(c)}}var l=hy(e,0,!1,null,null,!1,!1,"",Kx);return e._reactRootContainer=l,e[_n]=l.current,ol(e.nodeType===8?e.parentNode:e),ra(function(){yf(t,l,r,n)}),l}function wf(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Yu(o);s.call(l)}}yf(t,o,e,i)}else o=IC(r,t,e,i,n);return Yu(o)}Sj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Es(t.pendingLanes);r!==0&&(Rv(t,r|1),Vt(t,He()),!(me&6)&&(fo=He()+500,ci()))}break;case 13:ra(function(){var n=Sn(e,1);if(n!==null){var i=Ct();Ur(n,e,1,i)}}),py(e,1)}};Mv=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var r=Ct();Ur(t,e,134217728,r)}py(e,134217728)}};jj=function(e){if(e.tag===13){var t=ti(e),r=Sn(e,t);if(r!==null){var n=Ct();Ur(r,e,t,n)}py(e,t)}};Oj=function(){return xe};Ej=function(e,t){var r=xe;try{return xe=e,t()}finally{xe=r}};Jp=function(e,t,r){switch(t){case"input":if(Wp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=df(n);if(!i)throw Error(W(90));nj(n),Wp(n,i)}}}break;case"textarea":aj(e,r);break;case"select":t=r.value,t!=null&&Xa(e,!!r.multiple,t,!1)}};fj=cy;hj=ra;var RC={usingClientEntryPoint:!1,Events:[oc,Ma,df,uj,dj,cy]},hs={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MC={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gj(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||$C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{sf=Uc.inject(MC),Xr=Uc}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RC;cr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(t))throw Error(W(200));return CC(e,t,null,r)};cr.createRoot=function(e,t){if(!gy(e))throw Error(W(299));var r=!1,n="",i=GO;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hy(e,1,!1,null,null,r,!1,n,i),e[_n]=t.current,ol(e.nodeType===8?e.parentNode:e),new my(t)};cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=gj(t),e=e===null?null:e.stateNode,e};cr.flushSync=function(e){return ra(e)};cr.hydrate=function(e,t,r){if(!bf(t))throw Error(W(200));return wf(null,e,t,!0,r)};cr.hydrateRoot=function(e,t,r){if(!gy(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=GO;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=KO(t,null,e,1,r??null,i,!1,a,o),e[_n]=t.current,ol(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new xf(t)};cr.render=function(e,t,r){if(!bf(t))throw Error(W(200));return wf(null,e,t,!1,r)};cr.unmountComponentAtNode=function(e){if(!bf(e))throw Error(W(40));return e._reactRootContainer?(ra(function(){wf(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};cr.unstable_batchedUpdates=cy;cr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bf(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return wf(e,t,r,!1,n)};cr.version="18.3.1-next-f1338f8080-20240426";function XO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XO)}catch(e){console.error(e)}}XO(),XS.exports=cr;var DC=XS.exports,Gx=DC;Dp.createRoot=Gx.createRoot,Dp.hydrateRoot=Gx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ml.apply(this,arguments)}var Kn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kn||(Kn={}));const Xx="popstate";function LC(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return Tm("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:JO(i)}return UC(t,r,null,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YO(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BC(){return Math.random().toString(36).substr(2,8)}function Yx(e,t){return{usr:e.state,key:e.key,idx:t}}function Tm(e,t,r,n){return r===void 0&&(r=null),ml({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qo(t):t,{state:r,key:t&&t.key||n||BC()})}function JO(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function UC(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Kn.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ml({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Kn.Pop;let v=d(),m=v==null?null:v-c;c=v,l&&l({action:s,location:g.location,delta:m})}function h(v,m){s=Kn.Push;let x=Tm(g.location,v,m);c=d()+1;let b=Yx(x,c),S=g.createHref(x);try{o.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(v,m){s=Kn.Replace;let x=Tm(g.location,v,m);c=d();let b=Yx(x,c),S=g.createHref(x);o.replaceState(b,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function y(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:JO(v);return x=x.replace(/ $/,"%20"),Ye(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let g={get action(){return s},get location(){return e(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Xx,f),l=v,()=>{i.removeEventListener(Xx,f),l=null}},createHref(v){return t(i,v)},createURL:y,encodeLocation(v){let m=y(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var Jx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jx||(Jx={}));function zC(e,t,r){return r===void 0&&(r="/"),FC(e,t,r)}function FC(e,t,r,n){let i=typeof t=="string"?qo(t):t,a=eE(i.pathname||"/",r);if(a==null)return null;let o=QO(e);qC(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=t$(a);s=QC(o[l],c)}return s}function QO(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Ye(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Wi([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(Ye(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QO(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:YC(c,a.index),routesMeta:d})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of ZO(a.path))i(a,o,l)}),t}function ZO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=ZO(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function qC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:JC(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const WC=/^:[\w-]+$/,VC=3,HC=2,KC=1,GC=10,XC=-2,Qx=e=>e==="*";function YC(e,t){let r=e.split("/"),n=r.length;return r.some(Qx)&&(n+=XC),t&&(n+=HC),r.filter(i=>!Qx(i)).reduce((i,a)=>i+(WC.test(a)?VC:a===""?KC:GC),n)}function JC(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function QC(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=ZC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Wi([a,f.pathname]),pathnameBase:a$(Wi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Wi([a,f.pathnameBase]))}return o}function ZC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e$(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=s[f];return p&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function e$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),YO(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function t$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return YO(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function eE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function r$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?qo(e):e;return{pathname:r?r.startsWith("/")?r:n$(r,t):t,search:o$(n),hash:s$(i)}}function n$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Xh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tE(e,t){let r=i$(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rE(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=qo(e):(i=ml({},e),Ye(!i.pathname||!i.pathname.includes("?"),Xh("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),Xh("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),Xh("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=r$(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Wi=e=>e.join("/").replace(/\/\/+/g,"/"),a$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nE=["post","put","patch","delete"];new Set(nE);const c$=["get",...nE];new Set(c$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gl.apply(this,arguments)}const vy=O.createContext(null),u$=O.createContext(null),lc=O.createContext(null),_f=O.createContext(null),fa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),iE=O.createContext(null);function cc(){return O.useContext(_f)!=null}function yy(){return cc()||Ye(!1),O.useContext(_f).location}function aE(e){O.useContext(lc).static||O.useLayoutEffect(e)}function d$(){let{isDataRoute:e}=O.useContext(fa);return e?j$():f$()}function f$(){cc()||Ye(!1);let e=O.useContext(vy),{basename:t,future:r,navigator:n}=O.useContext(lc),{matches:i}=O.useContext(fa),{pathname:a}=yy(),o=JSON.stringify(tE(i,r.v7_relativeSplatPath)),s=O.useRef(!1);return aE(()=>{s.current=!0}),O.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=rE(c,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Wi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}function h$(e,t){return p$(e,t)}function p$(e,t,r,n){cc()||Ye(!1);let{navigator:i}=O.useContext(lc),{matches:a}=O.useContext(fa),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yy(),d;if(t){var f;let v=typeof t=="string"?qo(t):t;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Ye(!1),d=v}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=zC(e,{pathname:p}),g=x$(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Wi([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Wi([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&g?O.createElement(_f.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Kn.Pop}},g):g}function m$(){let e=S$(),t=l$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:i},r):null,null)}const g$=O.createElement(m$,null);class v$ extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(fa.Provider,{value:this.props.routeContext},O.createElement(iE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y$(e){let{routeContext:t,match:r,children:n}=e,i=O.useContext(vy);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(fa.Provider,{value:t},n)}function x$(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(i=r)==null?void 0:i.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,y=!1,g=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||g$,l&&(c<0&&h===0?(O$("route-fallback"),y=!0,v=null):c===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),x=()=>{let b;return p?b=g:y?b=v:f.route.Component?b=O.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,O.createElement(y$,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?O.createElement(v$,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var oE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oE||{}),sE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sE||{});function b$(e){let t=O.useContext(vy);return t||Ye(!1),t}function w$(e){let t=O.useContext(u$);return t||Ye(!1),t}function _$(e){let t=O.useContext(fa);return t||Ye(!1),t}function lE(e){let t=_$(),r=t.matches[t.matches.length-1];return r.route.id||Ye(!1),r.route.id}function S$(){var e;let t=O.useContext(iE),r=w$(),n=lE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function j$(){let{router:e}=b$(oE.UseNavigateStable),t=lE(sE.UseNavigateStable),r=O.useRef(!1);return aE(()=>{r.current=!0}),O.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,gl({fromRouteId:t},a)))},[e,t])}const Zx={};function O$(e,t,r){Zx[e]||(Zx[e]=!0)}function E$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cE(e){let{to:t,replace:r,state:n,relative:i}=e;cc()||Ye(!1);let{future:a,static:o}=O.useContext(lc),{matches:s}=O.useContext(fa),{pathname:l}=yy(),c=d$(),d=rE(t,tE(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return O.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function km(e){Ye(!1)}function A$(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Kn.Pop,navigator:a,static:o=!1,future:s}=e;cc()&&Ye(!1);let l=t.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:a,static:o,future:gl({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=qo(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,g=O.useMemo(()=>{let v=eE(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:y},navigationType:i}},[l,d,f,h,p,y,i]);return g==null?null:O.createElement(lc.Provider,{value:c},O.createElement(_f.Provider,{children:r,value:g}))}function P$(e){let{children:t,location:r}=e;return h$(Cm(t),r)}new Promise(()=>{});function Cm(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,i)=>{if(!O.isValidElement(n))return;let a=[...t,i];if(n.type===O.Fragment){r.push.apply(r,Cm(n.props.children,a));return}n.type!==km&&Ye(!1),!n.props.index||!n.props.children||Ye(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Cm(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const N$="6";try{window.__reactRouterVersion=N$}catch{}const T$="startTransition",eb=ET[T$];function k$(e){let{basename:t,children:r,future:n,window:i}=e,a=O.useRef();a.current==null&&(a.current=LC({window:i,v5Compat:!0}));let o=a.current,[s,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=O.useCallback(f=>{c&&eb?eb(()=>l(f)):l(f)},[l,c]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.useEffect(()=>E$(n),[n]),O.createElement(A$,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}var tb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tb||(tb={}));var rb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rb||(rb={}));var $m=function(e,t){return $m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$m(e,t)};function uE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$m(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ju=function(){return Ju=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ju.apply(this,arguments)};function Wo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function dE(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function fE(e,t){return function(r,n){t(r,n,e)}}function hE(e,t,r,n,i,a){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var y={};for(var g in n)y[g]=g==="access"?{}:n[g];for(var g in n.access)y.access[g]=n.access[g];y.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(m||null))};var v=(0,r[p])(s==="accessor"?{get:d.get,set:d.set}:d[l],y);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=o(v.get))&&(d.get=f),(f=o(v.set))&&(d.set=f),(f=o(v.init))&&i.unshift(f)}else(f=o(v))&&(s==="field"?i.unshift(f):d[l]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function pE(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function mE(e){return typeof e=="symbol"?e:"".concat(e)}function gE(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function vE(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Z(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function yE(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Sf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function xE(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Sf(t,e,r)}function Qu(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function bE(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xy(arguments[t]));return e}function wE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function _E(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function ho(e){return this instanceof ho?(this.v=e,this):new ho(e)}function SE(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function s(p,y){n[p]&&(i[p]=function(g){return new Promise(function(v,m){a.push([p,g,v,m])>1||l(p,g)})},y&&(i[p]=y(i[p])))}function l(p,y){try{c(n[p](y))}catch(g){h(a[0][3],g)}}function c(p){p.value instanceof ho?Promise.resolve(p.value.v).then(d,f):h(a[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,y){p(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function jE(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:ho(e[i](o)),done:!1}:a?a(o):o}:a}}function OE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Qu=="function"?Qu(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function EE(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C$=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Im=function(e){return Im=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Im(e)};function AE(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Im(e),n=0;n<r.length;n++)r[n]!=="default"&&Sf(t,e,r[n]);return C$(t,e),t}function PE(e){return e&&e.__esModule?e:{default:e}}function NE(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function TE(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function kE(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function CE(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var $$=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function $E(e){function t(a){e.error=e.hasError?new $$(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function IE(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const I$={__extends:uE,__assign:Ju,__rest:Wo,__decorate:dE,__param:fE,__esDecorate:hE,__runInitializers:pE,__propKey:mE,__setFunctionName:gE,__metadata:vE,__awaiter:Z,__generator:yE,__createBinding:Sf,__exportStar:xE,__values:Qu,__read:xy,__spread:bE,__spreadArrays:wE,__spreadArray:_E,__await:ho,__asyncGenerator:SE,__asyncDelegator:jE,__asyncValues:OE,__makeTemplateObject:EE,__importStar:AE,__importDefault:PE,__classPrivateFieldGet:NE,__classPrivateFieldSet:TE,__classPrivateFieldIn:kE,__addDisposableResource:CE,__disposeResources:$E,__rewriteRelativeImportExtension:IE},R$=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:CE,get __assign(){return Ju},__asyncDelegator:jE,__asyncGenerator:SE,__asyncValues:OE,__await:ho,__awaiter:Z,__classPrivateFieldGet:NE,__classPrivateFieldIn:kE,__classPrivateFieldSet:TE,__createBinding:Sf,__decorate:dE,__disposeResources:$E,__esDecorate:hE,__exportStar:xE,__extends:uE,__generator:yE,__importDefault:PE,__importStar:AE,__makeTemplateObject:EE,__metadata:vE,__param:fE,__propKey:mE,__read:xy,__rest:Wo,__rewriteRelativeImportExtension:IE,__runInitializers:pE,__setFunctionName:gE,__spread:bE,__spreadArray:_E,__spreadArrays:wE,__values:Qu,default:I$},Symbol.toStringTag,{value:"Module"})),M$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class by extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nb extends by{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ib extends by{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ab extends by{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rm||(Rm={}));class D${constructor(t,{headers:r={},customFetch:n,region:i=Rm.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=M$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Z(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:o,body:s,signal:l}=n;let c={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(c["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(c["Content-Type"]="application/json",h=JSON.stringify(s)):h=s;const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h,signal:l}).catch(m=>{throw m.name==="AbortError"?m:new nb(m)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new ib(p);if(!p.ok)throw new ab(p);let g=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield p.json():g==="application/octet-stream"||g==="application/pdf"?v=yield p.blob():g==="text/event-stream"?v=p:g==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new nb(a)}:{data:null,error:a,response:a instanceof ab||a instanceof ib?a.context:void 0}}})}}var At={};const Vo=uT(R$);var zc={},Fc={},qc={},Wc={},Vc={},Hc={},ob;function RE(){if(ob)return Hc;ob=1,Object.defineProperty(Hc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Hc.default=e,Hc}var sb;function ME(){if(sb)return Vc;sb=1,Object.defineProperty(Vc,"__esModule",{value:!0});const t=Vo.__importDefault(RE());class r{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,h;let p=null,y=null,g=null,v=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=w:y=JSON.parse(w))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&S&&S.length>1&&(g=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,v=406,m="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const b=await l.text();try{p=JSON.parse(b),Array.isArray(p)&&l.status===404&&(y=[],p=null,v=200,m="OK")}catch{l.status===404&&b===""?(v=204,m="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,m="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:y,count:g,status:v,statusText:m}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,d,f;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}}return Vc.default=r,Vc}var lb;function DE(){if(lb)return Wc;lb=1,Object.defineProperty(Wc,"__esModule",{value:!0});const t=Vo.__importDefault(ME());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Wc.default=r,Wc}var cb;function wy(){if(cb)return qc;cb=1,Object.defineProperty(qc,"__esModule",{value:!0});const t=Vo.__importDefault(DE()),r=new RegExp("[,()]");class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}}return qc.default=n,qc}var ub;function LE(){if(ub)return Fc;ub=1,Object.defineProperty(Fc,"__esModule",{value:!0});const t=Vo.__importDefault(wy());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Fc.default=r,Fc}var db;function L$(){if(db)return zc;db=1,Object.defineProperty(zc,"__esModule",{value:!0});const e=Vo,t=e.__importDefault(LE()),r=e.__importDefault(wy());class n{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{h.searchParams.append(g,v)})):(f="POST",p=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return zc.default=n,zc}Object.defineProperty(At,"__esModule",{value:!0});var BE=At.PostgrestError=XE=At.PostgrestBuilder=KE=At.PostgrestTransformBuilder=VE=At.PostgrestFilterBuilder=qE=At.PostgrestQueryBuilder=zE=At.PostgrestClient=void 0;const Ho=Vo,UE=Ho.__importDefault(L$());var zE=At.PostgrestClient=UE.default;const FE=Ho.__importDefault(LE());var qE=At.PostgrestQueryBuilder=FE.default;const WE=Ho.__importDefault(wy());var VE=At.PostgrestFilterBuilder=WE.default;const HE=Ho.__importDefault(DE());var KE=At.PostgrestTransformBuilder=HE.default;const GE=Ho.__importDefault(ME());var XE=At.PostgrestBuilder=GE.default;const YE=Ho.__importDefault(RE());BE=At.PostgrestError=YE.default;var JE=At.default={PostgrestClient:UE.default,PostgrestQueryBuilder:FE.default,PostgrestFilterBuilder:WE.default,PostgrestTransformBuilder:HE.default,PostgrestBuilder:GE.default,PostgrestError:YE.default};const B$=DS({__proto__:null,get PostgrestBuilder(){return XE},get PostgrestClient(){return zE},get PostgrestError(){return BE},get PostgrestFilterBuilder(){return VE},get PostgrestQueryBuilder(){return qE},get PostgrestTransformBuilder(){return KE},default:JE},[At]),{PostgrestClient:U$,PostgrestQueryBuilder:Aie,PostgrestFilterBuilder:Pie,PostgrestTransformBuilder:Nie,PostgrestBuilder:Tie,PostgrestError:kie}=JE||B$;class z${static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const F$="2.80.0",q$=`realtime-js/${F$}`,W$="1.0.0",Mm=1e4,V$=1e3,H$=100;var Fs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fs||(Fs={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Ir;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ir||(Ir={}));var Dm;(function(e){e.websocket="websocket"})(Dm||(Dm={}));var ki;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ki||(ki={}));class K${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+a));o=o+a;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class QE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const fb=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=G$(o,e,t,i),a),{}):{}},G$=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?ZE(a,o):Lm(o)},ZE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Q$(t,r)}switch(e){case je.bool:return X$(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return Y$(t);case je.json:case je.jsonb:return J$(t);case je.timestamp:return Z$(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Lm(t);default:return Lm(t)}},Lm=e=>e,X$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Y$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},J$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Q$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>ZE(t,s))}return e},Z$=e=>typeof e=="string"?e.replace(" ","T"):e,eA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Yh{constructor(t,r,n={},i=Mm){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hb||(hb={}));class qs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qs.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=qs.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qs.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=a[c];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(s[c]=y),g.length>0&&(l[c]=g)}else s[c]=d}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const d=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pb||(pb={}));var Ws;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ws||(Ws={}));var on;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(on||(on={}));class _y{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yh(this,Ir.join,this.params,this.timeout),this.rejoinTimer=new QE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ir.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new qs(this),this.broadcastEndpointURL=eA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ws.PRESENCE]&&this.bindings[Ws.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(on.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(on.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t==null||t(on.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,m=[];for(let x=0;x<v;x++){const b=g[x],{filter:{event:S,schema:w,table:_,filter:j}}=b,E=p&&p[x];if(E&&E.event===S&&E.schema===w&&E.table===_&&E.filter===j)m.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(on.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(on.SUBSCRIBED);return}}).receive("error",p=>{this.state=rt.errored,t==null||t(on.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(on.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rt.joined&&t===Ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ir.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Yh(this,Ir.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yh(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>H$){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=Ir;if(n&&[s,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,g,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var y,g,v,m,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,w=(y=p.filter)===null||y===void 0?void 0:y.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(x=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:v,commit_timestamp:m,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:m,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&_y.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ir.close,{},t)}_onError(t){this._on(Ir.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fb(t.columns,t.old_record)),r}}const Jh=()=>{},Kc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eI=[1e3,2e3,5e3,1e4],tI=1e4,rI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mm,this.transport=null,this.heartbeatIntervalMs=Kc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jh,this.ref=0,this.reconnectTimer=null,this.logger=Jh,this.conn=null,this.sendBuffer=[],this.serializer=new K$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Dm.websocket}`,this.httpEndpoint=eA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=z$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W$}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fs.connecting:return ki.Connecting;case Fs.open:return ki.Open;case Fs.closing:return ki.Closing;default:return ki.Closed}}isConnected(){return this.connectionState()===ki.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new _y(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(V$,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ir.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([rI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:q$};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ir.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new QE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Mm,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Kc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Jh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>eI[f-1]||tI,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Sy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iI extends Sy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bm extends Sy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const jy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aI=()=>Response,Um=e=>{if(Array.isArray(e))return e.map(r=>Um(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Um(n)}),t},oI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},sI=(e,t,r)=>Z(void 0,void 0,void 0,function*(){const n=yield aI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new iI(Qh(i),a,o))}).catch(i=>{t(new Bm(Qh(i),i))}):t(new Bm(Qh(e),e))}),lI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(oI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function uc(e,t,r,n,i,a){return Z(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,lI(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sI(l,s,n))})})}function vl(e,t,r,n){return Z(this,void 0,void 0,function*(){return uc(e,"GET",t,r,n)})}function Cr(e,t,r,n,i){return Z(this,void 0,void 0,function*(){return uc(e,"POST",t,n,i,r)})}function zm(e,t,r,n,i){return Z(this,void 0,void 0,function*(){return uc(e,"PUT",t,n,i,r)})}function cI(e,t,r,n){return Z(this,void 0,void 0,function*(){return uc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Oy(e,t,r,n,i){return Z(this,void 0,void 0,function*(){return uc(e,"DELETE",t,n,i,r)})}class uI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}}var tA;class dI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[tA]="BlobDownloadBuilder",this.promise=null}asStream(){return new uI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}}tA=Symbol.toStringTag;const fI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hI{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=jy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Z(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},mb),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?zm:Cr)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Me(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Z(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:mb.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield zm(this.fetch,s.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Z(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Cr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Sy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}update(t,r,n){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Z(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield Cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Z(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Cr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Z(this,void 0,void 0,function*(){try{const i=yield Cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>vl(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new dI(l,this.shouldThrowOnError)}info(t){return Z(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Um(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}exists(t){return Z(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield cI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n)&&n instanceof Bm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}list(t,r,n){return Z(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fI),r),{prefix:t||""});return{data:yield Cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}listV2(t,r){return Z(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const rA="2.80.0",nA={"X-Client-Info":`storage-js/${rA}`};class pI{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nA),r),this.fetch=jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield vl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}createBucket(t){return Z(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Z(this,void 0,void 0,function*(){try{return{data:yield zm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class mI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nA),r),this.fetch=jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listBuckets(t){return Z(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield vl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}}const Ey={"X-Client-Info":`storage-js/${rA}`,"Content-Type":"application/json"};class iA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function er(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Zh extends iA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gI extends iA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var gb;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gb||(gb={}));const Ay=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yI=(e,t,r)=>Z(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Zh(vb(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Zh(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Zh(s,i,o))}}else t(new gI(vb(e),e))}),xI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(vI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function bI(e,t,r,n,i,a){return Z(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,xI(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>yI(l,s,n))})})}function tr(e,t,r,n,i){return Z(this,void 0,void 0,function*(){return bI(e,"POST",t,n,i,r)})}class wI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ey),r),this.fetch=Ay(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Z(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}listIndexes(t){return Z(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Z(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}}class _I{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ey),r),this.fetch=Ay(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}listVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield tr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}queryVectors(t){return Z(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Z(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}}class SI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ey),r),this.fetch=Ay(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}listBuckets(){return Z(this,arguments,void 0,function*(t={}){try{return{data:yield tr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Z(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}}class jI extends SI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new OI(this.url,this.headers,t,this.fetch)}}class OI extends wI{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new EI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class EI extends _I{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class AI extends pI{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new hI(this.url,this.headers,t,this.fetch)}get vectors(){return new jI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mI(this.url+"/iceberg",this.headers,this.fetch)}}const PI="2.80.0";let Ps="";typeof Deno<"u"?Ps="deno":typeof document<"u"?Ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ps="react-native":Ps="node";const NI={"X-Client-Info":`supabase-js-${Ps}/${PI}`},TI={headers:NI},kI={schema:"public"},CI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$I={},II=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RI=()=>Headers,MI=(e,t,r)=>{const n=II(r),i=RI();return async(a,o)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:c}))}};function DI(e){return e.endsWith("/")?e:e+"/"}function LI(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function BI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const aA="2.80.0",Na=30*1e3,Fm=3,ep=Fm*Na,UI="http://localhost:9999",zI="supabase.auth.token",FI={"X-Client-Info":`gotrue-js/${aA}`},qm="X-Supabase-Api-Version",oA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WI=10*60*1e3;class yl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class VI extends yl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function HI(e){return ee(e)&&e.name==="AuthApiError"}class Ci extends yl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ui extends yl{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Nr extends ui{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KI(e){return ee(e)&&e.name==="AuthSessionMissingError"}class ba extends ui{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gc extends ui{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xc extends ui{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GI(e){return ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class yb extends ui{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wm extends ui{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function tp(e){return ee(e)&&e.name==="AuthRetryableFetchError"}class xb extends ui{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Vm extends ui{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bb=` 	
\r=`.split(""),XI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bb.length;t+=1)e[bb[t].charCodeAt(0)]=-2;for(let t=0;t<Zu.length;t+=1)e[Zu[t].charCodeAt(0)]=t;return e})();function wb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zu[n]),t.queuedBits-=6}}function sA(e,t,r){const n=XI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _b(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{QI(o,n,r)};for(let o=0;o<e.length;o+=1)sA(e.charCodeAt(o),i,a);return t.join("")}function YI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function JI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}YI(n,t)}}function QI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function to(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)sA(e.charCodeAt(i),r,n);return new Uint8Array(t)}function ZI(e){const t=[];return JI(e,r=>t.push(r)),new Uint8Array(t)}function Di(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>wb(i,r,n)),wb(null,r,n),t.join("")}function eR(e){return Math.round(Date.now()/1e3)+e}function tR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",bi={tested:!1,writable:!1},lA=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bi.tested)return bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bi.tested=!0,bi.writable=!0}catch{bi.tested=!0,bi.writable=!1}return bi.writable};function rR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const cA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ta=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},wi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mn=async(e,t)=>{await e.removeItem(t)};class jf{constructor(){this.promise=new jf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}jf.promiseConstructor=Promise;function rp(e){const t=e.split(".");if(t.length!==3)throw new Vm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!qI.test(t[n]))throw new Vm("JWT not in base64url format");return{header:JSON.parse(_b(t[0])),payload:JSON.parse(_b(t[1])),signature:to(t[2]),raw:{header:t[0],payload:t[1]}}}async function iR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aR(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function oR(e){return("0"+e.toString(16)).substr(-2)}function sR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,oR).join("")}async function lR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function cR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await lR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wa(e,t,r=!1){const n=sR();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ta(e,`${t}-code-verifier`,i);const a=await cR(n);return[a,n===a?"plain":"s256"]}const uR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dR(e){const t=e.headers.get(qm);if(!t||!t.match(uR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _a(e){if(!pR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function np(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mR(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Sb(e){return JSON.parse(JSON.stringify(e))}const Ai=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gR=[502,503,504];async function jb(e){var t;if(!nR(e))throw new Wm(Ai(e),0);if(gR.includes(e.status))throw new Wm(Ai(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ci(Ai(a),a)}let n;const i=dR(e);if(i&&i.getTime()>=oA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xb(Ai(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Nr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new xb(Ai(r),e.status,r.weak_password.reasons);throw new VI(Ai(r),e.status||500,n)}const vR=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ne(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[qm]||(a[qm]=oA["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await yR(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function yR(e,t,r,n,i,a){const o=vR(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Wm(Ai(l),0)}if(s.ok||await jb(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await jb(l)}}function Tr(e){var t;let r=null;wR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=eR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ob(e){const t=Tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xR(e){return{data:e,error:null}}function bR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=Wo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function Eb(e){return e}function wR(e){return e.access_token&&e.refresh_token&&e.expires_in}const ip=["global","local","others"];class _R{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ip[0]){if(ip.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ip.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fn})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Wo(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Eb});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ee(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){_a(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_a(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fn})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_a(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fn})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_a(t.userId);try{const{data:r,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_a(t.userId),_a(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Eb});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ee(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}}function Ab(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Sa={debug:!!(globalThis&&lA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SR extends uA{}async function jR(e,t,r){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new SR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function OR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ER(e){return parseInt(e,16)}function AR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function PR(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=dA(e.address),y=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${g}`;let m=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(m+=`
Expiration Time: ${i.toISOString()}`),s&&(m+=`
Not Before: ${s.toISOString()}`),l&&(m+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}m+=x}return`${v}
${m}`}class Ge extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ed extends Ge{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function NR({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(fA(o)){if(a.rp.id!==o)return new Ge({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function TR({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fA(n)){if(r.rpId!==n)return new Ge({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kR{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const CR=new kR;function $R(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Wo(e,["challenge","user","excludeCredentials"]),a=to(t).buffer,o=Object.assign(Object.assign({},r),{id:to(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:to(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function IR(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Wo(e,["challenge","allowCredentials"]),i=to(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:to(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function RR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Di(new Uint8Array(e.response.attestationObject)),clientDataJSON:Di(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function MR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Di(new Uint8Array(i.authenticatorData)),clientDataJSON:Di(new Uint8Array(i.clientDataJSON)),signature:Di(new Uint8Array(i.signature)),userHandle:i.userHandle?Di(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Pb(){var e,t;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function DR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ed("Browser returned unexpected credential type",t)}:{data:null,error:new ed("Empty credential response",t)}}catch(t){return{data:null,error:NR({error:t,options:e})}}}async function LR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ed("Browser returned unexpected credential type",t)}:{data:null,error:new ed("Empty credential response",t)}}catch(t){return{data:null,error:TR({error:t,options:e})}}}const BR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UR={userVerification:"preferred",hints:["security-key"]};function td(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=td(s,o):n[a]=td(o)}else n[a]=o}return n}function zR(e,t){return td(BR,e,t||{})}function FR(e,t){return td(UR,e,t||{})}class qR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=i??CR.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=zR(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await DR({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=FR(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await LR(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ee(o)?{data:null,error:o}:{data:null,error:new Ci("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new yl("rpId is required for WebAuthn authentication")};try{if(!Pb())return{data:null,error:new Ci("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ee(o)?{data:null,error:o}:{data:null,error:new Ci("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new yl("rpId is required for WebAuthn registration")};try{if(!Pb())return{data:null,error:new Ci("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ee(o)?{data:null,error:o}:{data:null,error:new Ci("Unexpected error in register",o)}}}}OR();const WR={url:UI,storageKey:zI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Nb(e,t,r){return await r()}const ja={};class xl{get jwks(){var t,r;return(r=(t=ja[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ja[this.storageKey]=Object.assign(Object.assign({},ja[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ja[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ja[this.storageKey]=Object.assign(Object.assign({},ja[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},WR),t);if(this.storageKey=a.storageKey,this.instanceID=(r=xl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,xl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&bt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new _R({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=cA(a.fetch),this.lock=a.lock||Nb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:bt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jR:this.lock=Nb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:lA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ab(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ab(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${aA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(bt()&&(r=rR(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),bt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),GI(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?this._returnResult({error:r}):this._returnResult({error:new Ci("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tr}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await wa(this.storage,this.storageKey)),a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Tr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tr})}else throw new Gc("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ob})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ob})}else throw new Gc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new ba;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,c,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:g,wallet:v,statement:m,options:x}=t;let b;if(bt())if(typeof v=="object")b=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),w=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=dA(w[0]);let j=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const A=await b.request({method:"eth_chainId"});j=ER(A)}const E={domain:S.host,address:_,statement:m,uri:S.href,version:"1",chainId:j,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=PR(E),y=await b.request({method:"personal_sign",params:[AR(p),_]})}try{const{data:g,error:v}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Tr});if(v)throw v;if(!g||!g.session||!g.user){const m=new ba;return this._returnResult({data:{user:null,session:null},error:m})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(ee(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,i,a,o,s,l,c,d,f,h,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:m,statement:x,options:b}=t;let S;if(bt())if(typeof m=="object")S=m;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=m}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),x?{statement:x}:null));let j;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")j=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)j=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:v,error:m}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Di(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Tr});if(m)throw m;if(!v||!v.session||!v.user){const x=new ba;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:m})}catch(v){if(ee(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await wi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tr});if(await Mn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new ba;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tr}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ba;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await wa(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Gc("You must provide either an email or phone number.")}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Tr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;this.flowType==="pkce"&&([a,o]=await wa(this.storage,this.storageKey));const s=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:xR});return this._returnResult(s)}catch(a){if(ee(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Nr;const{error:i}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new Gc("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ep:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await wi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=np()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=mR(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fn}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nr}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Fn})})}catch(r){if(ee(r))return KI(r)&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Nr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await wa(this.storage,this.storageKey));const{data:c,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Fn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(ee(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=rp(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Nr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!bt())throw new Xc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yb("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Xc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Na&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const m={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(n){if(ee(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(HI(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=tR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await wa(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ee(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return bt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ee(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:d}=t,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Tr}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ba}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await aR(async i=>(i>0&&await iR(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&tp(a)&&Date.now()+o-n<Na})}catch(n){if(this._debug(r,"error",n),ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await wi(this.storage,this.storageKey);if(i&&this.userStorage){let o=await wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ta(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:np()}else if(i&&!i.user&&!i.user){const o=await wi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Mn(this.storage,this.storageKey+"-user"),await Ta(this.storage,this.storageKey,i)):i.user=np()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ep;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ep}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),tp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jf;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Nr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),ee(a)){const o={data:null,error:a};return tp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ta(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Sb(i);await Ta(this.storage,this.storageKey,a)}else{const i=Sb(r);await Ta(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Mn(this.storage,this.storageKey),await Mn(this.storage,this.storageKey+"-code-verifier"),await Mn(this.storage,this.storageKey+"-user"),this.userStorage&&await Mn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Na);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Na);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Na}ms, refresh threshold is ${Fm} ticks`),i<=Fm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await wa(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?RR(t.webauthn.credential_response):MR(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:$R(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:IR(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rp(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Nr})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Nr});const o=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&bt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Nr});const o=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&bt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+WI>i)return n;const{data:a,error:o}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=rp(n);r!=null&&r.allowExpired||fR(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const d=hR(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,ZI(`${s}.${l}`)))throw new Vm("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}}xl.nextInstanceID={};const VR=xl;class HR extends VR{constructor(t){super(t)}}class KR{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const s=BI(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:kI,realtime:$I,auth:Object.assign(Object.assign({},CI),{storageKey:l}),global:TI},d=LI(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=MI(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new U$(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new AI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new D$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HR({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GR=(e,t,r)=>new KR(e,t,r);function XR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}XR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YR="https://ynoxsibapzatlxhmredp.supabase.co",JR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlub3hzaWJhcHphdGx4aG1yZWRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0NTQ5OTcsImV4cCI6MjA3ODAzMDk5N30.39C4_sEXIeplYHBYPEGa-_pnan-1SHM6cgNJ-FrtsvU",V=GR(YR,JR),X={PROSPECTS:"prospects",INSTALLATIONS:"installations",ABONNEMENTS:"abonnements",PAIEMENTS:"paiements",INTERVENTIONS:"interventions",USERS:"users",APPLICATIONS:"applications",HISTORIQUE_ACTIONS:"prospect_history"},Tb={SUPER_ADMIN:"super_admin",ADMIN:"admin",TECHNICIEN:"technicien",COMMERCIAL:"commercial",SUPPORT:"support"},Vi={super_admin:{label:"Super Administrateur",canManageUsers:!0,canManageRoles:!0,canManageApplications:!0,canViewAll:!0,canEditAll:!0,canDeleteAll:!0,allPages:!0},admin:{label:"Administrateur",canManageUsers:!0,canManageRoles:!1,canManageApplications:!0,canViewAll:!0,canEditAll:!0,canDeleteAll:!0,allPages:!0},technicien:{label:"Technicien",canManageUsers:!1,canManageRoles:!1,canManageApplications:!1,canViewAll:!1,canEditAll:!1,canDeleteAll:!1,allPages:!1,defaultPages:["dashboard","installations","abonnements","support","interventions"]},commercial:{label:"Commercial",canManageUsers:!1,canManageRoles:!1,canManageApplications:!1,canViewAll:!1,canEditAll:!1,canDeleteAll:!1,allPages:!1,defaultPages:["dashboard","prospects","clients","installations","abonnements","paiements","alertes"]},support:{label:"Support",canManageUsers:!1,canManageRoles:!1,canManageApplications:!1,canViewAll:!1,canEditAll:!1,canDeleteAll:!1,allPages:!1,defaultPages:["dashboard","support","interventions","clients"]}},he={DASHBOARD:"dashboard",PROSPECTS:"prospects",CLIENTS:"clients",INSTALLATIONS:"installations",ABONNEMENTS:"abonnements",PAIEMENTS:"paiements",SUPPORT:"support",INTERVENTIONS:"interventions",ALERTES:"alertes",APPLICATIONS:"applications",UTILISATEURS:"utilisateurs"},Lt={async signIn(e,t){try{const{data:r,error:n}=await V.rpc("verify_user_password",{p_email:e.toLowerCase(),p_password:t});if(n)throw console.error("Erreur vrification mot de passe:",n),new Error("Email ou mot de passe incorrect");if(!r||r.length===0)throw console.warn("Utilisateur non trouv:",e),new Error("Email ou mot de passe incorrect");const i=r[0];if(!i.is_valid)throw console.warn("Mot de passe incorrect pour:",e),new Error("Email ou mot de passe incorrect");await V.rpc("update_last_login",{p_email:e.toLowerCase()});const a={id:i.user_id,email:i.email,nom:i.nom,role:i.role,pages_visibles:[]},{data:o,error:s}=await V.from("users").select("pages_visibles").eq("id",i.user_id).single();return!s&&o&&(a.pages_visibles=o.pages_visibles||[]),console.log(" Connexion russie (authentification locale):",{email:e,role:a.role}),{user:{id:i.user_id},profile:a}}catch(r){throw console.error(" Erreur de connexion:",r),r}},async signOut(){try{const{error:e}=await V.auth.signOut();if(e)throw e}catch(e){throw console.error("Erreur de dconnexion:",e),e}},async getCurrentUser(){try{const{data:{user:e},error:t}=await V.auth.getUser();if(t)throw t;if(e)try{const{data:r}=await V.from("users").select("*").eq("id",e.id).single();return{user:e,profile:r||{role:"admin",email:e.email}}}catch{return{user:e,profile:{role:"admin",email:e.email}}}return null}catch(e){return console.error("Erreur rcupration utilisateur:",e),null}},hasPageAccess(e,t){if(!e)return!1;const r=e.role||"commercial",n=Vi[r];return n?n.allPages?!0:(e.pages_visibles||[]).includes(t):(console.warn(`Rle inconnu: ${r}`),!1)},hasPermission(e,t){if(!e)return!1;const r=e.role||"commercial",n=Vi[r];return n?n[t]===!0:(console.warn(`Rle inconnu: ${r}`),!1)},canManageUsers(e){return this.hasPermission(e,"canManageUsers")},canManageRoles(e){return this.hasPermission(e,"canManageRoles")},canManageApplications(e){return this.hasPermission(e,"canManageApplications")},canViewAll(e){return this.hasPermission(e,"canViewAll")},canEditAll(e){return this.hasPermission(e,"canEditAll")},canDeleteAll(e){return this.hasPermission(e,"canDeleteAll")},getDefaultPages(e){const t=Vi[e];return t!=null&&t.allPages?["dashboard","prospects","clients","installations","abonnements","paiements","support","applications","utilisateurs"]:(t==null?void 0:t.defaultPages)||[]}},hA=O.createContext(null),QR=({children:e})=>{const[t,r]=O.useState(null),[n,i]=O.useState(null),[a,o]=O.useState(!0);O.useEffect(()=>{s()},[]);const s=async()=>{try{const b=await Lt.getCurrentUser();b&&(r(b.user),i(b.profile))}catch(b){console.error("Erreur vrification utilisateur:",b)}finally{o(!1)}},x={user:t,profile:n,loading:a,signIn:async(b,S)=>{try{const{user:w,profile:_}=await Lt.signIn(b,S);return r(w),i(_),console.log(" Connexion russie:",{email:b,role:_==null?void 0:_.role}),{user:w,profile:_}}catch(w){throw console.error(" Erreur de connexion:",w),r(null),i(null),w}},signOut:async()=>{await Lt.signOut(),r(null),i(null)},hasAccess:b=>Lt.hasPageAccess(n,b),canManageUsers:()=>Lt.canManageUsers(n),canManageRoles:()=>Lt.canManageRoles(n),canManageApplications:()=>Lt.canManageApplications(n),canViewAll:()=>Lt.canViewAll(n),canEditAll:()=>Lt.canEditAll(n),canDeleteAll:()=>Lt.canDeleteAll(n),hasPermission:b=>Lt.hasPermission(n,b),isAuthenticated:!!t};return u.jsx(hA.Provider,{value:x,children:e})},Nn=()=>{const e=O.useContext(hA);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},pA=O.createContext(null),ZR=({children:e})=>{const[t,r]=O.useState([]),[n,i]=O.useState(!0),a=c=>{const d=Date.now();r(h=>[...h,{...c,id:d}]);const f=c.duration||(c.type==="error"?8e3:5e3);setTimeout(()=>{o(d)},f)},o=c=>{r(d=>d.filter(f=>f.id!==c))},l={notifications:t,addNotification:a,removeNotification:o,sidebarOpen:n,setSidebarOpen:i,toggleSidebar:()=>{i(c=>!c)}};return u.jsx(pA.Provider,{value:l,children:e})},jr=()=>{const e=O.useContext(pA);if(!e)throw new Error("useApp must be used within AppProvider");return e};var eM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rM=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:s,...l},c)=>O.createElement("svg",{ref:c,...eM,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${tM(e)}`,...l},[...t.map(([d,f])=>O.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return r.displayName=`${e}`,r};var le=rM;const $t=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),bl=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),nM=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),rd=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Hm=le("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Hi=le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),It=le("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Of=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),kb=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Cb=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),dc=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),dn=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Km=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Py=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),iM=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ju=le("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),aM=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ap=le("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),mA=le("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),oM=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),sM=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),lM=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),cM=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),fc=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),uM=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),gA=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ny=le("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),di=le("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),po=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),na=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ty=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),vA=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Gm=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dM=le("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),fM=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ns=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fi=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hM=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Ts=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),wl=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),nd=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ef=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yA=le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),pM=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(""),[i,a]=O.useState(""),[o,s]=O.useState(!1),{signIn:l}=Nn(),c=async d=>{var f,h,p,y;d.preventDefault(),a(""),s(!0);try{await l(e,r)}catch(g){g.code==="AUTH_NOT_INITIALIZED"?a(g.message):(f=g.message)!=null&&f.includes("Email ou mot de passe incorrect")?a(" Email ou mot de passe incorrect"):(h=g.message)!=null&&h.includes("Email not confirmed")?a(" Veuillez confirmer votre adresse email"):(p=g.message)!=null&&p.includes("rate limit")?a(" Trop de tentatives. Veuillez ressayer dans un moment."):(y=g.message)!=null&&y.includes("not found")?a(" Cet utilisateur n'existe pas"):a(g.message||" Erreur de connexion")}finally{s(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary to-secondary flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"bg-primary w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx("span",{className:"text-white text-3xl font-bold",children:"A2S"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"A2S Gestion"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Connectez-vous  votre compte"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm whitespace-pre-wrap",children:i}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:e,onChange:d=>t(d.target.value),className:"input-field",placeholder:"votre@email.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),u.jsx("input",{type:"password",value:r,onChange:d=>n(d.target.value),className:"input-field",placeholder:"",required:!0})]}),u.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary py-3 flex items-center justify-center gap-2",children:o?u.jsx("span",{children:"Connexion en cours..."}):u.jsxs(u.Fragment,{children:[u.jsx(lM,{size:20}),u.jsx("span",{children:"Se connecter"})]})})]}),u.jsx("div",{className:"mt-8 text-center text-sm text-gray-600",children:u.jsx("p",{children:" 2025 SARL A2S - Tous droits rservs"})})]})})},mM=({children:e,requiredPage:t})=>{const{isAuthenticated:r,loading:n,hasAccess:i,profile:a}=Nn();return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r?t&&!i(t)?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:u.jsxs("div",{className:"max-w-md w-full text-center bg-white rounded-lg shadow p-8",children:[u.jsx($t,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Accs Refus"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Vous n'avez pas accs  cette page."}),u.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[u.jsx("strong",{children:"Rle actuel:"})," ",(a==null?void 0:a.role)||"Non dfini"]}),u.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"Demandez  un administrateur pour accorder l'accs  cette page."}),u.jsx("a",{href:"/",className:"inline-block bg-primary text-white px-6 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Retour au Tableau de Bord"})]})}):e:u.jsx(cE,{to:"/login",replace:!0})},Ht=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):"",xA=e=>e?new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",De=e=>!e&&e!==0?"0 DA":new Intl.NumberFormat("fr-DZ",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)+" DA",qa=e=>{if(!e)return 0;const t=new Date,n=new Date(e)-t;return Math.ceil(n/(1e3*60*60*24))},Af=e=>({actif:"badge-success",prospect:"badge-info",inactif:"badge-danger",en_cours:"badge-warning",terminee:"badge-success",en_alerte:"badge-warning",expire:"badge-danger",cloturee:"badge-success",normale:"badge-info",haute:"badge-danger"})[e]||"badge-info",gn=e=>({actif:"Actif",prospect:"Prospect",inactif:"Inactif",en_cours:"En Cours",terminee:"Termine",en_alerte:"En Alerte",expire:"Expir",cloturee:"Clture",normale:"Normale",haute:"Haute",sur_site:"Sur Site",a_distance:" Distance",maintenance:"Maintenance",formation:"Formation",autre:"Autre",especes:"Espces",virement:"Virement",cheque:"Chque",acquisition:"Acquisition",abonnement:"Abonnement"})[e]||e,bA=e=>{if(!e)return"";const t=e.split(" ");return t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()},op=({currentPage:e,onPageChange:t})=>{const{profile:r,signOut:n,hasAccess:i}=Nn(),{sidebarOpen:a,toggleSidebar:o}=jr(),l=[{id:he.DASHBOARD,label:"Tableau de Bord",icon:sM},{id:he.PROSPECTS,label:"Prospects",icon:Ns},{id:he.CLIENTS,label:"Clients",icon:nd},{id:he.INSTALLATIONS,label:"Installations",icon:Py},{id:he.ABONNEMENTS,label:"Abonnements",icon:It},{id:he.PAIEMENTS,label:"Paiements",icon:dn},{id:he.SUPPORT,label:"Support",icon:Gm},{id:he.INTERVENTIONS,label:"Interventions",icon:Gm},{id:he.APPLICATIONS,label:"Applications",icon:Ny},{id:he.UTILISATEURS,label:"Utilisateurs",icon:nd}].filter(d=>i(d.id)),c=async()=>{try{await n()}catch(d){console.error("Erreur dconnexion:",d)}};return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:o,className:"lg:hidden fixed top-4 left-4 z-50 bg-primary text-white p-2 rounded-lg shadow-lg",children:a?u.jsx(Ef,{size:24}):u.jsx(gA,{size:24})}),a&&u.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:o}),u.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-40
          w-64 bg-primary text-white
          transform transition-transform duration-300 ease-in-out
          ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          flex flex-col
        `,children:[u.jsx("div",{className:"p-6 border-b border-primary-light",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-white w-12 h-12 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-primary text-xl font-bold",children:"A2S"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold",children:"A2S Gestion"}),u.jsx("p",{className:"text-sm text-blue-200",children:r==null?void 0:r.role})]})]})}),u.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:l.map(d=>{const f=d.icon,h=e===d.id;return u.jsxs("button",{onClick:()=>{t(d.id),window.innerWidth<1024&&o()},className:`
                  w-full flex items-center gap-3 px-6 py-3 
                  transition-colors duration-200
                  ${h?"bg-white bg-opacity-20 border-l-4 border-white":"hover:bg-white hover:bg-opacity-10"}
                `,children:[u.jsx(f,{size:20}),u.jsx("span",{className:"font-medium",children:d.label})]},d.id)})}),u.jsxs("div",{className:"p-4 border-t border-primary-light",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-white text-primary flex items-center justify-center font-bold",children:bA((r==null?void 0:r.nom)||"User")}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium truncate",children:r==null?void 0:r.nom}),u.jsx("p",{className:"text-sm text-blue-200 truncate",children:"Utilisateur"})]})]}),u.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-lg transition-colors",children:[u.jsx(cM,{size:18}),u.jsx("span",{children:"Dconnexion"})]})]})]})]})},Pt={async getAll(){try{const{data:e,error:t}=await V.from(X.ABONNEMENTS).select("*").order("date_fin",{ascending:!0});if(t)throw t;const r=new Date;r.setHours(0,0,0,0);const n=new Date;return n.setDate(n.getDate()+30),n.setHours(0,0,0,0),await Promise.all(e.map(async a=>{const o=new Date(a.date_fin);o.setHours(0,0,0,0);let s=a.statut;o<r?s="expire":o<=n?s="en_alerte":s="actif",a.statut!==s&&await V.from(X.ABONNEMENTS).update({statut:s}).eq("id",a.id);let l={};if(a.installation_id){const{data:c}=await V.from(X.INSTALLATIONS).select("*").eq("id",a.installation_id).single();if(c){const{data:d}=await V.from(X.PROSPECTS).select("raison_sociale, contact, telephone, email").eq("id",c.client_id).single();l={...c,client:d||{}}}}return{...a,statut:s,installation:l}}))}catch(e){throw console.error("Erreur rcupration abonnements:",e),e}},async createFromInstallation(e){try{const{data:t,error:r}=await V.from(X.ABONNEMENTS).select("id").eq("installation_id",e).in("statut",["actif","en_alerte"]);if(r)throw r;if(t&&t.length>0)throw new Error("Un abonnement actif ou en alerte existe dj pour cette installation.");const{data:n,error:i}=await V.from(X.INSTALLATIONS).select("date_installation").eq("id",e).single();if(i)throw i;const a=new Date(n.date_installation),o=new Date(a);o.setFullYear(o.getFullYear()+1);const s=new Date;s.setHours(0,0,0,0);const l=new Date(s);l.setDate(l.getDate()+30);let c="actif";o<s?c="expire":o<=l&&(c="en_alerte");const{data:d,error:f}=await V.from(X.ABONNEMENTS).insert([{installation_id:e,date_debut:a.toISOString().split("T")[0],date_fin:o.toISOString().split("T")[0],statut:c}]).select().single();if(f)throw f;return d}catch(t){throw console.error("Erreur cration abonnement:",t),t}},async create(e){try{const{data:t,error:r}=await V.from(X.ABONNEMENTS).insert([{installation_id:e.installation_id,date_debut:e.date_debut,date_fin:e.date_fin,statut:e.statut||"actif"}]).select().single();if(r)throw r;return t}catch(t){throw console.error("Erreur cration abonnement:",t),t}},async hasPaiements(e){try{return!1}catch(t){return console.error("Erreur vrification paiements:",t),!1}},async hasActiveAbonnement(e){try{const{data:t,error:r}=await V.from(X.ABONNEMENTS).select("id",{count:"exact",head:!0}).eq("installation_id",e).in("statut",["actif","en_alerte"]);if(r)throw r;return t&&t.length>0}catch(t){return console.error("Erreur vrification abonnement actif:",t),!1}},async update(e,t){try{if(await this.hasPaiements(e))throw new Error("Impossible de modifier : cet abonnement a des paiements associs");const{data:n,error:i}=await V.from(X.ABONNEMENTS).update(t).eq("id",e).select().single();if(i)throw i;return n}catch(r){throw console.error("Erreur mise  jour abonnement:",r),r}},async delete(e){try{if(await this.hasPaiements(e))throw new Error("Impossible de supprimer : cet abonnement a des paiements associs");const{error:r}=await V.from(X.ABONNEMENTS).delete().eq("id",e);if(r)throw r;return!0}catch(t){throw console.error("Erreur suppression abonnement:",t),t}},async renouveler(e){try{const{data:t,error:r}=await V.from(X.ABONNEMENTS).select("*").eq("id",e).single();if(r)throw r;const{data:n,error:i}=await V.from(X.ABONNEMENTS).select("id").eq("installation_id",t.installation_id).in("statut",["actif","en_alerte"]).neq("id",e);if(i)throw i;if(n&&n.length>0)throw new Error("Un abonnement actif ou en alerte existe dj pour cette installation. Veuillez supprimer ou modifier l'abonnement existant.");const{error:a}=await V.from(X.ABONNEMENTS).update({statut:"expire"}).eq("id",e);if(a)throw a;const o=new Date(t.date_fin),s=new Date(o);s.setFullYear(s.getFullYear()+1);const{data:l,error:c}=await V.from(X.ABONNEMENTS).insert([{installation_id:t.installation_id,date_debut:o.toISOString(),date_fin:s.toISOString(),statut:"actif"}]).select().single();if(c)throw c;return l}catch(t){throw console.error("Erreur renouvellement abonnement:",t),t}},async checkAlertes(){try{const e=new Date;e.setHours(0,0,0,0);const t=new Date;t.setDate(t.getDate()+30),t.setHours(23,59,59,999);const{data:r,error:n}=await V.from(X.ABONNEMENTS).select("*").in("statut",["actif","en_alerte"]).order("date_fin",{ascending:!0});if(n)throw n;return(await Promise.all(r.map(async a=>{const o=new Date(a.date_fin);o.setHours(0,0,0,0);let s=a.statut;o<e?(s="expire",await V.from(X.ABONNEMENTS).update({statut:"expire"}).eq("id",a.id)):o<=t?(s="en_alerte",await V.from(X.ABONNEMENTS).update({statut:"en_alerte"}).eq("id",a.id)):(s="actif",await V.from(X.ABONNEMENTS).update({statut:"actif"}).eq("id",a.id));let l={};if(a.installation_id){const{data:c}=await V.from(X.INSTALLATIONS).select("*").eq("id",a.installation_id).single();if(c){const{data:d}=await V.from(X.PROSPECTS).select("raison_sociale, contact, telephone, email").eq("id",c.client_id).single();l={...c,client:d||{}}}}return{...a,statut:s,installation:l}}))).filter(a=>a.statut==="en_alerte")}catch(e){throw console.error("Erreur vrification alertes:",e),e}},async getStats(){try{const{data:e,error:t}=await V.from(X.ABONNEMENTS).select("statut");if(t)throw t;return{total:e.length,actifs:e.filter(n=>n.statut==="actif").length,enAlerte:e.filter(n=>n.statut==="en_alerte").length,expires:e.filter(n=>n.statut==="expire").length}}catch(e){throw console.error("Erreur statistiques abonnements:",e),e}}},gM=({onClose:e})=>{const[t,r]=O.useState([]),[n,i]=O.useState(!0),[a,o]=O.useState(null);O.useEffect(()=>{s()},[]);const s=async()=>{try{i(!0);const f=await Pt.checkAlertes();r(f)}catch(f){console.error("Erreur chargement alertes:",f)}finally{i(!1)}},l=async f=>{try{o(f),await Pt.renouveler(f),await s()}catch(h){console.error("Erreur renouvellement:",h),alert("Erreur lors du renouvellement")}finally{o(null)}};if(n)return u.jsx("div",{className:"fixed top-4 right-4 bg-white rounded-xl shadow-2xl p-6 w-96 z-50 border border-gray-200",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-purple-500 mx-auto"}),u.jsx("p",{className:"text-gray-600 mt-3 text-sm",children:"Vrification des abonnements..."})]})});if(t.length===0)return null;const c=t.filter(f=>qa(f.date_fin)<0),d=t.filter(f=>qa(f.date_fin)>=0);return u.jsxs("div",{className:"fixed top-4 right-4 bg-white rounded-xl shadow-2xl w-[420px] z-50 max-h-[85vh] overflow-hidden border border-gray-200",children:[u.jsxs("div",{className:"bg-gradient-to-r from-red-500 via-orange-500 to-amber-500 text-white p-5 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:u.jsx(rd,{size:24,className:"animate-pulse"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg",children:"Alertes Abonnements"}),u.jsxs("p",{className:"text-sm opacity-90",children:[c.length," expir(s)  ",d.length," proche(s)"]})]})]}),e&&u.jsx("button",{onClick:e,className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:u.jsx(Ef,{size:20})})]}),u.jsxs("div",{className:"overflow-y-auto max-h-[calc(85vh-80px)]",children:[c.length>0&&u.jsxs("div",{className:"p-4 bg-red-50 border-b-2 border-red-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(bl,{size:18,className:"text-red-600"}),u.jsxs("h4",{className:"font-bold text-red-800 text-sm uppercase",children:["Expirs (",c.length,")"]})]}),u.jsx("div",{className:"space-y-3",children:c.map(f=>{const h=Math.abs(qa(f.date_fin));return u.jsx($b,{alerte:f,isExpired:!0,jours:h,renewing:a,onRenouveler:l},f.id)})})]}),d.length>0&&u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(dc,{size:18,className:"text-orange-600"}),u.jsxs("h4",{className:"font-bold text-orange-800 text-sm uppercase",children:["Expirent bientt (",d.length,")"]})]}),u.jsx("div",{className:"space-y-3",children:d.map(f=>{const h=qa(f.date_fin);return u.jsx($b,{alerte:f,isExpired:!1,jours:h,renewing:a,onRenouveler:l},f.id)})})]})]})]})},$b=({alerte:e,isExpired:t,jours:r,renewing:n,onRenouveler:i})=>{var a,o,s,l,c,d,f;return u.jsxs("div",{className:`border-l-4 rounded-lg p-4 transition-all hover:shadow-md ${t?"bg-white border-red-500 shadow-sm":"bg-white border-orange-500 shadow-sm"}`,children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h5",{className:"font-bold text-gray-800 text-sm mb-1",children:((o=(a=e.installation)==null?void 0:a.client)==null?void 0:o.raison_sociale)||"Client inconnu"}),u.jsx("p",{className:"text-xs text-gray-600 font-medium",children:((s=e.installation)==null?void 0:s.application_installee)||"Application inconnue"})]}),u.jsxs("div",{className:"space-y-2 mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-gray-600",children:"Date d'expiration:"}),u.jsx("span",{className:`font-semibold ${t?"text-red-600":"text-orange-600"}`,children:Ht(e.date_fin)})]}),u.jsx("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${t?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:t?u.jsxs(u.Fragment,{children:[u.jsx(bl,{size:12}),"EXPIR depuis ",r," jour",r>1?"s":""]}):u.jsxs(u.Fragment,{children:[u.jsx(dc,{size:12}),r," jour",r>1?"s":""," restant",r>1?"s":""]})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>i(e.id),disabled:n===e.id,className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-xs font-semibold transition-all ${t?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-400":"bg-orange-600 hover:bg-orange-700 text-white disabled:bg-orange-400"}`,children:n===e.id?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),"Renouvellement..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ty,{size:14}),"Renouveler"]})}),((c=(l=e.installation)==null?void 0:l.client)==null?void 0:c.telephone)&&u.jsx("a",{href:`tel:${e.installation.client.telephone}`,className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Appeler le client",children:u.jsx(po,{size:16})}),((f=(d=e.installation)==null?void 0:d.client)==null?void 0:f.email)&&u.jsx("a",{href:`mailto:${e.installation.client.email}`,className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Envoyer un email",children:u.jsx(fc,{size:16})})]})]})},sp=({title:e,subtitle:t})=>{const{toggleSidebar:r}=jr(),[n,i]=O.useState(!1);return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:r,className:"lg:hidden text-gray-600 hover:text-gray-800",children:u.jsx(gA,{size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:e}),t&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-lg",children:[u.jsx(vA,{size:20,className:"text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Rechercher...",className:"bg-transparent outline-none text-sm w-64"})]}),u.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[u.jsx(rd,{size:22}),u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})]})]})}),n&&u.jsx(gM,{onClose:()=>i(!1)})]})},lp=()=>{const{notifications:e,removeNotification:t}=jr(),r=a=>{switch(a){case"error":return u.jsx($t,{className:"w-5 h-5"});case"success":return u.jsx(Of,{className:"w-5 h-5"});case"warning":return u.jsx(bl,{className:"w-5 h-5"});case"info":default:return u.jsx(oM,{className:"w-5 h-5"})}},n=a=>{switch(a){case"error":return"bg-red-50 border-red-200 text-red-800";case"success":return"bg-green-50 border-green-200 text-green-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":default:return"bg-blue-50 border-blue-200 text-blue-800"}},i=a=>{switch(a){case"error":return"text-red-500";case"success":return"text-green-500";case"warning":return"text-yellow-500";case"info":default:return"text-blue-500"}};return u.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:e.map(a=>u.jsxs("div",{className:`flex gap-3 p-4 rounded-lg border ${n(a.type)} shadow-lg animate-slideIn`,children:[u.jsx("div",{className:`flex-shrink-0 ${i(a.type)}`,children:r(a.type)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[a.title&&u.jsx("h3",{className:"font-semibold mb-1",children:a.title}),u.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:a.message})]}),u.jsx("button",{onClick:()=>t(a.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Fermer",children:u.jsx(Ef,{className:"w-5 h-5"})})]},a.id))})};function wA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=wA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ue(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=wA(e))&&(n&&(n+=" "),n+=t);return n}var vM=Array.isArray,Kt=vM,yM=typeof Sc=="object"&&Sc&&Sc.Object===Object&&Sc,_A=yM,xM=_A,bM=typeof self=="object"&&self&&self.Object===Object&&self,wM=xM||bM||Function("return this")(),tn=wM,_M=tn,SM=_M.Symbol,hc=SM,Ib=hc,SA=Object.prototype,jM=SA.hasOwnProperty,OM=SA.toString,ps=Ib?Ib.toStringTag:void 0;function EM(e){var t=jM.call(e,ps),r=e[ps];try{e[ps]=void 0;var n=!0}catch{}var i=OM.call(e);return n&&(t?e[ps]=r:delete e[ps]),i}var AM=EM,PM=Object.prototype,NM=PM.toString;function TM(e){return NM.call(e)}var kM=TM,Rb=hc,CM=AM,$M=kM,IM="[object Null]",RM="[object Undefined]",Mb=Rb?Rb.toStringTag:void 0;function MM(e){return e==null?e===void 0?RM:IM:Mb&&Mb in Object(e)?CM(e):$M(e)}var Tn=MM;function DM(e){return e!=null&&typeof e=="object"}var kn=DM,LM=Tn,BM=kn,UM="[object Symbol]";function zM(e){return typeof e=="symbol"||BM(e)&&LM(e)==UM}var Ko=zM,FM=Kt,qM=Ko,WM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VM=/^\w*$/;function HM(e,t){if(FM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||qM(e)?!0:VM.test(e)||!WM.test(e)||t!=null&&e in Object(t)}var ky=HM;function KM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hi=KM;const Go=be(hi);var GM=Tn,XM=hi,YM="[object AsyncFunction]",JM="[object Function]",QM="[object GeneratorFunction]",ZM="[object Proxy]";function eD(e){if(!XM(e))return!1;var t=GM(e);return t==JM||t==QM||t==YM||t==ZM}var Cy=eD;const ie=be(Cy);var tD=tn,rD=tD["__core-js_shared__"],nD=rD,cp=nD,Db=function(){var e=/[^.]+$/.exec(cp&&cp.keys&&cp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function iD(e){return!!Db&&Db in e}var aD=iD,oD=Function.prototype,sD=oD.toString;function lD(e){if(e!=null){try{return sD.call(e)}catch{}try{return e+""}catch{}}return""}var jA=lD,cD=Cy,uD=aD,dD=hi,fD=jA,hD=/[\\^$.*+?()[\]{}|]/g,pD=/^\[object .+?Constructor\]$/,mD=Function.prototype,gD=Object.prototype,vD=mD.toString,yD=gD.hasOwnProperty,xD=RegExp("^"+vD.call(yD).replace(hD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bD(e){if(!dD(e)||uD(e))return!1;var t=cD(e)?xD:pD;return t.test(fD(e))}var wD=bD;function _D(e,t){return e==null?void 0:e[t]}var SD=_D,jD=wD,OD=SD;function ED(e,t){var r=OD(e,t);return jD(r)?r:void 0}var ha=ED,AD=ha,PD=AD(Object,"create"),Pf=PD,Lb=Pf;function ND(){this.__data__=Lb?Lb(null):{},this.size=0}var TD=ND;function kD(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var CD=kD,$D=Pf,ID="__lodash_hash_undefined__",RD=Object.prototype,MD=RD.hasOwnProperty;function DD(e){var t=this.__data__;if($D){var r=t[e];return r===ID?void 0:r}return MD.call(t,e)?t[e]:void 0}var LD=DD,BD=Pf,UD=Object.prototype,zD=UD.hasOwnProperty;function FD(e){var t=this.__data__;return BD?t[e]!==void 0:zD.call(t,e)}var qD=FD,WD=Pf,VD="__lodash_hash_undefined__";function HD(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=WD&&t===void 0?VD:t,this}var KD=HD,GD=TD,XD=CD,YD=LD,JD=qD,QD=KD;function Xo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xo.prototype.clear=GD;Xo.prototype.delete=XD;Xo.prototype.get=YD;Xo.prototype.has=JD;Xo.prototype.set=QD;var ZD=Xo;function eL(){this.__data__=[],this.size=0}var tL=eL;function rL(e,t){return e===t||e!==e&&t!==t}var $y=rL,nL=$y;function iL(e,t){for(var r=e.length;r--;)if(nL(e[r][0],t))return r;return-1}var Nf=iL,aL=Nf,oL=Array.prototype,sL=oL.splice;function lL(e){var t=this.__data__,r=aL(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sL.call(t,r,1),--this.size,!0}var cL=lL,uL=Nf;function dL(e){var t=this.__data__,r=uL(t,e);return r<0?void 0:t[r][1]}var fL=dL,hL=Nf;function pL(e){return hL(this.__data__,e)>-1}var mL=pL,gL=Nf;function vL(e,t){var r=this.__data__,n=gL(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var yL=vL,xL=tL,bL=cL,wL=fL,_L=mL,SL=yL;function Yo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yo.prototype.clear=xL;Yo.prototype.delete=bL;Yo.prototype.get=wL;Yo.prototype.has=_L;Yo.prototype.set=SL;var Tf=Yo,jL=ha,OL=tn,EL=jL(OL,"Map"),Iy=EL,Bb=ZD,AL=Tf,PL=Iy;function NL(){this.size=0,this.__data__={hash:new Bb,map:new(PL||AL),string:new Bb}}var TL=NL;function kL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var CL=kL,$L=CL;function IL(e,t){var r=e.__data__;return $L(t)?r[typeof t=="string"?"string":"hash"]:r.map}var kf=IL,RL=kf;function ML(e){var t=RL(this,e).delete(e);return this.size-=t?1:0,t}var DL=ML,LL=kf;function BL(e){return LL(this,e).get(e)}var UL=BL,zL=kf;function FL(e){return zL(this,e).has(e)}var qL=FL,WL=kf;function VL(e,t){var r=WL(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var HL=VL,KL=TL,GL=DL,XL=UL,YL=qL,JL=HL;function Jo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jo.prototype.clear=KL;Jo.prototype.delete=GL;Jo.prototype.get=XL;Jo.prototype.has=YL;Jo.prototype.set=JL;var Ry=Jo,OA=Ry,QL="Expected a function";function My(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(QL);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(My.Cache||OA),r}My.Cache=OA;var EA=My;const ZL=be(EA);var e3=EA,t3=500;function r3(e){var t=e3(e,function(n){return r.size===t3&&r.clear(),n}),r=t.cache;return t}var n3=r3,i3=n3,a3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o3=/\\(\\)?/g,s3=i3(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(a3,function(r,n,i,a){t.push(i?a.replace(o3,"$1"):n||r)}),t}),l3=s3;function c3(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Dy=c3,Ub=hc,u3=Dy,d3=Kt,f3=Ko,zb=Ub?Ub.prototype:void 0,Fb=zb?zb.toString:void 0;function AA(e){if(typeof e=="string")return e;if(d3(e))return u3(e,AA)+"";if(f3(e))return Fb?Fb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var h3=AA,p3=h3;function m3(e){return e==null?"":p3(e)}var PA=m3,g3=Kt,v3=ky,y3=l3,x3=PA;function b3(e,t){return g3(e)?e:v3(e,t)?[e]:y3(x3(e))}var NA=b3,w3=Ko;function _3(e){if(typeof e=="string"||w3(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Cf=_3,S3=NA,j3=Cf;function O3(e,t){t=S3(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[j3(t[r++])];return r&&r==n?e:void 0}var Ly=O3,E3=Ly;function A3(e,t,r){var n=e==null?void 0:E3(e,t);return n===void 0?r:n}var TA=A3;const or=be(TA);function P3(e){return e==null}var N3=P3;const se=be(N3);var T3=Tn,k3=Kt,C3=kn,$3="[object String]";function I3(e){return typeof e=="string"||!k3(e)&&C3(e)&&T3(e)==$3}var R3=I3;const ia=be(R3);var kA={exports:{}},we={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=Symbol.for("react.element"),Uy=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),Mf=Symbol.for("react.provider"),Df=Symbol.for("react.context"),M3=Symbol.for("react.server_context"),Lf=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Uf=Symbol.for("react.suspense_list"),zf=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),D3=Symbol.for("react.offscreen"),CA;CA=Symbol.for("react.module.reference");function Or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case By:switch(e=e.type,e){case $f:case Rf:case If:case Bf:case Uf:return e;default:switch(e=e&&e.$$typeof,e){case M3:case Df:case Lf:case Ff:case zf:case Mf:return e;default:return t}}case Uy:return t}}}we.ContextConsumer=Df;we.ContextProvider=Mf;we.Element=By;we.ForwardRef=Lf;we.Fragment=$f;we.Lazy=Ff;we.Memo=zf;we.Portal=Uy;we.Profiler=Rf;we.StrictMode=If;we.Suspense=Bf;we.SuspenseList=Uf;we.isAsyncMode=function(){return!1};we.isConcurrentMode=function(){return!1};we.isContextConsumer=function(e){return Or(e)===Df};we.isContextProvider=function(e){return Or(e)===Mf};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===By};we.isForwardRef=function(e){return Or(e)===Lf};we.isFragment=function(e){return Or(e)===$f};we.isLazy=function(e){return Or(e)===Ff};we.isMemo=function(e){return Or(e)===zf};we.isPortal=function(e){return Or(e)===Uy};we.isProfiler=function(e){return Or(e)===Rf};we.isStrictMode=function(e){return Or(e)===If};we.isSuspense=function(e){return Or(e)===Bf};we.isSuspenseList=function(e){return Or(e)===Uf};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$f||e===Rf||e===If||e===Bf||e===Uf||e===D3||typeof e=="object"&&e!==null&&(e.$$typeof===Ff||e.$$typeof===zf||e.$$typeof===Mf||e.$$typeof===Df||e.$$typeof===Lf||e.$$typeof===CA||e.getModuleId!==void 0)};we.typeOf=Or;kA.exports=we;var L3=kA.exports,B3=Tn,U3=kn,z3="[object Number]";function F3(e){return typeof e=="number"||U3(e)&&B3(e)==z3}var $A=F3;const q3=be($A);var W3=$A;function V3(e){return W3(e)&&e!=+e}var H3=V3;const pc=be(H3);var Nt=function(t){return t===0?0:t>0?1:-1},Li=function(t){return ia(t)&&t.indexOf("%")===t.length-1},H=function(t){return q3(t)&&!pc(t)},K3=function(t){return se(t)},ot=function(t){return H(t)||ia(t)},G3=0,Qo=function(t){var r=++G3;return"".concat(t||"").concat(r)},Tt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(t)&&!ia(t))return n;var a;if(Li(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return pc(a)&&(a=n),i&&a>r&&(a=r),a},qn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},X3=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Zt=function(t,r){return H(t)&&H(r)?function(n){return t+n*(r-t)}:function(){return r}};function id(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):or(n,t))===r})}var Y3=function(t,r){return H(t)&&H(r)?t-r:ia(t)&&ia(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ro(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}var J3=["viewBox","children"],Q3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qb=["points","pathLength"],up={svg:J3,polygon:qb,polyline:qb},zy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ad=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Go(n))return null;var i={};return Object.keys(n).forEach(function(a){zy.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Z3=function(t,r,n){return function(i){return t(r,n,i),null}},aa=function(t,r,n){if(!Go(t)||Xm(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];zy.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Z3(o,r,n))}),i},e4=["children"],t4=["children"];function Wb(e,t){if(e==null)return{};var r=r4(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}var Vb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Hb=null,dp=null,Fy=function e(t){if(t===Hb&&Array.isArray(dp))return dp;var r=[];return O.Children.forEach(t,function(n){se(n)||(L3.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),dp=r,Hb=t,r};function sr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return vn(i)}):n=[vn(t)],Fy(e).forEach(function(i){var a=or(i,"type.displayName")||or(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Jt(e,t){var r=sr(e,t);return r&&r[0]}var Kb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!H(n)||n<=0||!H(i)||i<=0)},n4=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],i4=function(t){return t&&t.type&&ia(t.type)&&n4.indexOf(t.type)>=0},a4=function(t){return t&&Ym(t)==="object"&&"clipDot"in t},o4=function(t,r,n,i){var a,o=(a=up==null?void 0:up[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ie(t)&&(i&&o.includes(r)||Q3.includes(r))||n&&zy.includes(r)},te=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!Go(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;o4((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Jm=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Gb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!Gb(a,o))return!1}return!0},Gb=function(t,r){if(se(t)&&se(r))return!0;if(!se(t)&&!se(r)){var n=t.props||{},i=n.children,a=Wb(n,e4),o=r.props||{},s=o.children,l=Wb(o,t4);return i&&s?ro(a,l)&&Jm(i,s):!i&&!s?ro(a,l):!1}return!1},Xb=function(t,r){var n=[],i={};return Fy(t).forEach(function(a,o){if(i4(a))n.push(a);else if(a){var s=vn(a.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},s4=function(t){var r=t&&t.type;return r&&Vb[r]?Vb[r]:null},l4=function(t,r){return Fy(r).indexOf(t)},c4=["children","width","height","viewBox","className","style","title","desc"];function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(this,arguments)}function u4(e,t){if(e==null)return{};var r=d4(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zm(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=u4(e,c4),d=i||{width:r,height:n,x:0,y:0},f=ue("recharts-surface",a);return T.createElement("svg",Qm({},te(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),T.createElement("title",null,s),T.createElement("desc",null,l),t)}var f4=["children","className"];function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function h4(e,t){if(e==null)return{};var r=p4(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ge=T.forwardRef(function(e,t){var r=e.children,n=e.className,i=h4(e,f4),a=ue("recharts-layer",n);return T.createElement("g",eg({className:a},te(i,!0),{ref:t}),r)}),zr=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function m4(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var g4=m4,v4=g4;function y4(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:v4(e,t,r)}var x4=y4,b4="\\ud800-\\udfff",w4="\\u0300-\\u036f",_4="\\ufe20-\\ufe2f",S4="\\u20d0-\\u20ff",j4=w4+_4+S4,O4="\\ufe0e\\ufe0f",E4="\\u200d",A4=RegExp("["+E4+b4+j4+O4+"]");function P4(e){return A4.test(e)}var IA=P4;function N4(e){return e.split("")}var T4=N4,RA="\\ud800-\\udfff",k4="\\u0300-\\u036f",C4="\\ufe20-\\ufe2f",$4="\\u20d0-\\u20ff",I4=k4+C4+$4,R4="\\ufe0e\\ufe0f",M4="["+RA+"]",tg="["+I4+"]",rg="\\ud83c[\\udffb-\\udfff]",D4="(?:"+tg+"|"+rg+")",MA="[^"+RA+"]",DA="(?:\\ud83c[\\udde6-\\uddff]){2}",LA="[\\ud800-\\udbff][\\udc00-\\udfff]",L4="\\u200d",BA=D4+"?",UA="["+R4+"]?",B4="(?:"+L4+"(?:"+[MA,DA,LA].join("|")+")"+UA+BA+")*",U4=UA+BA+B4,z4="(?:"+[MA+tg+"?",tg,DA,LA,M4].join("|")+")",F4=RegExp(rg+"(?="+rg+")|"+z4+U4,"g");function q4(e){return e.match(F4)||[]}var W4=q4,V4=T4,H4=IA,K4=W4;function G4(e){return H4(e)?K4(e):V4(e)}var X4=G4,Y4=x4,J4=IA,Q4=X4,Z4=PA;function e6(e){return function(t){t=Z4(t);var r=J4(t)?Q4(t):void 0,n=r?r[0]:t.charAt(0),i=r?Y4(r,1).join(""):t.slice(1);return n[e]()+i}}var t6=e6,r6=t6,n6=r6("toUpperCase"),i6=n6;const qf=be(i6);function Ee(e){return function(){return e}}const zA=Math.cos,od=Math.sin,qr=Math.sqrt,sd=Math.PI,Wf=2*sd,ng=Math.PI,ig=2*ng,Pi=1e-6,a6=ig-Pi;function FA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function o6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FA;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class s6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FA:o6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Pi)if(!(Math.abs(f*l-c*d)>Pi)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=i-s,g=l*l+c*c,v=p*p+y*y,m=Math.sqrt(g),x=Math.sqrt(h),b=a*Math.tan((ng-Math.acos((g+h-v)/(2*m*x)))/2),S=b/x,w=b/m;Math.abs(S-1)>Pi&&this._append`L${t+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*y)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,d=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Pi||Math.abs(this._y1-d)>Pi)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%ig+ig),h>a6?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>Pi&&this._append`A${n},${n},0,${+(h>=ng)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new s6(t)}function Wy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qA(e){this._context=e}qA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vf(e){return new qA(e)}function WA(e){return e[0]}function VA(e){return e[1]}function HA(e,t){var r=Ee(!0),n=null,i=Vf,a=null,o=qy(s);e=typeof e=="function"?e:e===void 0?WA:Ee(e),t=typeof t=="function"?t:t===void 0?VA:Ee(t);function s(l){var c,d=(l=Wy(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ee(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ee(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ee(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Yc(e,t,r){var n=null,i=Ee(!0),a=null,o=Vf,s=null,l=qy(c);e=typeof e=="function"?e:e===void 0?WA:Ee(+e),t=typeof t=="function"?t:Ee(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?VA:Ee(+r);function c(f){var h,p,y,g=(f=Wy(f)).length,v,m=!1,x,b=new Array(g),S=new Array(g);for(a==null&&(s=o(x=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===m)if(m=!m)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(b[y],S[y]);s.lineEnd(),s.areaEnd()}m&&(b[h]=+e(v,h,f),S[h]=+t(v,h,f),s.point(n?+n(v,h,f):b[h],r?+r(v,h,f):S[h]))}if(x)return s=null,x+""||null}function d(){return HA().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ee(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ee(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ee(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ee(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ee(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ee(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ee(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class KA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function l6(e){return new KA(e,!0)}function c6(e){return new KA(e,!1)}const Vy={draw(e,t){const r=qr(t/sd);e.moveTo(r,0),e.arc(0,0,r,0,Wf)}},u6={draw(e,t){const r=qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},GA=qr(1/3),d6=GA*2,f6={draw(e,t){const r=qr(t/d6),n=r*GA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},h6={draw(e,t){const r=qr(t),n=-r/2;e.rect(n,n,r,r)}},p6=.8908130915292852,XA=od(sd/10)/od(7*sd/10),m6=od(Wf/10)*XA,g6=-zA(Wf/10)*XA,v6={draw(e,t){const r=qr(t*p6),n=m6*r,i=g6*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Wf*a/5,s=zA(o),l=od(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},fp=qr(3),y6={draw(e,t){const r=-qr(t/(fp*3));e.moveTo(0,r*2),e.lineTo(-fp*r,-r),e.lineTo(fp*r,-r),e.closePath()}},dr=-.5,fr=qr(3)/2,ag=1/qr(12),x6=(ag/2+1)*3,b6={draw(e,t){const r=qr(t/x6),n=r/2,i=r*ag,a=n,o=r*ag+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(dr*n-fr*i,fr*n+dr*i),e.lineTo(dr*a-fr*o,fr*a+dr*o),e.lineTo(dr*s-fr*l,fr*s+dr*l),e.lineTo(dr*n+fr*i,dr*i-fr*n),e.lineTo(dr*a+fr*o,dr*o-fr*a),e.lineTo(dr*s+fr*l,dr*l-fr*s),e.closePath()}};function w6(e,t){let r=null,n=qy(i);e=typeof e=="function"?e:Ee(e||Vy),t=typeof t=="function"?t:Ee(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ee(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ee(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function ld(){}function cd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function YA(e){this._context=e}YA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _6(e){return new YA(e)}function JA(e){this._context=e}JA.prototype={areaStart:ld,areaEnd:ld,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S6(e){return new JA(e)}function QA(e){this._context=e}QA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j6(e){return new QA(e)}function ZA(e){this._context=e}ZA.prototype={areaStart:ld,areaEnd:ld,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function O6(e){return new ZA(e)}function Yb(e){return e<0?-1:1}function Jb(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Yb(a)+Yb(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Qb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hp(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function ud(e){this._context=e}ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hp(this,this._t0,Qb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hp(this,Qb(this,r=Jb(this,e,t)),r);break;default:hp(this,this._t0,r=Jb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eP(e){this._context=new tP(e)}(eP.prototype=Object.create(ud.prototype)).point=function(e,t){ud.prototype.point.call(this,t,e)};function tP(e){this._context=e}tP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function E6(e){return new ud(e)}function A6(e){return new eP(e)}function rP(e){this._context=e}rP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zb(e),i=Zb(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zb(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function P6(e){return new rP(e)}function Hf(e,t){this._context=e,this._t=t}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function N6(e){return new Hf(e,.5)}function T6(e){return new Hf(e,0)}function k6(e){return new Hf(e,1)}function mo(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function og(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function C6(e,t){return e[t]}function $6(e){const t=[];return t.key=e,t}function I6(){var e=Ee([]),t=og,r=mo,n=C6;function i(a){var o=Array.from(e.apply(this,arguments),$6),s,l=o.length,c=-1,d;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,d=Wy(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ee(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ee(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?og:typeof a=="function"?a:Ee(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??mo,i):r},i}function R6(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}mo(e,t)}}function M6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}mo(e,t)}}function D6(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<s;++y){var g=e[t[y]],v=g[n][1]||0,m=g[n-1][1]||0;p+=v-m}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,mo(e,t)}}function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}var L6=["type","size","sizeType"];function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){B6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B6(e,t,r){return t=U6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U6(e){var t=z6(e,"string");return _l(t)=="symbol"?t:t+""}function z6(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F6(e,t){if(e==null)return{};var r=q6(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nP={symbolCircle:Vy,symbolCross:u6,symbolDiamond:f6,symbolSquare:h6,symbolStar:v6,symbolTriangle:y6,symbolWye:b6},W6=Math.PI/180,V6=function(t){var r="symbol".concat(qf(t));return nP[r]||Vy},H6=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*W6;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},K6=function(t,r){nP["symbol".concat(qf(t))]=r},Hy=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=F6(t,L6),c=tw(tw({},l),{},{type:n,size:a,sizeType:s}),d=function(){var v=V6(n),m=w6().type(v).size(H6(a,s,n));return m()},f=c.className,h=c.cx,p=c.cy,y=te(c,!0);return h===+h&&p===+p&&a===+a?T.createElement("path",sg({},y,{className:ue("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Hy.registerSymbol=K6;function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){Sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aP(n.key),n)}}function J6(e,t,r){return t&&Y6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q6(e,t,r){return t=dd(t),Z6(e,iP()?Reflect.construct(t,r||[],dd(e).constructor):t.apply(e,r))}function Z6(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e5(e)}function e5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(e)}function t5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}function cg(e,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cg(e,t)}function Sl(e,t,r){return t=aP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aP(e){var t=r5(e,"string");return go(t)=="symbol"?t:t+""}function r5(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hr=32,Ky=function(e){function t(){return X6(this,t),Q6(this,t,arguments)}return t5(t,e),J6(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=hr/2,o=hr/6,s=hr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:hr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(hr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(hr/8,"h").concat(hr,"v").concat(hr*3/4,"h").concat(-hr,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var c=G6({},n);return delete c.legendIcon,T.cloneElement(n.legendIcon,c)}return T.createElement(Hy,{fill:l,cx:a,cy:a,size:hr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:hr,height:hr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var g=p.formatter||l,v=ue(Sl(Sl({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var m=ie(p.value)?null:p.value;zr(!ie(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return T.createElement("li",lg({className:v,style:f,key:"legend-item-".concat(y)},aa(n.props,p,y)),T.createElement(Zm,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(m,p,y):m))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);Sl(Ky,"displayName","Legend");Sl(Ky,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var n5=Tf;function i5(){this.__data__=new n5,this.size=0}var a5=i5;function o5(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var s5=o5;function l5(e){return this.__data__.get(e)}var c5=l5;function u5(e){return this.__data__.has(e)}var d5=u5,f5=Tf,h5=Iy,p5=Ry,m5=200;function g5(e,t){var r=this.__data__;if(r instanceof f5){var n=r.__data__;if(!h5||n.length<m5-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new p5(n)}return r.set(e,t),this.size=r.size,this}var v5=g5,y5=Tf,x5=a5,b5=s5,w5=c5,_5=d5,S5=v5;function Zo(e){var t=this.__data__=new y5(e);this.size=t.size}Zo.prototype.clear=x5;Zo.prototype.delete=b5;Zo.prototype.get=w5;Zo.prototype.has=_5;Zo.prototype.set=S5;var oP=Zo,j5="__lodash_hash_undefined__";function O5(e){return this.__data__.set(e,j5),this}var E5=O5;function A5(e){return this.__data__.has(e)}var P5=A5,N5=Ry,T5=E5,k5=P5;function fd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new N5;++t<r;)this.add(e[t])}fd.prototype.add=fd.prototype.push=T5;fd.prototype.has=k5;var sP=fd;function C5(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var lP=C5;function $5(e,t){return e.has(t)}var cP=$5,I5=sP,R5=lP,M5=cP,D5=1,L5=2;function B5(e,t,r,n,i,a){var o=r&D5,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=r&L5?new I5:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var y=e[f],g=t[f];if(n)var v=o?n(g,y,f,t,e,a):n(y,g,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!R5(t,function(m,x){if(!M5(p,x)&&(y===m||i(y,m,r,n,a)))return p.push(x)})){h=!1;break}}else if(!(y===g||i(y,g,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var uP=B5,U5=tn,z5=U5.Uint8Array,F5=z5;function q5(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var W5=q5;function V5(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Gy=V5,nw=hc,iw=F5,H5=$y,K5=uP,G5=W5,X5=Gy,Y5=1,J5=2,Q5="[object Boolean]",Z5="[object Date]",eB="[object Error]",tB="[object Map]",rB="[object Number]",nB="[object RegExp]",iB="[object Set]",aB="[object String]",oB="[object Symbol]",sB="[object ArrayBuffer]",lB="[object DataView]",aw=nw?nw.prototype:void 0,pp=aw?aw.valueOf:void 0;function cB(e,t,r,n,i,a,o){switch(r){case lB:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sB:return!(e.byteLength!=t.byteLength||!a(new iw(e),new iw(t)));case Q5:case Z5:case rB:return H5(+e,+t);case eB:return e.name==t.name&&e.message==t.message;case nB:case aB:return e==t+"";case tB:var s=G5;case iB:var l=n&Y5;if(s||(s=X5),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=J5,o.set(e,t);var d=K5(s(e),s(t),n,i,a,o);return o.delete(e),d;case oB:if(pp)return pp.call(e)==pp.call(t)}return!1}var uB=cB;function dB(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var dP=dB,fB=dP,hB=Kt;function pB(e,t,r){var n=t(e);return hB(e)?n:fB(n,r(e))}var mB=pB;function gB(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var vB=gB;function yB(){return[]}var xB=yB,bB=vB,wB=xB,_B=Object.prototype,SB=_B.propertyIsEnumerable,ow=Object.getOwnPropertySymbols,jB=ow?function(e){return e==null?[]:(e=Object(e),bB(ow(e),function(t){return SB.call(e,t)}))}:wB,OB=jB;function EB(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var AB=EB,PB=Tn,NB=kn,TB="[object Arguments]";function kB(e){return NB(e)&&PB(e)==TB}var CB=kB,sw=CB,$B=kn,fP=Object.prototype,IB=fP.hasOwnProperty,RB=fP.propertyIsEnumerable,MB=sw(function(){return arguments}())?sw:function(e){return $B(e)&&IB.call(e,"callee")&&!RB.call(e,"callee")},Xy=MB,hd={exports:{}};function DB(){return!1}var LB=DB;hd.exports;(function(e,t){var r=tn,n=LB,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(hd,hd.exports);var hP=hd.exports,BB=9007199254740991,UB=/^(?:0|[1-9]\d*)$/;function zB(e,t){var r=typeof e;return t=t??BB,!!t&&(r=="number"||r!="symbol"&&UB.test(e))&&e>-1&&e%1==0&&e<t}var Yy=zB,FB=9007199254740991;function qB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=FB}var Jy=qB,WB=Tn,VB=Jy,HB=kn,KB="[object Arguments]",GB="[object Array]",XB="[object Boolean]",YB="[object Date]",JB="[object Error]",QB="[object Function]",ZB="[object Map]",e8="[object Number]",t8="[object Object]",r8="[object RegExp]",n8="[object Set]",i8="[object String]",a8="[object WeakMap]",o8="[object ArrayBuffer]",s8="[object DataView]",l8="[object Float32Array]",c8="[object Float64Array]",u8="[object Int8Array]",d8="[object Int16Array]",f8="[object Int32Array]",h8="[object Uint8Array]",p8="[object Uint8ClampedArray]",m8="[object Uint16Array]",g8="[object Uint32Array]",ke={};ke[l8]=ke[c8]=ke[u8]=ke[d8]=ke[f8]=ke[h8]=ke[p8]=ke[m8]=ke[g8]=!0;ke[KB]=ke[GB]=ke[o8]=ke[XB]=ke[s8]=ke[YB]=ke[JB]=ke[QB]=ke[ZB]=ke[e8]=ke[t8]=ke[r8]=ke[n8]=ke[i8]=ke[a8]=!1;function v8(e){return HB(e)&&VB(e.length)&&!!ke[WB(e)]}var y8=v8;function x8(e){return function(t){return e(t)}}var pP=x8,pd={exports:{}};pd.exports;(function(e,t){var r=_A,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(pd,pd.exports);var b8=pd.exports,w8=y8,_8=pP,lw=b8,cw=lw&&lw.isTypedArray,S8=cw?_8(cw):w8,mP=S8,j8=AB,O8=Xy,E8=Kt,A8=hP,P8=Yy,N8=mP,T8=Object.prototype,k8=T8.hasOwnProperty;function C8(e,t){var r=E8(e),n=!r&&O8(e),i=!r&&!n&&A8(e),a=!r&&!n&&!i&&N8(e),o=r||n||i||a,s=o?j8(e.length,String):[],l=s.length;for(var c in e)(t||k8.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||P8(c,l)))&&s.push(c);return s}var $8=C8,I8=Object.prototype;function R8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||I8;return e===r}var M8=R8;function D8(e,t){return function(r){return e(t(r))}}var gP=D8,L8=gP,B8=L8(Object.keys,Object),U8=B8,z8=M8,F8=U8,q8=Object.prototype,W8=q8.hasOwnProperty;function V8(e){if(!z8(e))return F8(e);var t=[];for(var r in Object(e))W8.call(e,r)&&r!="constructor"&&t.push(r);return t}var H8=V8,K8=Cy,G8=Jy;function X8(e){return e!=null&&G8(e.length)&&!K8(e)}var mc=X8,Y8=$8,J8=H8,Q8=mc;function Z8(e){return Q8(e)?Y8(e):J8(e)}var Kf=Z8,eU=mB,tU=OB,rU=Kf;function nU(e){return eU(e,rU,tU)}var iU=nU,uw=iU,aU=1,oU=Object.prototype,sU=oU.hasOwnProperty;function lU(e,t,r,n,i,a){var o=r&aU,s=uw(e),l=s.length,c=uw(t),d=c.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in t:sU.call(t,h)))return!1}var p=a.get(e),y=a.get(t);if(p&&y)return p==t&&y==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=o;++f<l;){h=s[f];var m=e[h],x=t[h];if(n)var b=o?n(x,m,h,t,e,a):n(m,x,h,e,t,a);if(!(b===void 0?m===x||i(m,x,r,n,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(e),a.delete(t),g}var cU=lU,uU=ha,dU=tn,fU=uU(dU,"DataView"),hU=fU,pU=ha,mU=tn,gU=pU(mU,"Promise"),vU=gU,yU=ha,xU=tn,bU=yU(xU,"Set"),vP=bU,wU=ha,_U=tn,SU=wU(_U,"WeakMap"),jU=SU,ug=hU,dg=Iy,fg=vU,hg=vP,pg=jU,yP=Tn,es=jA,dw="[object Map]",OU="[object Object]",fw="[object Promise]",hw="[object Set]",pw="[object WeakMap]",mw="[object DataView]",EU=es(ug),AU=es(dg),PU=es(fg),NU=es(hg),TU=es(pg),Ni=yP;(ug&&Ni(new ug(new ArrayBuffer(1)))!=mw||dg&&Ni(new dg)!=dw||fg&&Ni(fg.resolve())!=fw||hg&&Ni(new hg)!=hw||pg&&Ni(new pg)!=pw)&&(Ni=function(e){var t=yP(e),r=t==OU?e.constructor:void 0,n=r?es(r):"";if(n)switch(n){case EU:return mw;case AU:return dw;case PU:return fw;case NU:return hw;case TU:return pw}return t});var kU=Ni,mp=oP,CU=uP,$U=uB,IU=cU,gw=kU,vw=Kt,yw=hP,RU=mP,MU=1,xw="[object Arguments]",bw="[object Array]",Jc="[object Object]",DU=Object.prototype,ww=DU.hasOwnProperty;function LU(e,t,r,n,i,a){var o=vw(e),s=vw(t),l=o?bw:gw(e),c=s?bw:gw(t);l=l==xw?Jc:l,c=c==xw?Jc:c;var d=l==Jc,f=c==Jc,h=l==c;if(h&&yw(e)){if(!yw(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new mp),o||RU(e)?CU(e,t,r,n,i,a):$U(e,t,l,r,n,i,a);if(!(r&MU)){var p=d&&ww.call(e,"__wrapped__"),y=f&&ww.call(t,"__wrapped__");if(p||y){var g=p?e.value():e,v=y?t.value():t;return a||(a=new mp),i(g,v,r,n,a)}}return h?(a||(a=new mp),IU(e,t,r,n,i,a)):!1}var BU=LU,UU=BU,_w=kn;function xP(e,t,r,n,i){return e===t?!0:e==null||t==null||!_w(e)&&!_w(t)?e!==e&&t!==t:UU(e,t,r,n,xP,i)}var Qy=xP,zU=oP,FU=Qy,qU=1,WU=2;function VU(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var l=s[0],c=e[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new zU;if(n)var h=n(c,d,l,e,t,f);if(!(h===void 0?FU(d,c,qU|WU,n,f):h))return!1}}return!0}var HU=VU,KU=hi;function GU(e){return e===e&&!KU(e)}var bP=GU,XU=bP,YU=Kf;function JU(e){for(var t=YU(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,XU(i)]}return t}var QU=JU;function ZU(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var wP=ZU,ez=HU,tz=QU,rz=wP;function nz(e){var t=tz(e);return t.length==1&&t[0][2]?rz(t[0][0],t[0][1]):function(r){return r===e||ez(r,e,t)}}var iz=nz;function az(e,t){return e!=null&&t in Object(e)}var oz=az,sz=NA,lz=Xy,cz=Kt,uz=Yy,dz=Jy,fz=Cf;function hz(e,t,r){t=sz(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=fz(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&dz(i)&&uz(o,i)&&(cz(e)||lz(e)))}var pz=hz,mz=oz,gz=pz;function vz(e,t){return e!=null&&gz(e,t,mz)}var yz=vz,xz=Qy,bz=TA,wz=yz,_z=ky,Sz=bP,jz=wP,Oz=Cf,Ez=1,Az=2;function Pz(e,t){return _z(e)&&Sz(t)?jz(Oz(e),t):function(r){var n=bz(r,e);return n===void 0&&n===t?wz(r,e):xz(t,n,Ez|Az)}}var Nz=Pz;function Tz(e){return e}var ts=Tz;function kz(e){return function(t){return t==null?void 0:t[e]}}var Cz=kz,$z=Ly;function Iz(e){return function(t){return $z(t,e)}}var Rz=Iz,Mz=Cz,Dz=Rz,Lz=ky,Bz=Cf;function Uz(e){return Lz(e)?Mz(Bz(e)):Dz(e)}var zz=Uz,Fz=iz,qz=Nz,Wz=ts,Vz=Kt,Hz=zz;function Kz(e){return typeof e=="function"?e:e==null?Wz:typeof e=="object"?Vz(e)?qz(e[0],e[1]):Fz(e):Hz(e)}var rn=Kz;function Gz(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var _P=Gz;function Xz(e){return e!==e}var Yz=Xz;function Jz(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Qz=Jz,Zz=_P,eF=Yz,tF=Qz;function rF(e,t,r){return t===t?tF(e,t,r):Zz(e,eF,r)}var nF=rF,iF=nF;function aF(e,t){var r=e==null?0:e.length;return!!r&&iF(e,t,0)>-1}var oF=aF;function sF(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var lF=sF;function cF(){}var uF=cF,gp=vP,dF=uF,fF=Gy,hF=1/0,pF=gp&&1/fF(new gp([,-0]))[1]==hF?function(e){return new gp(e)}:dF,mF=pF,gF=sP,vF=oF,yF=lF,xF=cP,bF=mF,wF=Gy,_F=200;function SF(e,t,r){var n=-1,i=vF,a=e.length,o=!0,s=[],l=s;if(r)o=!1,i=yF;else if(a>=_F){var c=t?null:bF(e);if(c)return wF(c);o=!1,i=xF,l=new gF}else l=t?[]:s;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else i(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var jF=SF,OF=rn,EF=jF;function AF(e,t){return e&&e.length?EF(e,OF(t)):[]}var PF=AF;const Sw=be(PF);function SP(e,t,r){return t===!0?Sw(e,r):ie(t)?Sw(e,t):e}function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}var NF=["ref"];function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){Gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ow(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OP(n.key),n)}}function kF(e,t,r){return t&&Ow(e.prototype,t),r&&Ow(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CF(e,t,r){return t=md(t),$F(e,jP()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function $F(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IF(e)}function IF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jP=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function RF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mg(e,t)}function Gf(e,t,r){return t=OP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OP(e){var t=MF(e,"string");return vo(t)=="symbol"?t:t+""}function MF(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DF(e,t){if(e==null)return{};var r=LF(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BF(e){return e.value}function UF(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=DF(t,NF);return T.createElement(Ky,r)}var Ew=1,ni=function(e){function t(){var r;TF(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=CF(this,t,[].concat(i)),Gf(r,"lastBoundingBox",{width:-1,height:-1}),r}return RF(t,e),kF(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Ew||Math.abs(i.height-this.lastBoundingBox.height)>Ew)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?nn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return nn(nn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=nn(nn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return T.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},UF(a,nn(nn({},this.props),{},{payload:SP(d,c,BF)})))}}],[{key:"getWithHeight",value:function(n,i){var a=nn(nn({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&H(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(O.PureComponent);Gf(ni,"displayName","Legend");Gf(ni,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Aw=hc,zF=Xy,FF=Kt,Pw=Aw?Aw.isConcatSpreadable:void 0;function qF(e){return FF(e)||zF(e)||!!(Pw&&e&&e[Pw])}var WF=qF,VF=dP,HF=WF;function EP(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=HF),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?EP(s,t-1,r,n,i):VF(i,s):n||(i[i.length]=s)}return i}var AP=EP;function KF(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(r(a[l],l,a)===!1)break}return t}}var GF=KF,XF=GF,YF=XF(),JF=YF,QF=JF,ZF=Kf;function eq(e,t){return e&&QF(e,t,ZF)}var PP=eq,tq=mc;function rq(e,t){return function(r,n){if(r==null)return r;if(!tq(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var nq=rq,iq=PP,aq=nq,oq=aq(iq),Zy=oq,sq=Zy,lq=mc;function cq(e,t){var r=-1,n=lq(e)?Array(e.length):[];return sq(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var NP=cq;function uq(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var dq=uq,Nw=Ko;function fq(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=Nw(e),o=t!==void 0,s=t===null,l=t===t,c=Nw(t);if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var hq=fq,pq=hq;function mq(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var l=pq(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var gq=mq,vp=Dy,vq=Ly,yq=rn,xq=NP,bq=dq,wq=pP,_q=gq,Sq=ts,jq=Kt;function Oq(e,t,r){t.length?t=vp(t,function(a){return jq(a)?function(o){return vq(o,a.length===1?a[0]:a)}:a}):t=[Sq];var n=-1;t=vp(t,wq(yq));var i=xq(e,function(a,o,s){var l=vp(t,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return bq(i,function(a,o){return _q(a,o,r)})}var Eq=Oq;function Aq(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Pq=Aq,Nq=Pq,Tw=Math.max;function Tq(e,t,r){return t=Tw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Tw(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Nq(e,this,s)}}var kq=Tq;function Cq(e){return function(){return e}}var $q=Cq,Iq=ha,Rq=function(){try{var e=Iq(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TP=Rq,Mq=$q,kw=TP,Dq=ts,Lq=kw?function(e,t){return kw(e,"toString",{configurable:!0,enumerable:!1,value:Mq(t),writable:!0})}:Dq,Bq=Lq,Uq=800,zq=16,Fq=Date.now;function qq(e){var t=0,r=0;return function(){var n=Fq(),i=zq-(n-r);if(r=n,i>0){if(++t>=Uq)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Wq=qq,Vq=Bq,Hq=Wq,Kq=Hq(Vq),Gq=Kq,Xq=ts,Yq=kq,Jq=Gq;function Qq(e,t){return Jq(Yq(e,t,Xq),e+"")}var Zq=Qq,eW=$y,tW=mc,rW=Yy,nW=hi;function iW(e,t,r){if(!nW(r))return!1;var n=typeof t;return(n=="number"?tW(r)&&rW(t,r.length):n=="string"&&t in r)?eW(r[t],e):!1}var Xf=iW,aW=AP,oW=Eq,sW=Zq,Cw=Xf,lW=sW(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Cw(e,t[0],t[1])?t=[]:r>2&&Cw(t[0],t[1],t[2])&&(t=[t[0]]),oW(e,aW(t,1),[])}),cW=lW;const e0=be(cW);function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function uW(e,t){return pW(e)||hW(e,t)||fW(e,t)||dW()}function dW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fW(e,t){if(e){if(typeof e=="string")return $w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(e,t)}}function $w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function pW(e){if(Array.isArray(e))return e}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){mW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mW(e,t,r){return t=gW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=vW(e,"string");return jl(t)=="symbol"?t:t+""}function vW(e,t){if(jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yW(e){return Array.isArray(e)&&ot(e[0])&&ot(e[1])?e.join(" ~ "):e}var xW=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,g=t.label,v=t.labelFormatter,m=t.accessibilityLayer,x=m===void 0?!1:m,b=function(){if(d&&d.length){var k={padding:0,margin:0},R=(h?e0(d,h):d).map(function(D,L){if(D.type==="none")return null;var $=yp({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),M=D.formatter||f||yW,I=D.value,C=D.name,U=I,K=C;if(M&&U!=null&&K!=null){var z=M(I,C,D,L,d);if(Array.isArray(z)){var Y=uW(z,2);U=Y[0],K=Y[1]}else U=z}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:$},ot(K)?T.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ot(K)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},U),T.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:k},R)}return null},S=yp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=yp({margin:0},c),_=!se(g),j=_?g:"",E=ue("recharts-default-tooltip",p),A=ue("recharts-tooltip-label",y);_&&v&&d!==void 0&&d!==null&&(j=v(g,d));var N=x?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",gg({className:E,style:S},N),T.createElement("p",{className:A,style:w},T.isValidElement(j)?j:"".concat(j)),b())};function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function Qc(e,t,r){return t=bW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=wW(e,"string");return Ol(t)=="symbol"?t:t+""}function wW(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ms="recharts-tooltip-wrapper",_W={visibility:"hidden"};function SW(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ue(ms,Qc(Qc(Qc(Qc({},"".concat(ms,"-right"),H(r)&&t&&H(t.x)&&r>=t.x),"".concat(ms,"-left"),H(r)&&t&&H(t.x)&&r<t.x),"".concat(ms,"-bottom"),H(n)&&t&&H(t.y)&&n>=t.y),"".concat(ms,"-top"),H(n)&&t&&H(t.y)&&n<t.y))}function Rw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&H(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var y=f+s,g=l[n]+c;return y>g?Math.max(d,l[n]):Math.max(f,l[n])}function jW(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function OW(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,f;return o.height>0&&o.width>0&&r?(d=Rw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Rw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=jW({translateX:d,translateY:f,useTranslate3d:s})):c=_W,{cssProperties:c,cssClasses:SW({translateX:d,translateY:f,coordinate:r})}}function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CP(n.key),n)}}function PW(e,t,r){return t&&AW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NW(e,t,r){return t=gd(t),TW(e,kP()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function TW(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kW(e)}function kW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kP=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function CW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vg(e,t)}function yg(e,t,r){return t=CP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CP(e){var t=$W(e,"string");return yo(t)=="symbol"?t:t+""}function $W(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lw=1,IW=function(e){function t(){var r;EW(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=NW(this,t,[].concat(i)),yg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yg(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return CW(t,e),PW(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Lw||Math.abs(n.height-this.state.lastBoundingBox.height)>Lw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,m=i.viewBox,x=i.wrapperStyle,b=OW({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:m}),S=b.cssClasses,w=b.cssProperties,_=Dw(Dw({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return T.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(E){n.wrapperNode=E}},c)}}])}(O.PureComponent),RW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pa={isSsr:RW()};function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){t0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IP(n.key),n)}}function LW(e,t,r){return t&&DW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BW(e,t,r){return t=vd(t),UW(e,$P()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function UW(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zW(e)}function zW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($P=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function FW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xg(e,t)}function xg(e,t){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xg(e,t)}function t0(e,t,r){return t=IP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IP(e){var t=qW(e,"string");return xo(t)=="symbol"?t:t+""}function qW(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WW(e){return e.dataKey}function VW(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(xW,t)}var Qt=function(e){function t(){return MW(this,t),BW(this,t,arguments)}return FW(t,e),LW(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,m=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,w=y??[];f&&w.length&&(w=SP(y.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),g,WW));var _=w.length>0;return T.createElement(IW,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:m,useTranslate3d:x,viewBox:b,wrapperStyle:S},VW(c,Uw(Uw({},this.props),{},{payload:w})))}}])}(O.PureComponent);t0(Qt,"displayName","Tooltip");t0(Qt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HW=tn,KW=function(){return HW.Date.now()},GW=KW,XW=/\s/;function YW(e){for(var t=e.length;t--&&XW.test(e.charAt(t)););return t}var JW=YW,QW=JW,ZW=/^\s+/;function e7(e){return e&&e.slice(0,QW(e)+1).replace(ZW,"")}var t7=e7,r7=t7,zw=hi,n7=Ko,Fw=NaN,i7=/^[-+]0x[0-9a-f]+$/i,a7=/^0b[01]+$/i,o7=/^0o[0-7]+$/i,s7=parseInt;function l7(e){if(typeof e=="number")return e;if(n7(e))return Fw;if(zw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=r7(e);var r=a7.test(e);return r||o7.test(e)?s7(e.slice(2),r?2:8):i7.test(e)?Fw:+e}var RP=l7,c7=hi,xp=GW,qw=RP,u7="Expected a function",d7=Math.max,f7=Math.min;function h7(e,t,r){var n,i,a,o,s,l,c=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(u7);t=qw(t)||0,c7(r)&&(d=!!r.leading,f="maxWait"in r,a=f?d7(qw(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(_){var j=n,E=i;return n=i=void 0,c=_,o=e.apply(E,j),o}function y(_){return c=_,s=setTimeout(m,t),d?p(_):o}function g(_){var j=_-l,E=_-c,A=t-j;return f?f7(A,a-E):A}function v(_){var j=_-l,E=_-c;return l===void 0||j>=t||j<0||f&&E>=a}function m(){var _=xp();if(v(_))return x(_);s=setTimeout(m,g(_))}function x(_){return s=void 0,h&&n?p(_):(n=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function S(){return s===void 0?o:x(xp())}function w(){var _=xp(),j=v(_);if(n=arguments,i=this,l=_,j){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(m,t),p(l)}return s===void 0&&(s=setTimeout(m,t)),o}return w.cancel=b,w.flush=S,w}var p7=h7,m7=p7,g7=hi,v7="Expected a function";function y7(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(v7);return g7(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),m7(e,t,{leading:n,maxWait:t,trailing:i})}var x7=y7;const MP=be(x7);function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){b7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b7(e,t,r){return t=w7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w7(e){var t=_7(e,"string");return El(t)=="symbol"?t:t+""}function _7(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S7(e,t){return A7(e)||E7(e,t)||O7(e,t)||j7()}function j7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O7(e,t){if(e){if(typeof e=="string")return Vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(e,t)}}function Vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function A7(e){if(Array.isArray(e))return e}var eu=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,g=y===void 0?0:y,v=e.id,m=e.className,x=e.onResize,b=e.style,S=b===void 0?{}:b,w=O.useRef(null),_=O.useRef();_.current=x,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:i.width,containerHeight:i.height}),E=S7(j,2),A=E[0],N=E[1],P=O.useCallback(function(R,D){N(function(L){var $=Math.round(R),M=Math.round(D);return L.containerWidth===$&&L.containerHeight===M?L:{containerWidth:$,containerHeight:M}})},[]);O.useEffect(function(){var R=function(C){var U,K=C[0].contentRect,z=K.width,Y=K.height;P(z,Y),(U=_.current)===null||U===void 0||U.call(_,z,Y)};g>0&&(R=MP(R,g,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),L=w.current.getBoundingClientRect(),$=L.width,M=L.height;return P($,M),D.observe(w.current),function(){D.disconnect()}},[P,g]);var k=O.useMemo(function(){var R=A.containerWidth,D=A.containerHeight;if(R<0||D<0)return null;zr(Li(o)||Li(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),zr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Li(o)?R:o,$=Li(l)?D:l;r&&r>0&&(L?$=L/r:$&&(L=$*r),h&&$>h&&($=h)),zr(L>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,$,o,l,d,f,r);var M=!Array.isArray(p)&&vn(p.type).endsWith("Chart");return T.Children.map(p,function(I){return T.isValidElement(I)?O.cloneElement(I,Zc({width:L,height:$},M?{style:Zc({height:"100%",width:"100%",maxHeight:$,maxWidth:L},I.props.style)}:{})):I})},[r,p,l,h,f,d,A,o]);return T.createElement("div",{id:v?"".concat(v):void 0,className:ue("recharts-responsive-container",m),style:Zc(Zc({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},k)}),Yf=function(t){return null};Yf.displayName="Cell";function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){P7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P7(e,t,r){return t=N7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=T7(e,"string");return Al(t)=="symbol"?t:t+""}function T7(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oa={widthCache:{},cacheCount:0},k7=2e3,C7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kw="recharts_measurement_span";function $7(e){var t=bg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Vs=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pa.isSsr)return{width:0,height:0};var n=$7(r),i=JSON.stringify({text:t,copyStyle:n});if(Oa.widthCache[i])return Oa.widthCache[i];try{var a=document.getElementById(Kw);a||(a=document.createElement("span"),a.setAttribute("id",Kw),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=bg(bg({},C7),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Oa.widthCache[i]=l,++Oa.cacheCount>k7&&(Oa.cacheCount=0,Oa.widthCache={}),l}catch{return{width:0,height:0}}},I7=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function yd(e,t){return L7(e)||D7(e,t)||M7(e,t)||R7()}function R7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7(e,t){if(e){if(typeof e=="string")return Gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(e,t)}}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function L7(e){if(Array.isArray(e))return e}function B7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z7(n.key),n)}}function U7(e,t,r){return t&&Xw(e.prototype,t),r&&Xw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z7(e){var t=F7(e,"string");return Pl(t)=="symbol"?t:t+""}function F7(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,W7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},V7=Object.keys(DP),Wa="NaN";function H7(e,t){return e*DP[t]}var tu=function(){function e(t,r){B7(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!q7.test(r)&&(this.num=NaN,this.unit=""),V7.includes(r)&&(this.num=H7(t,r),this.unit="px")}return U7(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=W7.exec(r))!==null&&n!==void 0?n:[],a=yd(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function LP(e){if(e.includes(Wa))return Wa;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Yw.exec(t))!==null&&r!==void 0?r:[],i=yd(n,4),a=i[1],o=i[2],s=i[3],l=tu.parse(a??""),c=tu.parse(s??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Wa;t=t.replace(Yw,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Jw.exec(t))!==null&&f!==void 0?f:[],p=yd(h,4),y=p[1],g=p[2],v=p[3],m=tu.parse(y??""),x=tu.parse(v??""),b=g==="+"?m.add(x):m.subtract(x);if(b.isNaN())return Wa;t=t.replace(Jw,b.toString())}return t}var Qw=/\(([^()]*)\)/;function K7(e){for(var t=e;t.includes("(");){var r=Qw.exec(t),n=yd(r,2),i=n[1];t=t.replace(Qw,LP(i))}return t}function G7(e){var t=e.replace(/\s+/g,"");return t=K7(t),t=LP(t),t}function X7(e){try{return G7(e)}catch{return Wa}}function bp(e){var t=X7(e.slice(5,-1));return t===Wa?"":t}var Y7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],J7=["dx","dy","angle","className","breakAll"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function Zw(e,t){if(e==null)return{};var r=Q7(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e_(e,t){return rV(e)||tV(e,t)||eV(e,t)||Z7()}function Z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eV(e,t){if(e){if(typeof e=="string")return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function rV(e){if(Array.isArray(e))return e}var BP=/[ \f\n\r\t\v\u2028\u2029]+/,UP=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];se(r)||(n?a=r.toString().split(""):a=r.toString().split(BP));var o=a.map(function(l){return{word:l,width:Vs(l,i).width}}),s=n?0:Vs("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},nV=function(t,r,n,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=H(o),f=s,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function($,M){var I=M.word,C=M.width,U=$[$.length-1];if(U&&(i==null||a||U.width+C+n<Number(i)))U.words.push(I),U.width+=C+n;else{var K={words:[I],width:C};$.push(K)}return $},[])},p=h(r),y=function(L){return L.reduce(function($,M){return $.width>M.width?$:M})};if(!d)return p;for(var g="",v=function(L){var $=f.slice(0,L),M=UP({breakAll:c,style:l,children:$+g}).wordsWithComputedWidth,I=h(M),C=I.length>o||y(I).width>Number(i);return[C,I]},m=0,x=f.length-1,b=0,S;m<=x&&b<=f.length-1;){var w=Math.floor((m+x)/2),_=w-1,j=v(_),E=e_(j,2),A=E[0],N=E[1],P=v(w),k=e_(P,1),R=k[0];if(!A&&!R&&(m=w+1),A&&R&&(x=w-1),!A&&R){S=N;break}b++}return S||p},r_=function(t){var r=se(t)?[]:t.toString().split(BP);return[{words:r}]},iV=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!pa.isSsr){var l,c,d=UP({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return r_(i);return nV({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return r_(i)},n_="#808080",oa=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,g=y===void 0?"end":y,v=t.fill,m=v===void 0?n_:v,x=Zw(t,Y7),b=O.useMemo(function(){return iV({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),S=x.dx,w=x.dy,_=x.angle,j=x.className,E=x.breakAll,A=Zw(x,J7);if(!ot(n)||!ot(a))return null;var N=n+(H(S)?S:0),P=a+(H(w)?w:0),k;switch(g){case"start":k=bp("calc(".concat(c,")"));break;case"middle":k=bp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:k=bp("calc(".concat(b.length-1," * -").concat(s,")"));break}var R=[];if(f){var D=b[0].width,L=x.width;R.push("scale(".concat((H(L)?L/D:1)/D,")"))}return _&&R.push("rotate(".concat(_,", ").concat(N,", ").concat(P,")")),R.length&&(A.transform=R.join(" ")),T.createElement("text",wg({},te(A,!0),{x:N,y:P,className:ue("recharts-text",j),textAnchor:p,fill:m.includes("url")?n_:m}),b.map(function($,M){var I=$.words.join(E?"":" ");return T.createElement("tspan",{x:N,dy:M===0?k:s,key:"".concat(I,"-").concat(M)},I)}))};function ii(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r0(e){let t,r,n;e.length!==2?(t=ii,r=(s,l)=>ii(e(s),l),n=(s,l)=>e(s)-l):(t=e===ii||e===aV?e:oV,r=e,n=e);function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function oV(){return 0}function zP(e){return e===null?NaN:+e}function*sV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const lV=r0(ii),gc=lV.right;r0(zP).center;class i_ extends Map{constructor(t,r=dV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(a_(this,t))}has(t){return super.has(a_(this,t))}set(t,r){return super.set(cV(this,t),r)}delete(t){return super.delete(uV(this,t))}}function a_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function cV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function uV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function dV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fV(e=ii){if(e===ii)return FP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function FP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hV=Math.sqrt(50),pV=Math.sqrt(10),mV=Math.sqrt(2);function xd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=hV?10:a>=pV?5:a>=mV?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?xd(e,t,r*2):[s,l,c]}function _g(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?xd(t,e,r):xd(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Sg(e,t,r){return t=+t,e=+e,r=+r,xd(e,t,r)[2]}function jg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Sg(t,e,r):Sg(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function o_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function s_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?FP:fV(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),y=Math.min(n,Math.floor(t+(l-c)*f/l+h));qP(e,t,p,y,i)}const a=e[t];let o=r,s=n;for(gs(e,r,t),i(e[n],a)>0&&gs(e,r,n);o<s;){for(gs(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?gs(e,r,s):(++s,gs(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function gs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function gV(e,t,r){if(e=Float64Array.from(sV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return s_(e);if(t>=1)return o_(e);var n,i=(n-1)*t,a=Math.floor(i),o=o_(qP(e,a).subarray(0,a+1)),s=s_(e.subarray(a+1));return o+(s-o)*(i-a)}}function vV(e,t,r=zP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function yV(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Er(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Og=Symbol("implicit");function n0(){var e=new i_,t=[],r=[],n=Og;function i(a){let o=e.get(a);if(o===void 0){if(n!==Og)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new i_;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return n0(t,r).unknown(n)},Er.apply(i,arguments),i}function Nl(){var e=n0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,y=p?i:n,g=p?n:i;a=(g-y)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),y+=(g-y-a*(h-l))*d,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var v=yV(h).map(function(m){return y+a*m});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Nl(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Er.apply(f(),arguments)}function WP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WP(t())},e}function Hs(){return WP(Nl.apply(null,arguments).paddingInner(1))}function i0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function VP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function vc(){}var Tl=.7,bd=1/Tl,no="\\s*([+-]?\\d+)\\s*",kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xV=/^#([0-9a-f]{3,8})$/,bV=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),wV=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),_V=new RegExp(`^rgba\\(${no},${no},${no},${kl}\\)$`),SV=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${kl}\\)$`),jV=new RegExp(`^hsl\\(${kl},${Jr},${Jr}\\)$`),OV=new RegExp(`^hsla\\(${kl},${Jr},${Jr},${kl}\\)$`),l_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i0(vc,Cl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c_,formatHex:c_,formatHex8:EV,formatHsl:AV,formatRgb:u_,toString:u_});function c_(){return this.rgb().formatHex()}function EV(){return this.rgb().formatHex8()}function AV(){return HP(this).formatHsl()}function u_(){return this.rgb().formatRgb()}function Cl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xV.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?d_(t):r===3?new Ft(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ru(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ru(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bV.exec(e))?new Ft(t[1],t[2],t[3],1):(t=wV.exec(e))?new Ft(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_V.exec(e))?ru(t[1],t[2],t[3],t[4]):(t=SV.exec(e))?ru(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jV.exec(e))?p_(t[1],t[2]/100,t[3]/100,1):(t=OV.exec(e))?p_(t[1],t[2]/100,t[3]/100,t[4]):l_.hasOwnProperty(e)?d_(l_[e]):e==="transparent"?new Ft(NaN,NaN,NaN,0):null}function d_(e){return new Ft(e>>16&255,e>>8&255,e&255,1)}function ru(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ft(e,t,r,n)}function PV(e){return e instanceof vc||(e=Cl(e)),e?(e=e.rgb(),new Ft(e.r,e.g,e.b,e.opacity)):new Ft}function Eg(e,t,r,n){return arguments.length===1?PV(e):new Ft(e,t,r,n??1)}function Ft(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}i0(Ft,Eg,VP(vc,{brighter(e){return e=e==null?bd:Math.pow(bd,e),new Ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tl:Math.pow(Tl,e),new Ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ft(Ki(this.r),Ki(this.g),Ki(this.b),wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f_,formatHex:f_,formatHex8:NV,formatRgb:h_,toString:h_}));function f_(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}`}function NV(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}${Bi((isNaN(this.opacity)?1:this.opacity)*255)}`}function h_(){const e=wd(this.opacity);return`${e===1?"rgb(":"rgba("}${Ki(this.r)}, ${Ki(this.g)}, ${Ki(this.b)}${e===1?")":`, ${e})`}`}function wd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ki(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bi(e){return e=Ki(e),(e<16?"0":"")+e.toString(16)}function p_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Lr(e,t,r,n)}function HP(e){if(e instanceof Lr)return new Lr(e.h,e.s,e.l,e.opacity);if(e instanceof vc||(e=Cl(e)),!e)return new Lr;if(e instanceof Lr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Lr(o,s,l,e.opacity)}function TV(e,t,r,n){return arguments.length===1?HP(e):new Lr(e,t,r,n??1)}function Lr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}i0(Lr,TV,VP(vc,{brighter(e){return e=e==null?bd:Math.pow(bd,e),new Lr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tl:Math.pow(Tl,e),new Lr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ft(wp(e>=240?e-240:e+120,i,n),wp(e,i,n),wp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Lr(m_(this.h),nu(this.s),nu(this.l),wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wd(this.opacity);return`${e===1?"hsl(":"hsla("}${m_(this.h)}, ${nu(this.s)*100}%, ${nu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function m_(e){return e=(e||0)%360,e<0?e+360:e}function nu(e){return Math.max(0,Math.min(1,e||0))}function wp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const a0=e=>()=>e;function kV(e,t){return function(r){return e+r*t}}function CV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $V(e){return(e=+e)==1?KP:function(t,r){return r-t?CV(t,r,e):a0(isNaN(t)?r:t)}}function KP(e,t){var r=t-e;return r?kV(e,r):a0(isNaN(e)?t:e)}const g_=function e(t){var r=$V(t);function n(i,a){var o=r((i=Eg(i)).r,(a=Eg(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=KP(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=e,n}(1);function IV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function RV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function MV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=rs(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function DV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _d(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function LV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=rs(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ag=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_p=new RegExp(Ag.source,"g");function BV(e){return function(){return e}}function UV(e){return function(t){return e(t)+""}}function zV(e,t){var r=Ag.lastIndex=_p.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Ag.exec(e))&&(i=_p.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:_d(n,i)})),r=_p.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?UV(l[0].x):BV(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function rs(e,t){var r=typeof t,n;return t==null||r==="boolean"?a0(t):(r==="number"?_d:r==="string"?(n=Cl(t))?(t=n,g_):zV:t instanceof Cl?g_:t instanceof Date?DV:RV(t)?IV:Array.isArray(t)?MV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LV:_d)(e,t)}function o0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function FV(e,t){t===void 0&&(t=e,e=rs);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function qV(e){return function(){return e}}function Sd(e){return+e}var v_=[0,1];function kt(e){return e}function Pg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:qV(isNaN(t)?NaN:.5)}function WV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VV(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Pg(i,n),a=r(o,a)):(n=Pg(n,i),a=r(a,o)),function(s){return a(n(s))}}function HV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Pg(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=gc(e,s,1,n)-1;return a[l](i[l](s))}}function yc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jf(){var e=v_,t=v_,r=rs,n,i,a,o=kt,s,l,c;function d(){var h=Math.min(e.length,t.length);return o!==kt&&(o=WV(e[0],e[h-1])),s=h>2?HV:VV,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(t,e.map(n),_d)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Sd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=o0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:kt,d()):o!==kt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function s0(){return Jf()(kt,kt)}function KV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bo(e){return e=jd(Math.abs(e)),e?e[1]:NaN}function GV(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function XV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $l(e){if(!(t=YV.exec(e)))throw new Error("invalid format: "+e);var t;return new l0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$l.prototype=l0.prototype;function l0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}l0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JV(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var GP;function QV(e,t){var r=jd(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(GP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+jd(e,Math.max(0,t+a-1))[0]}function y_(e,t){var r=jd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const x_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:KV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>y_(e*100,t),r:y_,s:QV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function b_(e){return e}var w_=Array.prototype.map,__=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZV(e){var t=e.grouping===void 0||e.thousands===void 0?b_:GV(w_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?b_:XV(w_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=$l(f);var h=f.fill,p=f.align,y=f.sign,g=f.symbol,v=f.zero,m=f.width,x=f.comma,b=f.precision,S=f.trim,w=f.type;w==="n"?(x=!0,w="g"):x_[w]||(b===void 0&&(b=12),S=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=g==="$"?n:/[%p]/.test(w)?o:"",E=x_[w],A=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(P){var k=_,R=j,D,L,$;if(w==="c")R=E(P)+R,P="";else{P=+P;var M=P<0||1/P<0;if(P=isNaN(P)?l:E(Math.abs(P),b),S&&(P=JV(P)),M&&+P==0&&y!=="+"&&(M=!1),k=(M?y==="("?y:s:y==="-"||y==="("?"":y)+k,R=(w==="s"?__[8+GP/3]:"")+R+(M&&y==="("?")":""),A){for(D=-1,L=P.length;++D<L;)if($=P.charCodeAt(D),48>$||$>57){R=($===46?i+P.slice(D+1):P.slice(D))+R,P=P.slice(0,D);break}}}x&&!v&&(P=t(P,1/0));var I=k.length+P.length+R.length,C=I<m?new Array(m-I+1).join(h):"";switch(x&&v&&(P=t(C+P,C.length?m-R.length:1/0),C=""),p){case"<":P=k+P+R+C;break;case"=":P=k+C+P+R;break;case"^":P=C.slice(0,I=C.length>>1)+k+P+R+C.slice(I);break;default:P=C+k+P+R;break}return a(P)}return N.toString=function(){return f+""},N}function d(f,h){var p=c((f=$l(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(bo(h)/3)))*3,g=Math.pow(10,-y),v=__[8+y/3];return function(m){return p(g*m)+v}}return{format:c,formatPrefix:d}}var iu,c0,XP;e9({thousands:",",grouping:[3],currency:["$",""]});function e9(e){return iu=ZV(e),c0=iu.format,XP=iu.formatPrefix,iu}function t9(e){return Math.max(0,-bo(Math.abs(e)))}function r9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bo(t)/3)))*3-bo(Math.abs(e)))}function n9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bo(t)-bo(e))+1}function YP(e,t,r,n){var i=jg(e,t,r),a;switch(n=$l(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=r9(i,o))&&(n.precision=a),XP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=n9(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=t9(i))&&(n.precision=a-(n.type==="%")*2);break}}return c0(n)}function pi(e){var t=e.domain;return e.ticks=function(r){var n=t();return _g(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return YP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);d-- >0;){if(c=Sg(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Od(){var e=s0();return e.copy=function(){return yc(e,Od())},Er.apply(e,arguments),pi(e)}function JP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return JP(e).unknown(t)},e=arguments.length?Array.from(e,Sd):[0,1],pi(r)}function QP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function S_(e){return Math.log(e)}function j_(e){return Math.exp(e)}function i9(e){return-Math.log(-e)}function a9(e){return-Math.exp(-e)}function o9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function s9(e){return e===10?o9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function l9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function O_(e){return(t,r)=>-e(-t,r)}function u0(e){const t=e(S_,j_),r=t.domain;let n=10,i,a;function o(){return i=l9(n),a=s9(n),r()[0]<0?(i=O_(i),a=O_(a),e(i9,a9)):e(S_,j_),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),y,g;const v=s==null?10:+s;let m=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(y=1;y<n;++y)if(g=h<0?y/a(-h):y*a(h),!(g<c)){if(g>d)break;m.push(g)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(g=h>0?y/a(-h):y*a(h),!(g<c)){if(g>d)break;m.push(g)}m.length*2<v&&(m=_g(c,d,v))}else m=_g(h,p,Math.min(p-h,v)).map(a);return f?m.reverse():m},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=$l(l)).precision==null&&(l.trim=!0),l=c0(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(QP(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function ZP(){const e=u0(Jf()).domain([1,10]);return e.copy=()=>yc(e,ZP()).base(e.base()),Er.apply(e,arguments),e}function E_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function A_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function d0(e){var t=1,r=e(E_(t),A_(t));return r.constant=function(n){return arguments.length?e(E_(t=+n),A_(t)):t},pi(r)}function eN(){var e=d0(Jf());return e.copy=function(){return yc(e,eN()).constant(e.constant())},Er.apply(e,arguments)}function P_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function c9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u9(e){return e<0?-e*e:e*e}function f0(e){var t=e(kt,kt),r=1;function n(){return r===1?e(kt,kt):r===.5?e(c9,u9):e(P_(r),P_(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},pi(t)}function h0(){var e=f0(Jf());return e.copy=function(){return yc(e,h0()).exponent(e.exponent())},Er.apply(e,arguments),e}function d9(){return h0.apply(null,arguments).exponent(.5)}function N_(e){return Math.sign(e)*e*e}function f9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tN(){var e=s0(),t=[0,1],r=!1,n;function i(a){var o=f9(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(N_(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Sd)).map(N_)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return tN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Er.apply(i,arguments),pi(i)}function rN(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=vV(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[gc(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ii),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return rN().domain(e).range(t).unknown(n)},Er.apply(a,arguments)}function nN(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[gc(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return nN().domain([e,t]).range(i).unknown(a)},Er.apply(pi(o),arguments)}function iN(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[gc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return iN().domain(e).range(t).unknown(r)},Er.apply(i,arguments)}const Sp=new Date,jp=new Date;function st(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>st(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Sp.setTime(+a),jp.setTime(+o),e(Sp),e(jp),Math.floor(r(Sp,jp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ed=st(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ed.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?st(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ed);Ed.range;const fn=1e3,yr=fn*60,hn=yr*60,On=hn*24,p0=On*7,T_=On*30,Op=On*365,Ui=st(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getUTCSeconds());Ui.range;const m0=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fn)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getMinutes());m0.range;const g0=st(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getUTCMinutes());g0.range;const v0=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fn-e.getMinutes()*yr)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getHours());v0.range;const y0=st(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getUTCHours());y0.range;const xc=st(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yr)/On,e=>e.getDate()-1);xc.range;const Qf=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/On,e=>e.getUTCDate()-1);Qf.range;const aN=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/On,e=>Math.floor(e/On));aN.range;function ma(e){return st(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*yr)/p0)}const Zf=ma(0),Ad=ma(1),h9=ma(2),p9=ma(3),wo=ma(4),m9=ma(5),g9=ma(6);Zf.range;Ad.range;h9.range;p9.range;wo.range;m9.range;g9.range;function ga(e){return st(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/p0)}const eh=ga(0),Pd=ga(1),v9=ga(2),y9=ga(3),_o=ga(4),x9=ga(5),b9=ga(6);eh.range;Pd.range;v9.range;y9.range;_o.range;x9.range;b9.range;const x0=st(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());x0.range;const b0=st(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());b0.range;const En=st(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());En.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});En.range;const An=st(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());An.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});An.range;function oN(e,t,r,n,i,a){const o=[[Ui,1,fn],[Ui,5,5*fn],[Ui,15,15*fn],[Ui,30,30*fn],[a,1,yr],[a,5,5*yr],[a,15,15*yr],[a,30,30*yr],[i,1,hn],[i,3,3*hn],[i,6,6*hn],[i,12,12*hn],[n,1,On],[n,2,2*On],[r,1,p0],[t,1,T_],[t,3,3*T_],[e,1,Op]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),y=p?p.range(c,+d+1):[];return h?y.reverse():y}function l(c,d,f){const h=Math.abs(d-c)/f,p=r0(([,,v])=>v).right(o,h);if(p===o.length)return e.every(jg(c/Op,d/Op,f));if(p===0)return Ed.every(Math.max(jg(c,d,f),1));const[y,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(g)}return[s,l]}const[w9,_9]=oN(An,b0,eh,aN,y0,g0),[S9,j9]=oN(En,x0,Zf,xc,v0,m0);function Ep(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ap(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function O9(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ys(i),d=xs(i),f=ys(a),h=xs(a),p=ys(o),y=xs(o),g=ys(s),v=xs(s),m=ys(l),x=xs(l),b={a:M,A:I,b:C,B:U,c:null,d:M_,e:M_,f:G9,g:iH,G:oH,H:V9,I:H9,j:K9,L:sN,m:X9,M:Y9,p:K,q:z,Q:B_,s:U_,S:J9,u:Q9,U:Z9,V:eH,w:tH,W:rH,x:null,X:null,y:nH,Y:aH,Z:sH,"%":L_},S={a:Y,A:ae,b:F,B:ce,c:null,d:D_,e:D_,f:dH,g:wH,G:SH,H:lH,I:cH,j:uH,L:cN,m:fH,M:hH,p:Fe,q:ht,Q:B_,s:U_,S:pH,u:mH,U:gH,V:vH,w:yH,W:xH,x:null,X:null,y:bH,Y:_H,Z:jH,"%":L_},w={a:N,A:P,b:k,B:R,c:D,d:I_,e:I_,f:z9,g:$_,G:C_,H:R_,I:R_,j:D9,L:U9,m:M9,M:L9,p:A,q:R9,Q:q9,s:W9,S:B9,u:T9,U:k9,V:C9,w:N9,W:$9,x:L,X:$,y:$_,Y:C_,Z:I9,"%":F9};b.x=_(r,b),b.X=_(n,b),b.c=_(t,b),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(G,oe){return function(de){var q=[],qe=-1,pe=0,Qe=G.length,Ze,Dt,In;for(de instanceof Date||(de=new Date(+de));++qe<Qe;)G.charCodeAt(qe)===37&&(q.push(G.slice(pe,qe)),(Dt=k_[Ze=G.charAt(++qe)])!=null?Ze=G.charAt(++qe):Dt=Ze==="e"?" ":"0",(In=oe[Ze])&&(Ze=In(de,Dt)),q.push(Ze),pe=qe+1);return q.push(G.slice(pe,qe)),q.join("")}}function j(G,oe){return function(de){var q=vs(1900,void 0,1),qe=E(q,G,de+="",0),pe,Qe;if(qe!=de.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(oe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(pe=Ap(vs(q.y,0,1)),Qe=pe.getUTCDay(),pe=Qe>4||Qe===0?Pd.ceil(pe):Pd(pe),pe=Qf.offset(pe,(q.V-1)*7),q.y=pe.getUTCFullYear(),q.m=pe.getUTCMonth(),q.d=pe.getUTCDate()+(q.w+6)%7):(pe=Ep(vs(q.y,0,1)),Qe=pe.getDay(),pe=Qe>4||Qe===0?Ad.ceil(pe):Ad(pe),pe=xc.offset(pe,(q.V-1)*7),q.y=pe.getFullYear(),q.m=pe.getMonth(),q.d=pe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Qe="Z"in q?Ap(vs(q.y,0,1)).getUTCDay():Ep(vs(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Qe+5)%7:q.w+q.U*7-(Qe+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Ap(q)):Ep(q)}}function E(G,oe,de,q){for(var qe=0,pe=oe.length,Qe=de.length,Ze,Dt;qe<pe;){if(q>=Qe)return-1;if(Ze=oe.charCodeAt(qe++),Ze===37){if(Ze=oe.charAt(qe++),Dt=w[Ze in k_?oe.charAt(qe++):Ze],!Dt||(q=Dt(G,de,q))<0)return-1}else if(Ze!=de.charCodeAt(q++))return-1}return q}function A(G,oe,de){var q=c.exec(oe.slice(de));return q?(G.p=d.get(q[0].toLowerCase()),de+q[0].length):-1}function N(G,oe,de){var q=p.exec(oe.slice(de));return q?(G.w=y.get(q[0].toLowerCase()),de+q[0].length):-1}function P(G,oe,de){var q=f.exec(oe.slice(de));return q?(G.w=h.get(q[0].toLowerCase()),de+q[0].length):-1}function k(G,oe,de){var q=m.exec(oe.slice(de));return q?(G.m=x.get(q[0].toLowerCase()),de+q[0].length):-1}function R(G,oe,de){var q=g.exec(oe.slice(de));return q?(G.m=v.get(q[0].toLowerCase()),de+q[0].length):-1}function D(G,oe,de){return E(G,t,oe,de)}function L(G,oe,de){return E(G,r,oe,de)}function $(G,oe,de){return E(G,n,oe,de)}function M(G){return o[G.getDay()]}function I(G){return a[G.getDay()]}function C(G){return l[G.getMonth()]}function U(G){return s[G.getMonth()]}function K(G){return i[+(G.getHours()>=12)]}function z(G){return 1+~~(G.getMonth()/3)}function Y(G){return o[G.getUTCDay()]}function ae(G){return a[G.getUTCDay()]}function F(G){return l[G.getUTCMonth()]}function ce(G){return s[G.getUTCMonth()]}function Fe(G){return i[+(G.getUTCHours()>=12)]}function ht(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var oe=_(G+="",b);return oe.toString=function(){return G},oe},parse:function(G){var oe=j(G+="",!1);return oe.toString=function(){return G},oe},utcFormat:function(G){var oe=_(G+="",S);return oe.toString=function(){return G},oe},utcParse:function(G){var oe=j(G+="",!0);return oe.toString=function(){return G},oe}}}var k_={"-":"",_:" ",0:"0"},ft=/^\s*\d+/,E9=/^%/,A9=/[\\^$*+?|[\]().{}]/g;function ve(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function P9(e){return e.replace(A9,"\\$&")}function ys(e){return new RegExp("^(?:"+e.map(P9).join("|")+")","i")}function xs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function N9(e,t,r){var n=ft.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function T9(e,t,r){var n=ft.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function k9(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function C9(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $9(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function C_(e,t,r){var n=ft.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $_(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function I9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function R9(e,t,r){var n=ft.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function M9(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function I_(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function D9(e,t,r){var n=ft.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function R_(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function L9(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function B9(e,t,r){var n=ft.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function U9(e,t,r){var n=ft.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function z9(e,t,r){var n=ft.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function F9(e,t,r){var n=E9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function q9(e,t,r){var n=ft.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function W9(e,t,r){var n=ft.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function M_(e,t){return ve(e.getDate(),t,2)}function V9(e,t){return ve(e.getHours(),t,2)}function H9(e,t){return ve(e.getHours()%12||12,t,2)}function K9(e,t){return ve(1+xc.count(En(e),e),t,3)}function sN(e,t){return ve(e.getMilliseconds(),t,3)}function G9(e,t){return sN(e,t)+"000"}function X9(e,t){return ve(e.getMonth()+1,t,2)}function Y9(e,t){return ve(e.getMinutes(),t,2)}function J9(e,t){return ve(e.getSeconds(),t,2)}function Q9(e){var t=e.getDay();return t===0?7:t}function Z9(e,t){return ve(Zf.count(En(e)-1,e),t,2)}function lN(e){var t=e.getDay();return t>=4||t===0?wo(e):wo.ceil(e)}function eH(e,t){return e=lN(e),ve(wo.count(En(e),e)+(En(e).getDay()===4),t,2)}function tH(e){return e.getDay()}function rH(e,t){return ve(Ad.count(En(e)-1,e),t,2)}function nH(e,t){return ve(e.getFullYear()%100,t,2)}function iH(e,t){return e=lN(e),ve(e.getFullYear()%100,t,2)}function aH(e,t){return ve(e.getFullYear()%1e4,t,4)}function oH(e,t){var r=e.getDay();return e=r>=4||r===0?wo(e):wo.ceil(e),ve(e.getFullYear()%1e4,t,4)}function sH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function D_(e,t){return ve(e.getUTCDate(),t,2)}function lH(e,t){return ve(e.getUTCHours(),t,2)}function cH(e,t){return ve(e.getUTCHours()%12||12,t,2)}function uH(e,t){return ve(1+Qf.count(An(e),e),t,3)}function cN(e,t){return ve(e.getUTCMilliseconds(),t,3)}function dH(e,t){return cN(e,t)+"000"}function fH(e,t){return ve(e.getUTCMonth()+1,t,2)}function hH(e,t){return ve(e.getUTCMinutes(),t,2)}function pH(e,t){return ve(e.getUTCSeconds(),t,2)}function mH(e){var t=e.getUTCDay();return t===0?7:t}function gH(e,t){return ve(eh.count(An(e)-1,e),t,2)}function uN(e){var t=e.getUTCDay();return t>=4||t===0?_o(e):_o.ceil(e)}function vH(e,t){return e=uN(e),ve(_o.count(An(e),e)+(An(e).getUTCDay()===4),t,2)}function yH(e){return e.getUTCDay()}function xH(e,t){return ve(Pd.count(An(e)-1,e),t,2)}function bH(e,t){return ve(e.getUTCFullYear()%100,t,2)}function wH(e,t){return e=uN(e),ve(e.getUTCFullYear()%100,t,2)}function _H(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function SH(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_o(e):_o.ceil(e),ve(e.getUTCFullYear()%1e4,t,4)}function jH(){return"+0000"}function L_(){return"%"}function B_(e){return+e}function U_(e){return Math.floor(+e/1e3)}var Ea,dN,fN;OH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OH(e){return Ea=O9(e),dN=Ea.format,Ea.parse,fN=Ea.utcFormat,Ea.utcParse,Ea}function EH(e){return new Date(e)}function AH(e){return e instanceof Date?+e:+new Date(+e)}function w0(e,t,r,n,i,a,o,s,l,c){var d=s0(),f=d.invert,h=d.domain,p=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),x=c("%b %d"),b=c("%B"),S=c("%Y");function w(_){return(l(_)<_?p:s(_)<_?y:o(_)<_?g:a(_)<_?v:n(_)<_?i(_)<_?m:x:r(_)<_?b:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,AH)):h().map(EH)},d.ticks=function(_){var j=h();return e(j[0],j[j.length-1],_??10)},d.tickFormat=function(_,j){return j==null?w:c(j)},d.nice=function(_){var j=h();return(!_||typeof _.range!="function")&&(_=t(j[0],j[j.length-1],_??10)),_?h(QP(j,_)):d},d.copy=function(){return yc(d,w0(e,t,r,n,i,a,o,s,l,c))},d}function PH(){return Er.apply(w0(S9,j9,En,x0,Zf,xc,v0,m0,Ui,dN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NH(){return Er.apply(w0(w9,_9,An,b0,eh,Qf,y0,g0,Ui,fN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function th(){var e=0,t=1,r,n,i,a,o=kt,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),c):[o(0),o(1)]}}return c.range=d(rs),c.rangeRound=d(o0),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function mi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hN(){var e=pi(th()(kt));return e.copy=function(){return mi(e,hN())},Cn.apply(e,arguments)}function pN(){var e=u0(th()).domain([1,10]);return e.copy=function(){return mi(e,pN()).base(e.base())},Cn.apply(e,arguments)}function mN(){var e=d0(th());return e.copy=function(){return mi(e,mN()).constant(e.constant())},Cn.apply(e,arguments)}function _0(){var e=f0(th());return e.copy=function(){return mi(e,_0()).exponent(e.exponent())},Cn.apply(e,arguments)}function TH(){return _0.apply(null,arguments).exponent(.5)}function gN(){var e=[],t=kt;function r(n){if(n!=null&&!isNaN(n=+n))return t((gc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ii),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>gV(e,a/n))},r.copy=function(){return gN(t).domain(e)},Cn.apply(r,arguments)}function rh(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=kt,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function y(g){return function(v){var m,x,b;return arguments.length?([m,x,b]=v,c=FV(g,[m,x,b]),p):[c(0),c(.5),c(1)]}}return p.range=y(rs),p.rangeRound=y(o0),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(e),a=g(t),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function vN(){var e=pi(rh()(kt));return e.copy=function(){return mi(e,vN())},Cn.apply(e,arguments)}function yN(){var e=u0(rh()).domain([.1,1,10]);return e.copy=function(){return mi(e,yN()).base(e.base())},Cn.apply(e,arguments)}function xN(){var e=d0(rh());return e.copy=function(){return mi(e,xN()).constant(e.constant())},Cn.apply(e,arguments)}function S0(){var e=f0(rh());return e.copy=function(){return mi(e,S0()).exponent(e.exponent())},Cn.apply(e,arguments)}function kH(){return S0.apply(null,arguments).exponent(.5)}const z_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nl,scaleDiverging:vN,scaleDivergingLog:yN,scaleDivergingPow:S0,scaleDivergingSqrt:kH,scaleDivergingSymlog:xN,scaleIdentity:JP,scaleImplicit:Og,scaleLinear:Od,scaleLog:ZP,scaleOrdinal:n0,scalePoint:Hs,scalePow:h0,scaleQuantile:rN,scaleQuantize:nN,scaleRadial:tN,scaleSequential:hN,scaleSequentialLog:pN,scaleSequentialPow:_0,scaleSequentialQuantile:gN,scaleSequentialSqrt:TH,scaleSequentialSymlog:mN,scaleSqrt:d9,scaleSymlog:eN,scaleThreshold:iN,scaleTime:PH,scaleUtc:NH,tickFormat:YP},Symbol.toStringTag,{value:"Module"}));var CH=Ko;function $H(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(s===void 0?o===o&&!CH(o):r(o,s)))var s=o,l=a}return l}var nh=$H;function IH(e,t){return e>t}var bN=IH,RH=nh,MH=bN,DH=ts;function LH(e){return e&&e.length?RH(e,DH,MH):void 0}var BH=LH;const ih=be(BH);function UH(e,t){return e<t}var wN=UH,zH=nh,FH=wN,qH=ts;function WH(e){return e&&e.length?zH(e,qH,FH):void 0}var VH=WH;const ah=be(VH);var HH=Dy,KH=rn,GH=NP,XH=Kt;function YH(e,t){var r=XH(e)?HH:GH;return r(e,KH(t))}var JH=YH,QH=AP,ZH=JH;function eK(e,t){return QH(ZH(e,t),1)}var tK=eK;const rK=be(tK);var nK=Qy;function iK(e,t){return nK(e,t)}var aK=iK;const bc=be(aK);var ns=1e9,oK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O0,Re=!0,Sr="[DecimalError] ",Gi=Sr+"Invalid argument: ",j0=Sr+"Exponent out of range: ",is=Math.floor,Ti=Math.pow,sK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,lt=1e7,Ce=7,_N=9007199254740991,Nd=is(_N/Ce),Q={};Q.absoluteValue=Q.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Q.comparedTo=Q.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ce;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Q.dividedBy=Q.div=function(e){return yn(this,new this.constructor(e))};Q.dividedToIntegerBy=Q.idiv=function(e){var t=this,r=t.constructor;return Se(yn(t,new r(e),0,1),r.precision)};Q.equals=Q.eq=function(e){return!this.cmp(e)};Q.exponent=function(){return Je(this)};Q.greaterThan=Q.gt=function(e){return this.cmp(e)>0};Q.greaterThanOrEqualTo=Q.gte=function(e){return this.cmp(e)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(e){return this.cmp(e)<0};Q.lessThanOrEqualTo=Q.lte=function(e){return this.cmp(e)<1};Q.logarithm=Q.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(rr))throw Error(Sr+"NaN");if(r.s<1)throw Error(Sr+(r.s?"NaN":"-Infinity"));return r.eq(rr)?new n(0):(Re=!1,t=yn(Il(r,a),Il(e,a),a),Re=!0,Se(t,i))};Q.minus=Q.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ON(t,e):SN(t,(e.s=-e.s,e))};Q.modulo=Q.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Sr+"NaN");return r.s?(Re=!1,t=yn(r,e,0,1).times(e),Re=!0,r.minus(t)):Se(new n(r),i)};Q.naturalExponential=Q.exp=function(){return jN(this)};Q.naturalLogarithm=Q.ln=function(){return Il(this)};Q.negated=Q.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Q.plus=Q.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SN(t,e):ON(t,(e.s=-e.s,e))};Q.precision=Q.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gi+e);if(t=Je(i)+1,n=i.d.length-1,r=n*Ce+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Q.squareRoot=Q.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Sr+"NaN")}for(e=Je(s),Re=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Gr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=is((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(yn(s,a,o+2)).times(.5),Gr(a.d).slice(0,o)===(t=Gr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Se(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Re=!0,Se(n,r)};Q.times=Q.mul=function(e){var t,r,n,i,a,o,s,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+t,a[i--]=s%lt|0,t=s/lt|0;a[i]=(a[i]+t)%lt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Re?Se(e,f.precision):e};Q.toDecimalPlaces=Q.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zr(e,0,ns),t===void 0?t=n.rounding:Zr(t,0,8),Se(r,e+Je(r)+1,t))};Q.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=sa(n,!0):(Zr(e,0,ns),t===void 0?t=i.rounding:Zr(t,0,8),n=Se(new i(n),e+1,t),r=sa(n,!0,e+1)),r};Q.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?sa(i):(Zr(e,0,ns),t===void 0?t=a.rounding:Zr(t,0,8),n=Se(new a(i),e+Je(i)+1,t),r=sa(n.abs(),!1,e+Je(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Q.toInteger=Q.toint=function(){var e=this,t=e.constructor;return Se(new t(e),Je(e)+1,t.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(rr);if(s=new l(s),!s.s){if(e.s<1)throw Error(Sr+"Infinity");return s}if(s.eq(rr))return s;if(n=l.precision,e.eq(rr))return Se(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=d<0?-d:d)<=_N){for(i=new l(rr),t=Math.ceil(n/Ce+4),Re=!1;r%2&&(i=i.times(s),q_(i.d,t)),r=is(r/2),r!==0;)s=s.times(s),q_(s.d,t);return Re=!0,e.s<0?new l(rr).div(i):Se(i,n)}}else if(a<0)throw Error(Sr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Re=!1,i=e.times(Il(s,n+c)),Re=!0,i=jN(i),i.s=a,i};Q.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Je(i),n=sa(i,r<=a.toExpNeg||r>=a.toExpPos)):(Zr(e,1,ns),t===void 0?t=a.rounding:Zr(t,0,8),i=Se(new a(i),e,t),r=Je(i),n=sa(i,e<=r||r<=a.toExpNeg,e)),n};Q.toSignificantDigits=Q.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zr(e,1,ns),t===void 0?t=n.rounding:Zr(t,0,8)),Se(new n(r),e,t)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Je(e),r=e.constructor;return sa(e,t<=r.toExpNeg||t>=r.toExpPos)};function SN(e,t){var r,n,i,a,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Re?Se(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/Ce),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/lt|0,l[a]%=lt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Re?Se(t,f):t}function Zr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Gi+e)}function Gr(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Ce-n.length,r&&(a+=Bn(r)),a+=n;o=e[t],n=o+"",r=Ce-n.length,r&&(a+=Bn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var yn=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%lt|0,o=a/lt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*lt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,d,f,h,p,y,g,v,m,x,b,S,w,_,j,E,A=n.constructor,N=n.s==i.s?1:-1,P=n.d,k=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Sr+"Division by zero");for(l=n.e-i.e,j=k.length,w=P.length,p=new A(N),y=p.d=[],c=0;k[c]==(P[c]||0);)++c;if(k[c]>(P[c]||0)&&--l,a==null?x=a=A.precision:o?x=a+(Je(n)-Je(i))+1:x=a,x<0)return new A(0);if(x=x/Ce+2|0,c=0,j==1)for(d=0,k=k[0],x++;(c<w||d)&&x--;c++)b=d*lt+(P[c]||0),y[c]=b/k|0,d=b%k|0;else{for(d=lt/(k[0]+1)|0,d>1&&(k=e(k,d),P=e(P,d),j=k.length,w=P.length),S=j,g=P.slice(0,j),v=g.length;v<j;)g[v++]=0;E=k.slice(),E.unshift(0),_=k[0],k[1]>=lt/2&&++_;do d=0,s=t(k,g,j,v),s<0?(m=g[0],j!=v&&(m=m*lt+(g[1]||0)),d=m/_|0,d>1?(d>=lt&&(d=lt-1),f=e(k,d),h=f.length,v=g.length,s=t(f,g,h,v),s==1&&(d--,r(f,j<h?E:k,h))):(d==0&&(s=d=1),f=k.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),s==-1&&(v=g.length,s=t(k,g,j,v),s<1&&(d++,r(g,j<v?E:k,v))),v=g.length):s===0&&(d++,g=[0]),y[c++]=d,s&&g[0]?g[v++]=P[S]||0:(g=[P[S]],v=1);while((S++<w||g[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=l,Se(p,o?a+Je(p)+1:a)}}();function jN(e,t){var r,n,i,a,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(Je(e)>16)throw Error(j0+Je(e));if(!e.s)return new d(rr);for(Re=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Ti(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new d(rr),d.precision=s;;){if(i=Se(i.times(e),s),r=r.times(++l),o=a.plus(yn(i,r,s)),Gr(o.d).slice(0,s)===Gr(a.d).slice(0,s)){for(;c--;)a=Se(a.times(a),s);return d.precision=f,t==null?(Re=!0,Se(a,f)):a}a=o}}function Je(e){for(var t=e.e*Ce,r=e.d[0];r>=10;r/=10)t++;return t}function Pp(e,t,r){if(t>e.LN10.sd())throw Re=!0,r&&(e.precision=r),Error(Sr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function Bn(e){for(var t="";e--;)t+="0";return t}function Il(e,t){var r,n,i,a,o,s,l,c,d,f=1,h=10,p=e,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Sr+(p.s?"NaN":"-Infinity"));if(p.eq(rr))return new g(0);if(t==null?(Re=!1,c=v):c=t,p.eq(10))return t==null&&(Re=!0),Pp(g,c);if(c+=h,g.precision=c,r=Gr(y),n=r.charAt(0),a=Je(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Gr(p.d),n=r.charAt(0),f++;a=Je(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=Pp(g,c+2,v).times(a+""),p=Il(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=v,t==null?(Re=!0,Se(p,v)):p;for(s=o=p=yn(p.minus(rr),p.plus(rr),c),d=Se(p.times(p),c),i=3;;){if(o=Se(o.times(d),c),l=s.plus(yn(o,new g(i),c)),Gr(l.d).slice(0,c)===Gr(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Pp(g,c+2,v).times(a+""))),s=yn(s,new g(f),c),g.precision=v,t==null?(Re=!0,Se(s,v)):s;s=l,i+=2}}function F_(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=is(r/Ce),e.d=[],n=(r+1)%Ce,r<0&&(n+=Ce),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ce;n<i;)e.d.push(+t.slice(n,n+=Ce));t=t.slice(n),n=Ce-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Re&&(e.e>Nd||e.e<-Nd))throw Error(j0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,i,a,o,s,l,c,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Ce,i=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Ce),a=f.length,d>=a)return e;for(c=a=f[d],o=1;a>=10;a/=10)o++;n%=Ce,i=n-Ce+o}if(r!==void 0&&(a=Ti(10,o-i-1),s=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Ti(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=Je(e),f.length=1,t=t-a-1,f[0]=Ti(10,(Ce-t%Ce)%Ce),e.e=is(-t/Ce)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ti(10,Ce-n),f[d]=i>0?(c/Ti(10,o-i)%Ti(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==lt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=lt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Re&&(e.e>Nd||e.e<-Nd))throw Error(j0+Je(e));return e}function ON(e,t){var r,n,i,a,o,s,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Re?Se(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/Ce),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=lt-1;--l[a],l[i]+=lt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Re?Se(t,p):t):new h(0)}function sa(e,t,r){var n,i=Je(e),a=Gr(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Bn(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Bn(-i-1)+a,r&&(n=r-o)>0&&(a+=Bn(n))):i>=o?(a+=Bn(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Bn(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Bn(n))),e.s<0?"-"+a:a}function q_(e,t){if(e.length>t)return e.length=t,!0}function EN(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Gi+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return F_(o,a.toString())}else if(typeof a!="string")throw Error(Gi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,sK.test(a))F_(o,a);else throw Error(Gi+a)}if(i.prototype=Q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=EN,i.config=i.set=lK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function lK(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,r,n,i=["precision",1,ns,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(is(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Gi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gi+r+": "+n);return this}var O0=EN(oK);rr=new O0(1);const _e=O0;function cK(e){return hK(e)||fK(e)||dK(e)||uK()}function uK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(e,t){if(e){if(typeof e=="string")return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(e,t)}}function fK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hK(e){if(Array.isArray(e))return Ng(e)}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pK=function(t){return t},AN={},PN=function(t){return t===AN},W_=function(t){return function r(){return arguments.length===0||arguments.length===1&&PN(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},mK=function e(t,r){return t===1?r:W_(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==AN}).length;return o>=t?r.apply(void 0,i):e(t-o,W_(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return PN(f)?l.shift():f});return r.apply(void 0,cK(d).concat(l))}))})},oh=function(t){return mK(t.length,t)},Tg=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},gK=oh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),vK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return pK;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},kg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},NN=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function yK(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function xK(e,t,r){for(var n=new _e(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var bK=oh(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),wK=oh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),_K=oh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const sh={rangeStep:xK,getDigitCount:yK,interpolateNumber:bK,uninterpolateNumber:wK,uninterpolateTruncation:_K};function Cg(e){return OK(e)||jK(e)||TN(e)||SK()}function SK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OK(e){if(Array.isArray(e))return $g(e)}function Rl(e,t){return PK(e)||AK(e,t)||TN(e,t)||EK()}function EK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TN(e,t){if(e){if(typeof e=="string")return $g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $g(e,t)}}function $g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function PK(e){if(Array.isArray(e))return e}function kN(e){var t=Rl(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function CN(e,t,r){if(e.lte(0))return new _e(0);var n=sh.getDigitCount(e.toNumber()),i=new _e(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new _e(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?l:new _e(Math.ceil(l))}function NK(e,t,r){var n=1,i=new _e(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new _e(10).pow(sh.getDigitCount(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var o=Math.floor((t-1)/2),s=vK(gK(function(l){return i.add(new _e(l-o).mul(n)).toNumber()}),Tg);return s(0,t)}function $N(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var a=CN(new _e(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new _e(0):(o=new _e(e).add(t).div(2),o=o.sub(new _e(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new _e(t).sub(o).div(a).toNumber()),c=s+l+1;return c>r?$N(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:a,tickMin:o.sub(new _e(s).mul(a)),tickMax:o.add(new _e(l).mul(a))})}function TK(e){var t=Rl(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=kN([r,n]),l=Rl(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(Cg(Tg(0,i-1).map(function(){return 1/0}))):[].concat(Cg(Tg(0,i-1).map(function(){return-1/0})),[d]);return r>n?kg(f):f}if(c===d)return NK(c,i,a);var h=$N(c,d,o,a),p=h.step,y=h.tickMin,g=h.tickMax,v=sh.rangeStep(y,g.add(new _e(.1).mul(p)),p);return r>n?kg(v):v}function kK(e,t){var r=Rl(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kN([n,i]),s=Rl(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(t,2),f=CN(new _e(c).sub(l).div(d-1),a,0),h=[].concat(Cg(sh.rangeStep(new _e(l),new _e(c).sub(new _e(.99).mul(f)),f)),[c]);return n>i?kg(h):h}var CK=NN(TK),$K=NN(kK),IK="Invariant failed";function la(e,t){throw new Error(IK)}var RK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}function MK(e,t){return UK(e)||BK(e,t)||LK(e,t)||DK()}function DK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LK(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function UK(e){if(Array.isArray(e))return e}function zK(e,t){if(e==null)return{};var r=FK(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MN(n.key),n)}}function VK(e,t,r){return t&&WK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HK(e,t,r){return t=kd(t),KK(e,IN()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function KK(e,t){if(t&&(So(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GK(e)}function GK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IN=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function XK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ig(e,t)}function RN(e,t,r){return t=MN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MN(e){var t=YK(e,"string");return So(t)=="symbol"?t:t+""}function YK(e,t){if(So(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wc=function(e){function t(){return qK(this,t),HK(this,t,arguments)}return XK(t,e),VK(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=zK(n,RK),p=te(h,!1);this.props.direction==="x"&&d.type!=="number"&&la();var y=l.map(function(g){var v=c(g,s),m=v.x,x=v.y,b=v.value,S=v.errorVal;if(!S)return null;var w=[],_,j;if(Array.isArray(S)){var E=MK(S,2);_=E[0],j=E[1]}else _=j=S;if(a==="vertical"){var A=d.scale,N=x+i,P=N+o,k=N-o,R=A(b-_),D=A(b+j);w.push({x1:D,y1:P,x2:D,y2:k}),w.push({x1:R,y1:N,x2:D,y2:N}),w.push({x1:R,y1:P,x2:R,y2:k})}else if(a==="horizontal"){var L=f.scale,$=m+i,M=$-o,I=$+o,C=L(b-_),U=L(b+j);w.push({x1:M,y1:U,x2:I,y2:U}),w.push({x1:$,y1:C,x2:$,y2:U}),w.push({x1:M,y1:C,x2:I,y2:C})}return T.createElement(ge,Td({className:"recharts-errorBar",key:"bar-".concat(w.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),w.map(function(K){return T.createElement("line",Td({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return T.createElement(ge,{className:"recharts-errorBars"},y)}}])}(T.Component);RN(wc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});RN(wc,"displayName","ErrorBar");function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return t=QK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=ZK(e,"string");return Ml(t)=="symbol"?t:t+""}function ZK(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DN=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Jt(r,ni);if(!o)return null;var s=ni.defaultProps,l=s!==void 0?_i(_i({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?_i(_i({},h),f.props):{},y=p.dataKey,g=p.name,v=p.legendType,m=p.hide;return{inactive:m,dataKey:y,type:l.iconType||v||"square",color:E0(f),value:g||y,payload:p}}),_i(_i(_i({},l),ni.getWithHeight(o,i)),{},{payload:c,item:o})};function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function K_(e){return nG(e)||rG(e)||tG(e)||eG()}function eG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tG(e,t){if(e){if(typeof e=="string")return Rg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rg(e,t)}}function rG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nG(e){if(Array.isArray(e))return Rg(e)}function Rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){io(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function io(e,t,r){return t=iG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=aG(e,"string");return Dl(t)=="symbol"?t:t+""}function aG(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function it(e,t,r){return se(e)||se(t)?r:ot(t)?or(e,t,r):ie(t)?t(e):r}function Ks(e,t,r,n){var i=rK(e,function(s){return it(s,t)});if(r==="number"){var a=i.filter(function(s){return H(s)||parseFloat(s)});return a.length?[ah(a),ih(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!se(s)}):i;return o.map(function(s){return ot(s)||s instanceof Date?s:""})}var oG=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Nt(f-d)!==Nt(h-f)){var y=[];if(Nt(h-f)===Nt(l[1]-l[0])){p=h;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var m=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>m[0]&&t<=m[1]||t>=y[0]&&t<=y[1]){o=i[c].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){o=i[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},E0=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ve(Ve({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},sG=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,m=g.filter(function(j){return vn(j.type).indexOf("Bar")>=0});if(m&&m.length){var x=m[0].type.defaultProps,b=x!==void 0?Ve(Ve({},x),m[0].props):m[0].props,S=b.barSize,w=b[v];o[w]||(o[w]=[]);var _=se(S)?r:S;o[w].push({item:m[0],stackList:m.slice(1),barSize:se(_)?void 0:Tt(_,n,0)})}}return o},lG=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=Tt(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,y=o.reduce(function(S,w){return S+w.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var g=(i-y)/2>>0,v={offset:g-c,size:0};d=o.reduce(function(S,w){var _={item:w.item,position:{offset:v.offset+v.size+c,size:h?p:w.barSize}},j=[].concat(K_(S),[_]);return v=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var m=Tt(n,i,0,!0);i-2*m-(l-1)*c<=0&&(c=0);var x=(i-2*m-(l-1)*c)/l;x>1&&(x>>=0);var b=s===+s?Math.min(x,s):x;d=o.reduce(function(S,w,_){var j=[].concat(K_(S),[{item:w.item,position:{offset:m+(x+c)*_+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},cG=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=DN({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,y=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&H(t[p]))return Ve(Ve({},t),{},io({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&H(t[y]))return Ve(Ve({},t),{},io({},y,t[y]+(h||0)))}return t},uG=function(t,r,n){return se(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},LN=function(t,r,n,i,a){var o=r.props.children,s=sr(o,wc).filter(function(c){return uG(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var f=it(d,n);if(se(f))return c;var h=Array.isArray(f)?[ah(f),ih(f)]:[f,f],p=l.reduce(function(y,g){var v=it(d,g,0),m=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(m,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},dG=function(t,r,n,i,a){var o=r.map(function(s){return LN(t,s,n,a,i)}).filter(function(s){return!se(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},BN=function(t,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&LN(t,l,c,i)||Ks(t,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},UN=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},zN=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},pn=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Nt(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!pc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},Np=new WeakMap,au=function(t,r){if(typeof r!="function")return t;Np.has(t)||Np.set(t,new WeakMap);var n=Np.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},FN=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Nl(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Od(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hs(),realScaleType:"point"}:a==="category"?{scale:Nl(),realScaleType:"band"}:{scale:Od(),realScaleType:"linear"};if(ia(i)){var l="scale".concat(qf(i));return{scale:(z_[l]||Hs)(),realScaleType:z_[l]?l:"point"}}return ie(i)?{scale:i}:{scale:Hs(),realScaleType:"point"}},X_=1e-4,qN=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-X_,o=Math.max(i[0],i[1])+X_,s=t(r[0]),l=t(r[n-1]);(s<a||s>o||l<a||l>o)&&t.domain([r[0],r[n-1]])}},fG=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},hG=function(t,r){if(!r||r.length!==2||!H(r[0])||!H(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!H(t[0])||t[0]<n)&&(a[0]=n),(!H(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},pG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=pc(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},mG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=pc(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},gG={sign:pG,expand:R6,none:mo,silhouette:M6,wiggle:D6,positive:mG},vG=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=gG[n],o=I6().keys(i).value(function(s,l){return+it(s,l,0)}).order(og).offset(a);return o(t)},yG=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ve(Ve({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var m=y[n],x=f[m]||{hasStack:!1,stackGroups:{}};if(ot(g)){var b=x.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[Qo("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Ve(Ve({},f),{},io({},m,x))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var m=p.stackGroups[v];return Ve(Ve({},g),{},io({},v,{numericAxisId:n,cateAxisId:i,items:m.items,stackedData:vG(t,m.items,a)}))},y)}return Ve(Ve({},f),{},io({},h,p))},d)},WN=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=CK(c,a,s);return t.domain([ah(d),ih(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=$K(f,a,s);return{niceTicks:h}}return null};function Y_(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!se(i[t.dataKey])){var s=id(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=it(i,se(o)?t.dataKey:o);return se(l)?null:t.scale(l)}var J_=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=it(o,r.dataKey,r.domain[s]);return se(l)?null:r.scale(l)-a/2+i},xG=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},bG=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ve(Ve({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(ot(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},wG=function(t){return t.reduce(function(r,n){return[ah(n.concat([r[0]]).filter(H)),ih(n.concat([r[1]]).filter(H))]},[1/0,-1/0])},VN=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,d){var f=wG(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Q_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mg=function(t,r,n){if(ie(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(H(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Q_.test(t[0])){var a=+Q_.exec(t[0])[1];i[0]=r[0]-a}else ie(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(H(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Z_.test(t[1])){var o=+Z_.exec(t[1])[1];i[1]=r[1]+o}else ie(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Cd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=e0(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],d=a[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},e1=function(t,r,n){return!t||!t.length||bc(t,or(n,"type.defaultProps.domain"))?r:t},HN=function(t,r){var n=t.type.defaultProps?Ve(Ve({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return Ve(Ve({},te(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:E0(t),value:it(r,i),type:l,payload:r,chartType:c,hide:d})};function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(n){KN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KN(e,t,r){return t=_G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=SG(e,"string");return Ll(t)=="symbol"?t:t+""}function SG(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jG(e,t){return PG(e)||AG(e,t)||EG(e,t)||OG()}function OG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EG(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function PG(e){if(Array.isArray(e))return e}var $d=Math.PI/180,NG=function(t){return t*180/Math.PI},Ne=function(t,r,n,i){return{x:t+Math.cos(-$d*i)*n,y:r+Math.sin(-$d*i)*n}},GN=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},TG=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,d=Tt(t.cx,o,o/2),f=Tt(t.cy,s,s/2),h=GN(o,s,n),p=Tt(t.innerRadius,h,0),y=Tt(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,m){var x=r[m],b=x.domain,S=x.reversed,w;if(se(x.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[p,y]),S&&(w=[w[1],w[0]]);else{w=x.range;var _=w,j=jG(_,2);l=j[0],c=j[1]}var E=FN(x,a),A=E.realScaleType,N=E.scale;N.domain(b).range(w),qN(N);var P=WN(N,sn(sn({},x),{},{realScaleType:A})),k=sn(sn(sn({},x),P),{},{range:w,radius:y,realScaleType:A,scale:N,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:l,endAngle:c});return sn(sn({},v),{},KN({},m,k))},{})},kG=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},CG=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=kG({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:NG(c),angleInRadian:c}},$G=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},IG=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},n1=function(t,r){var n=t.x,i=t.y,a=CG({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=$G(r),f=d.startAngle,h=d.endAngle,p=s,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?sn(sn({},r),{},{radius:o,angle:IG(p,r)}):null},XN=function(t){return!O.isValidElement(t)&&!ie(t)&&typeof t!="boolean"?t.className:""};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}var RG=["offset"];function MG(e){return UG(e)||BG(e)||LG(e)||DG()}function DG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(e,t){if(e){if(typeof e=="string")return Dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dg(e,t)}}function BG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UG(e){if(Array.isArray(e))return Dg(e)}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zG(e,t){if(e==null)return{};var r=FG(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=VG(e,"string");return Bl(t)=="symbol"?t:t+""}function VG(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}var HG=function(t){var r=t.value,n=t.formatter,i=se(t.children)?r:t.children;return ie(n)?n(i):i},KG=function(t,r){var n=Nt(r-t),i=Math.min(Math.abs(r-t),360);return n*i},GG=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,g=l.clockWise,v=(f+h)/2,m=KG(p,y),x=m>=0?1:-1,b,S;i==="insideStart"?(b=p+x*o,S=g):i==="insideEnd"?(b=y-x*o,S=!g):i==="end"&&(b=y+x*o,S=g),S=m<=0?S:!S;var w=Ne(c,d,v,b),_=Ne(c,d,v,b+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),E=se(t.id)?Qo("recharts-radial-line-"):t.id;return T.createElement("text",Ul({},n,{dominantBaseline:"central",className:ue("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:E,d:j})),T.createElement("textPath",{xlinkHref:"#".concat(E)},r))},XG=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Ne(o,s,c+n,h),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,m=Ne(o,s,v,h),x=m.x,b=m.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},YG=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,l=o.y,c=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",g=c>=0?1:-1,v=g*i,m=g>0?"end":"start",x=g>0?"start":"end";if(a==="top"){var b={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return tt(tt({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var S={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return tt(tt({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(a==="left"){var w={x:s-v,y:l+d/2,textAnchor:m,verticalAnchor:"middle"};return tt(tt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var _={x:s+c+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return tt(tt({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var j=n?{width:c,height:d}:{};return a==="insideLeft"?tt({x:s+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},j):a==="insideRight"?tt({x:s+c-v,y:l+d/2,textAnchor:m,verticalAnchor:"middle"},j):a==="insideTop"?tt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},j):a==="insideBottom"?tt({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},j):a==="insideTopLeft"?tt({x:s+v,y:l+h,textAnchor:x,verticalAnchor:y},j):a==="insideTopRight"?tt({x:s+c-v,y:l+h,textAnchor:m,verticalAnchor:y},j):a==="insideBottomLeft"?tt({x:s+v,y:l+d-h,textAnchor:x,verticalAnchor:p},j):a==="insideBottomRight"?tt({x:s+c-v,y:l+d-h,textAnchor:m,verticalAnchor:p},j):Go(a)&&(H(a.x)||Li(a.x))&&(H(a.y)||Li(a.y))?tt({x:s+Tt(a.x,c),y:l+Tt(a.y,d),textAnchor:"end",verticalAnchor:"end"},j):tt({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},JG=function(t){return"cx"in t&&H(t.cx)};function ut(e){var t=e.offset,r=t===void 0?5:t,n=zG(e,RG),i=tt({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||se(s)&&se(l)&&!O.isValidElement(c)&&!ie(c))return null;if(O.isValidElement(c))return O.cloneElement(c,i);var p;if(ie(c)){if(p=O.createElement(c,i),O.isValidElement(p))return p}else p=HG(i);var y=JG(a),g=te(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return GG(i,p,g);var v=y?XG(i):YG(i);return T.createElement(oa,Ul({className:ue("recharts-label",f)},g,v,{breakAll:h}),p)}ut.displayName="Label";var YN=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,g=t.width,v=t.height,m=t.clockWise,x=t.labelViewBox;if(x)return x;if(H(g)&&H(v)){if(H(f)&&H(h))return{x:f,y:h,width:g,height:v};if(H(p)&&H(y))return{x:p,y,width:g,height:v}}return H(f)&&H(h)?{x:f,y:h,width:0,height:0}:H(r)&&H(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:m}:t.viewBox?t.viewBox:{}},QG=function(t,r){return t?t===!0?T.createElement(ut,{key:"label-implicit",viewBox:r}):ot(t)?T.createElement(ut,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===ut?O.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(ut,{key:"label-implicit",content:t,viewBox:r}):ie(t)?T.createElement(ut,{key:"label-implicit",content:t,viewBox:r}):Go(t)?T.createElement(ut,Ul({viewBox:r},t,{key:"label-implicit"})):null:null},ZG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=YN(t),o=sr(i,ut).map(function(l,c){return O.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=QG(t.label,r||a);return[s].concat(MG(o))};ut.parseViewBox=YN;ut.renderCallByParent=ZG;function eX(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var tX=eX;const rX=be(tX);function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}var nX=["valueAccessor"],iX=["data","dataKey","clockWise","id","textBreakAll"];function aX(e){return cX(e)||lX(e)||sX(e)||oX()}function oX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sX(e,t){if(e){if(typeof e=="string")return Lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lg(e,t)}}function lX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cX(e){if(Array.isArray(e))return Lg(e)}function Lg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(this,arguments)}function a1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(r),!0).forEach(function(n){uX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t,r){return t=dX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=fX(e,"string");return zl(t)=="symbol"?t:t+""}function fX(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s1(e,t){if(e==null)return{};var r=hX(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pX=function(t){return Array.isArray(t.value)?rX(t.value):t.value};function xn(e){var t=e.valueAccessor,r=t===void 0?pX:t,n=s1(e,nX),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=s1(n,iX);return!i||!i.length?null:T.createElement(ge,{className:"recharts-label-list"},i.map(function(d,f){var h=se(a)?r(d,f):it(d&&d.payload,a),p=se(s)?{}:{id:"".concat(s,"-").concat(f)};return T.createElement(ut,Id({},te(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:ut.parseViewBox(se(o)?d:o1(o1({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}xn.displayName="LabelList";function mX(e,t){return e?e===!0?T.createElement(xn,{key:"labelList-implicit",data:t}):T.isValidElement(e)||ie(e)?T.createElement(xn,{key:"labelList-implicit",data:t,content:e}):Go(e)?T.createElement(xn,Id({data:t},e,{key:"labelList-implicit"})):null:null}function gX(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=sr(n,xn).map(function(o,s){return O.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=mX(e.label,t);return[a].concat(aX(i))}xn.renderCallByParent=gX;function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){vX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vX(e,t,r){return t=yX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yX(e){var t=xX(e,"string");return Fl(t)=="symbol"?t:t+""}function xX(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bX=function(t,r){var n=Nt(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},ou=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/$d,h=c?a:a+o*f,p=Ne(r,n,d,h),y=Ne(r,n,i,h),g=c?a-o*f:a,v=Ne(r,n,d*Math.cos(f*$d),g);return{center:p,circleTangency:y,lineTangency:v,theta:f}},JN=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=bX(o,s),c=o+l,d=Ne(r,n,a,o),f=Ne(r,n,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ne(r,n,i,o),y=Ne(r,n,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},wX=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=Nt(d-c),h=ou({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,g=h.theta,v=ou({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),m=v.circleTangency,x=v.lineTangency,b=v.theta,S=l?Math.abs(c-d):Math.abs(c-d)-g-b;if(S<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):JN({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var _=ou({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=_.circleTangency,E=_.lineTangency,A=_.theta,N=ou({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=N.circleTangency,k=N.lineTangency,R=N.theta,D=l?Math.abs(c-d):Math.abs(c-d)-A-R;if(D<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},_X={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QN=function(t){var r=c1(c1({},_X),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=ue("recharts-sector",h),y=o-a,g=Tt(s,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=wX({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=JN({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),T.createElement("path",Bg({},te(r,!0),{className:p,d:v,role:"img"}))};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(this,arguments)}function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return t=jX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=OX(e,"string");return ql(t)=="symbol"?t:t+""}function OX(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f1={curveBasisClosed:S6,curveBasisOpen:j6,curveBasis:_6,curveBumpX:l6,curveBumpY:c6,curveLinearClosed:O6,curveLinear:Vf,curveMonotoneX:E6,curveMonotoneY:A6,curveNatural:P6,curveStep:N6,curveStepAfter:k6,curveStepBefore:T6},su=function(t){return t.x===+t.x&&t.y===+t.y},bs=function(t){return t.x},ws=function(t){return t.y},EX=function(t,r){if(ie(t))return t;var n="curve".concat(qf(t));return(n==="curveMonotone"||n==="curveBump")&&r?f1["".concat(n).concat(r==="vertical"?"Y":"X")]:f1[n]||Vf},AX=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=EX(n,s),f=c?a.filter(function(g){return su(g)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(g){return su(g)}):o,y=f.map(function(g,v){return d1(d1({},g),{},{base:p[v]})});return s==="vertical"?h=Yc().y(ws).x1(bs).x0(function(g){return g.base.x}):h=Yc().x(bs).y1(ws).y0(function(g){return g.base.y}),h.defined(su).curve(d),h(y)}return s==="vertical"&&H(o)?h=Yc().y(ws).x1(bs).x0(o):H(o)?h=Yc().x(bs).y1(ws).y0(o):h=HA().x(bs).y(ws),h.defined(su).curve(d),h(f)},Rd=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?AX(t):i;return O.createElement("path",Ug({},te(t,!1),ad(t),{className:ue("recharts-curve",r),d:o,ref:a}))},ZN={exports:{}},PX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NX=PX,TX=NX;function e2(){}function t2(){}t2.resetWarningCache=e2;var kX=function(){function e(n,i,a,o,s,l){if(l!==TX){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:t2,resetWarningCache:e2};return r.PropTypes=r,r};ZN.exports=kX();var CX=ZN.exports;const ye=be(CX);var $X=Object.getOwnPropertyNames,IX=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty;function h1(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function lu(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function MX(e){return e!=null?e[Symbol.toStringTag]:void 0}function p1(e){return $X(e).concat(IX(e))}var DX=Object.hasOwn||function(e,t){return RX.call(e,t)};function va(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var LX="__v",BX="__o",UX="_owner",m1=Object.getOwnPropertyDescriptor,g1=Object.keys;function zX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function FX(e,t){return va(e.getTime(),t.getTime())}function qX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function WX(e,t){return e===t}function v1(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var VX=va;function HX(e,t,r){var n=g1(e),i=n.length;if(g1(t).length!==i)return!1;for(;i-- >0;)if(!r2(e,t,r,n[i]))return!1;return!0}function _s(e,t,r){var n=p1(e),i=n.length;if(p1(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!r2(e,t,r,a)||(o=m1(e,a),s=m1(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function KX(e,t){return va(e.valueOf(),t.valueOf())}function GX(e,t){return e.source===t.source&&e.flags===t.flags}function y1(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function XX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function YX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function r2(e,t,r,n){return(n===UX||n===BX||n===LX)&&(e.$$typeof||t.$$typeof)?!0:DX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var JX="[object Arguments]",QX="[object Boolean]",ZX="[object Date]",eY="[object Error]",tY="[object Map]",rY="[object Number]",nY="[object Object]",iY="[object RegExp]",aY="[object Set]",oY="[object String]",sY="[object URL]",lY=Array.isArray,x1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,b1=Object.assign,cY=Object.prototype.toString.call.bind(Object.prototype.toString);function uY(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(g,v,m){if(g===v)return!0;if(g==null||v==null)return!1;var x=typeof g;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?o(g,v,m):x==="function"?i(g,v,m):!1;var b=g.constructor;if(b!==v.constructor)return!1;if(b===Object)return s(g,v,m);if(lY(g))return t(g,v,m);if(x1!=null&&x1(g))return f(g,v,m);if(b===Date)return r(g,v,m);if(b===RegExp)return c(g,v,m);if(b===Map)return a(g,v,m);if(b===Set)return d(g,v,m);var S=cY(g);if(S===ZX)return r(g,v,m);if(S===iY)return c(g,v,m);if(S===tY)return a(g,v,m);if(S===aY)return d(g,v,m);if(S===nY)return typeof g.then!="function"&&typeof v.then!="function"&&s(g,v,m);if(S===sY)return h(g,v,m);if(S===eY)return n(g,v,m);if(S===JX)return s(g,v,m);if(S===QX||S===rY||S===oY)return l(g,v,m);if(p){var w=p[S];if(!w){var _=MX(g);_&&(w=p[_])}if(w)return w(g,v,m)}return!1}}function dY(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?_s:zX,areDatesEqual:FX,areErrorsEqual:qX,areFunctionsEqual:WX,areMapsEqual:n?h1(v1,_s):v1,areNumbersEqual:VX,areObjectsEqual:n?_s:HX,arePrimitiveWrappersEqual:KX,areRegExpsEqual:GX,areSetsEqual:n?h1(y1,_s):y1,areTypedArraysEqual:n?_s:XX,areUrlsEqual:YX,unknownTagComparators:void 0};if(r&&(i=b1({},i,r(i))),t){var a=lu(i.areArraysEqual),o=lu(i.areMapsEqual),s=lu(i.areObjectsEqual),l=lu(i.areSetsEqual);i=b1({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function fY(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function hY(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var pY=gi();gi({strict:!0});gi({circular:!0});gi({circular:!0,strict:!0});gi({createInternalComparator:function(){return va}});gi({strict:!0,createInternalComparator:function(){return va}});gi({circular:!0,createInternalComparator:function(){return va}});gi({circular:!0,createInternalComparator:function(){return va},strict:!0});function gi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=dY(e),l=uY(s),c=n?n(l):fY(l);return hY({circular:r,comparator:l,createState:i,equals:c,strict:o})}function mY(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function w1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):mY(i)};requestAnimationFrame(n)}function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function gY(e){return bY(e)||xY(e)||yY(e)||vY()}function vY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(e,t){if(e){if(typeof e=="string")return _1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(e,t)}}function _1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bY(e){if(Array.isArray(e))return e}function wY(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=gY(o),l=s[0],c=s.slice(1);if(typeof l=="number"){w1(i.bind(null,c),l);return}i(l),w1(i.bind(null,c));return}zg(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){n2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n2(e,t,r){return t=_Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=SY(e,"string");return Wl(t)==="symbol"?t:String(t)}function SY(e,t){if(Wl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jY=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},OY=function(t){return t},EY=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Gs=function(t,r){return Object.keys(r).reduce(function(n,i){return j1(j1({},n),{},n2({},i,t(i,r[i])))},{})},O1=function(t,r,n){return t.map(function(i){return"".concat(EY(i)," ").concat(r,"ms ").concat(n)}).join(",")};function AY(e,t){return TY(e)||NY(e,t)||i2(e,t)||PY()}function PY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function TY(e){if(Array.isArray(e))return e}function kY(e){return IY(e)||$Y(e)||i2(e)||CY()}function CY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2(e,t){if(e){if(typeof e=="string")return Fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fg(e,t)}}function $Y(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IY(e){if(Array.isArray(e))return Fg(e)}function Fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Md=1e-4,a2=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},o2=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},E1=function(t,r){return function(n){var i=a2(t,r);return o2(i,n)}},RY=function(t,r){return function(n){var i=a2(t,r),a=[].concat(kY(i.map(function(o,s){return o*s}).slice(1)),[0]);return o2(a,n)}},A1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=AY(c,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=E1(i,o),h=E1(a,s),p=RY(i,o),y=function(m){return m>1?1:m<0?0:m},g=function(m){for(var x=m>1?1:m,b=x,S=0;S<8;++S){var w=f(b)-x,_=p(b);if(Math.abs(w-x)<Md||_<Md)return h(b);b=y(b-w/_)}return h(b)};return g.isStepper=!1,g},MY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,y=h*a,g=h+(p-y)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<Md&&Math.abs(g)<Md?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},DY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return A1(i);case"spring":return MY();default:if(i.split("(")[0]==="cubic-bezier")return A1(i)}return typeof i=="function"?i:null};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function P1(e){return UY(e)||BY(e)||s2(e)||LY()}function LY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UY(e){if(Array.isArray(e))return Wg(e)}function N1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(r),!0).forEach(function(n){qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qg(e,t,r){return t=zY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zY(e){var t=FY(e,"string");return Vl(t)==="symbol"?t:String(t)}function FY(e,t){if(Vl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qY(e,t){return HY(e)||VY(e,t)||s2(e,t)||WY()}function WY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2(e,t){if(e){if(typeof e=="string")return Wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wg(e,t)}}function Wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function HY(e){if(Array.isArray(e))return e}var Dd=function(t,r,n){return t+(r-t)*n},Vg=function(t){var r=t.from,n=t.to;return r!==n},KY=function e(t,r,n){var i=Gs(function(a,o){if(Vg(o)){var s=t(o.from,o.to,o.velocity),l=qY(s,2),c=l[0],d=l[1];return pt(pt({},o),{},{from:c,velocity:d})}return o},r);return n<1?Gs(function(a,o){return Vg(o)?pt(pt({},o),{},{velocity:Dd(o.velocity,i[a].velocity,n),from:Dd(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const GY=function(e,t,r,n,i){var a=jY(e,t),o=a.reduce(function(v,m){return pt(pt({},v),{},qg({},m,[e[m],t[m]]))},{}),s=a.reduce(function(v,m){return pt(pt({},v),{},qg({},m,{from:e[m],velocity:0,to:t[m]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Gs(function(m,x){return x.from},s)},p=function(){return!Object.values(s).filter(Vg).length},y=function(m){c||(c=m);var x=m-c,b=x/r.dt;s=KY(r,s,b),i(pt(pt(pt({},e),t),h())),c=m,p()||(l=requestAnimationFrame(f))},g=function(m){d||(d=m);var x=(m-d)/n,b=Gs(function(w,_){return Dd.apply(void 0,P1(_).concat([r(x)]))},o);if(i(pt(pt(pt({},e),t),b)),x<1)l=requestAnimationFrame(f);else{var S=Gs(function(w,_){return Dd.apply(void 0,P1(_).concat([r(1)]))},o);i(pt(pt(pt({},e),t),S))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}var XY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function YY(e,t){if(e==null)return{};var r=JY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JY(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Tp(e){return tJ(e)||eJ(e)||ZY(e)||QY()}function QY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(e,t){if(e){if(typeof e=="string")return Hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hg(e,t)}}function eJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tJ(e){if(Array.isArray(e))return Hg(e)}function Hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(r),!0).forEach(function(n){ks(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ks(e,t,r){return t=l2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l2(n.key),n)}}function iJ(e,t,r){return t&&nJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l2(e){var t=aJ(e,"string");return jo(t)==="symbol"?t:String(t)}function aJ(e,t){if(jo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kg(e,t)}function sJ(e){var t=lJ();return function(){var n=Ld(e),i;if(t){var a=Ld(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Gg(this,i)}}function Gg(e,t){if(t&&(jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xg(e)}function Xg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}var en=function(e){oJ(r,e);var t=sJ(r);function r(n,i){var a;rJ(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Xg(a)),a.changeStyle=a.changeStyle.bind(Xg(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Gg(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},Gg(a);a.state={style:l?ks({},l,c):c}}else a.state={style:{}};return a}return iJ(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?ks({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(pY(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||c?f:i.to;if(this.state&&h){var v={style:l?ks({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(Pr(Pr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=GY(o,s,DY(c),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,v,m){if(m===0)return g;var x=v.duration,b=v.easing,S=b===void 0?"ease":b,w=v.style,_=v.properties,j=v.onAnimationEnd,E=m>0?o[m-1]:v,A=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Tp(g),[a.runJSAnimation.bind(a,{from:E.style,to:w,duration:x,easing:S}),x]);var N=O1(A,x,S),P=Pr(Pr(Pr({},E.style),w),{},{transition:N});return[].concat(Tp(g),[P,x,j]).filter(OY)};return this.manager.start([l].concat(Tp(o.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wY());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?ks({},s,l):l,v=O1(Object.keys(g),o,c);y.start([d,a,Pr(Pr({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=YY(i,XY),c=O.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||c===0||o<=0)return a;var f=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,m=y.className,x=O.cloneElement(p,Pr(Pr({},l),{},{style:Pr(Pr({},v),d),className:m}));return x};return c===1?f(O.Children.only(a)):T.createElement("div",null,O.Children.map(a,function(h){return f(h)}))}}]),r}(O.PureComponent);en.displayName="Animate";en.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};en.propTypes={from:ye.oneOfType([ye.object,ye.string]),to:ye.oneOfType([ye.object,ye.string]),attributeName:ye.string,duration:ye.number,begin:ye.number,easing:ye.oneOfType([ye.string,ye.func]),steps:ye.arrayOf(ye.shape({duration:ye.number.isRequired,style:ye.object.isRequired,easing:ye.oneOfType([ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ye.func]),properties:ye.arrayOf("string"),onAnimationEnd:ye.func})),children:ye.oneOfType([ye.node,ye.func]),isActive:ye.bool,canBegin:ye.bool,onAnimationEnd:ye.func,shouldReAnimate:ye.bool,onAnimationStart:ye.func,onAnimationReStart:ye.func};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bd.apply(this,arguments)}function cJ(e,t){return hJ(e)||fJ(e,t)||dJ(e,t)||uJ()}function uJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dJ(e,t){if(e){if(typeof e=="string")return k1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(e,t)}}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hJ(e){if(Array.isArray(e))return e}function C1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(r),!0).forEach(function(n){pJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pJ(e,t,r){return t=mJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=gJ(e,"string");return Hl(t)=="symbol"?t:t+""}function gJ(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I1=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),d+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);d="M ".concat(t,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*y,`
            L `).concat(t+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-l*y,",").concat(r+i,`
            L `).concat(t+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(r+i-s*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},vJ=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=d&&i>=f&&i<=h}return!1},yJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A0=function(t){var r=$1($1({},yJ),t),n=O.useRef(),i=O.useState(-1),a=cJ(i,2),o=a[0],s=a[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,m=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var b=ue("recharts-rectangle",p);return x?T.createElement(en,{canBegin:o>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:y,isActive:x},function(S){var w=S.width,_=S.height,j=S.x,E=S.y;return T.createElement(en,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:m,easing:y},T.createElement("path",Bd({},te(r,!0),{className:b,d:I1(j,E,w,_,h),ref:n})))}):T.createElement("path",Bd({},te(r,!0),{className:b,d:I1(l,c,d,f,h)}))},xJ=["points","className","baseLinePoints","connectNulls"];function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Va.apply(this,arguments)}function bJ(e,t){if(e==null)return{};var r=wJ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R1(e){return OJ(e)||jJ(e)||SJ(e)||_J()}function _J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SJ(e,t){if(e){if(typeof e=="string")return Yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yg(e,t)}}function jJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OJ(e){if(Array.isArray(e))return Yg(e)}function Yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M1=function(t){return t&&t.x===+t.x&&t.y===+t.y},EJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){M1(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),M1(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Xs=function(t,r){var n=EJ(t);r&&(n=[n.reduce(function(a,o){return[].concat(R1(a),R1(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},AJ=function(t,r,n){var i=Xs(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Xs(r.reverse(),n).slice(1))},PJ=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=bJ(t,xJ);if(!r||!r.length)return null;var s=ue("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=AJ(r,i,a);return T.createElement("g",{className:s},T.createElement("path",Va({},te(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?T.createElement("path",Va({},te(o,!0),{fill:"none",d:Xs(r,a)})):null,l?T.createElement("path",Va({},te(o,!0),{fill:"none",d:Xs(i,a)})):null)}var d=Xs(r,a);return T.createElement("path",Va({},te(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}var lh=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=ue("recharts-dot",a);return r===+r&&n===+n&&i===+i?O.createElement("circle",Jg({},te(t,!1),ad(t),{className:o,cx:r,cy:n,r:i})):null};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}var NJ=["x","y","top","left","width","height","className"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function D1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(r),!0).forEach(function(n){kJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kJ(e,t,r){return t=CJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=$J(e,"string");return Kl(t)=="symbol"?t:t+""}function $J(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IJ(e,t){if(e==null)return{};var r=RJ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MJ=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},DJ=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,g=IJ(t,NJ),v=TJ({x:n,y:a,top:s,left:c,width:f,height:p},g);return!H(n)||!H(a)||!H(f)||!H(p)||!H(s)||!H(c)?null:T.createElement("path",Qg({},te(v,!0),{className:ue("recharts-cross",y),d:MJ(n,a,f,p,s,c)}))},LJ=nh,BJ=bN,UJ=rn;function zJ(e,t){return e&&e.length?LJ(e,UJ(t),BJ):void 0}var FJ=zJ;const qJ=be(FJ);var WJ=nh,VJ=rn,HJ=wN;function KJ(e,t){return e&&e.length?WJ(e,VJ(t),HJ):void 0}var GJ=KJ;const XJ=be(GJ);var YJ=["cx","cy","angle","ticks","axisLine"],JJ=["ticks","tick","angle","tickFormatter","stroke"];function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(this,arguments)}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B1(e,t){if(e==null)return{};var r=QJ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u2(n.key),n)}}function eQ(e,t,r){return t&&U1(e.prototype,t),r&&U1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tQ(e,t,r){return t=Ud(t),rQ(e,c2()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function rQ(e,t){if(t&&(Oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nQ(e)}function nQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c2=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function iQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zg(e,t)}function ch(e,t,r){return t=u2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u2(e){var t=aQ(e,"string");return Oo(t)=="symbol"?t:t+""}function aQ(e,t){if(Oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uh=function(e){function t(){return ZJ(this,t),tQ(this,t,arguments)}return iQ(t,e),eQ(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Ne(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=qJ(s,function(d){return d.coordinate||0}),c=XJ(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=B1(n,YJ),d=s.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=Ne(i,a,d[0],o),h=Ne(i,a,d[1],o),p=Si(Si(Si({},te(c,!1)),{},{fill:"none"},te(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return T.createElement("line",Ys({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=B1(i,JJ),f=this.getTickTextAnchor(),h=te(d,!1),p=te(o,!1),y=a.map(function(g,v){var m=n.getTickValueCoord(g),x=Si(Si(Si(Si({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(m.x,", ").concat(m.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:v},m),{},{payload:g});return T.createElement(ge,Ys({className:ue("recharts-polar-radius-axis-tick",XN(o)),key:"tick-".concat(g.coordinate)},aa(n.props,g,v)),t.renderTickItem(o,x,l?l(g.value,v):g.value))});return T.createElement(ge,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:T.createElement(ge,{className:ue("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ut.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return T.isValidElement(n)?o=T.cloneElement(n,i):ie(n)?o=n(i):o=T.createElement(oa,Ys({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(O.PureComponent);ch(uh,"displayName","PolarRadiusAxis");ch(uh,"axisType","radiusAxis");ch(uh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(this,arguments)}function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f2(n.key),n)}}function sQ(e,t,r){return t&&F1(e.prototype,t),r&&F1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lQ(e,t,r){return t=zd(t),cQ(e,d2()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function cQ(e,t){if(t&&(Eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(e)}function uQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d2=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function dQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ev(e,t)}function ev(e,t){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ev(e,t)}function dh(e,t,r){return t=f2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f2(e){var t=fQ(e,"string");return Eo(t)=="symbol"?t:t+""}function fQ(e,t){if(Eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hQ=Math.PI/180,q1=1e-5,fh=function(e){function t(){return oQ(this,t),lQ(this,t,arguments)}return dQ(t,e),sQ(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=Ne(a,o,s,n.coordinate),h=Ne(a,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*hQ),o;return a>q1?o=i==="outer"?"start":"end":a<-q1?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=ji(ji({},te(this.props,!1)),{},{fill:"none"},te(s,!1));if(l==="circle")return T.createElement(lh,$i({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ne(i,a,o,h.coordinate)});return T.createElement(PJ,$i({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=te(this.props,!1),f=te(o,!1),h=ji(ji({},d),{},{fill:"none"},te(s,!1)),p=a.map(function(y,g){var v=n.getTickLineCoord(y),m=n.getTickTextAnchor(y),x=ji(ji(ji({textAnchor:m},d),{},{stroke:"none",fill:c},f),{},{index:g,payload:y,x:v.x2,y:v.y2});return T.createElement(ge,$i({className:ue("recharts-polar-angle-axis-tick",XN(o)),key:"tick-".concat(y.coordinate)},aa(n.props,y,g)),s&&T.createElement("line",$i({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,x,l?l(y.value,g):y.value))});return T.createElement(ge,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:T.createElement(ge,{className:ue("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return T.isValidElement(n)?o=T.cloneElement(n,i):ie(n)?o=n(i):o=T.createElement(oa,$i({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(O.PureComponent);dh(fh,"displayName","PolarAngleAxis");dh(fh,"axisType","angleAxis");dh(fh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pQ=gP,mQ=pQ(Object.getPrototypeOf,Object),gQ=mQ,vQ=Tn,yQ=gQ,xQ=kn,bQ="[object Object]",wQ=Function.prototype,_Q=Object.prototype,h2=wQ.toString,SQ=_Q.hasOwnProperty,jQ=h2.call(Object);function OQ(e){if(!xQ(e)||vQ(e)!=bQ)return!1;var t=yQ(e);if(t===null)return!0;var r=SQ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&h2.call(r)==jQ}var EQ=OQ;const AQ=be(EQ);var PQ=Tn,NQ=kn,TQ="[object Boolean]";function kQ(e){return e===!0||e===!1||NQ(e)&&PQ(e)==TQ}var CQ=kQ;const $Q=be(CQ);function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function IQ(e,t){return LQ(e)||DQ(e,t)||MQ(e,t)||RQ()}function RQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(e,t){if(e){if(typeof e=="string")return W1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(e,t)}}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function LQ(e){if(Array.isArray(e))return e}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){BQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BQ(e,t,r){return t=UQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=zQ(e,"string");return Gl(t)=="symbol"?t:t+""}function zQ(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K1=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},FQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qQ=function(t){var r=H1(H1({},FQ),t),n=O.useRef(),i=O.useState(-1),a=IQ(i,2),o=a[0],s=a[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,m=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=ue("recharts-trapezoid",p);return m?T.createElement(en,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:y,isActive:m},function(b){var S=b.upperWidth,w=b.lowerWidth,_=b.height,j=b.x,E=b.y;return T.createElement(en,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},T.createElement("path",Fd({},te(r,!0),{className:x,d:K1(j,E,S,w,_),ref:n})))}):T.createElement("g",null,T.createElement("path",Fd({},te(r,!0),{className:x,d:K1(l,c,d,f,h)})))},WQ=["option","shapeType","propTransformer","activeClassName","isActive"];function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function VQ(e,t){if(e==null)return{};var r=HQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){KQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KQ(e,t,r){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=XQ(e,"string");return Xl(t)=="symbol"?t:t+""}function XQ(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YQ(e,t){return qd(qd({},t),e)}function JQ(e,t){return e==="symbols"}function X1(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(A0,r);case"trapezoid":return T.createElement(qQ,r);case"sector":return T.createElement(QN,r);case"symbols":if(JQ(t))return T.createElement(Hy,r);break;default:return null}}function QQ(e){return O.isValidElement(e)?e.props:e}function p2(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?YQ:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=VQ(e,WQ),c;if(O.isValidElement(t))c=O.cloneElement(t,qd(qd({},l),QQ(t)));else if(ie(t))c=t(l);else if(AQ(t)&&!$Q(t)){var d=i(t,l);c=T.createElement(X1,{shapeType:r,elementProps:d})}else{var f=l;c=T.createElement(X1,{shapeType:r,elementProps:f})}return s?T.createElement(ge,{className:o},c):c}function hh(e,t){return t!=null&&"trapezoids"in e.props}function ph(e,t){return t!=null&&"sectors"in e.props}function Yl(e,t){return t!=null&&"points"in e.props}function ZQ(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function eZ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function tZ(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function rZ(e,t){var r;return hh(e,t)?r=ZQ:ph(e,t)?r=eZ:Yl(e,t)&&(r=tZ),r}function nZ(e,t){var r;return hh(e,t)?r="trapezoids":ph(e,t)?r="sectors":Yl(e,t)&&(r="points"),r}function iZ(e,t){if(hh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ph(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Yl(e,t)?t.payload:{}}function aZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=nZ(r,t),a=iZ(r,t),o=n.filter(function(l,c){var d=bc(a,l),f=r.props[i].filter(function(y){var g=rZ(r,t);return g(y,t)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}var Ou;function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(this,arguments)}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){gr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g2(n.key),n)}}function sZ(e,t,r){return t&&J1(e.prototype,t),r&&J1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lZ(e,t,r){return t=Wd(t),cZ(e,m2()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function cZ(e,t){if(t&&(Ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uZ(e)}function uZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m2=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function dZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tv(e,t)}function tv(e,t){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tv(e,t)}function gr(e,t,r){return t=g2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g2(e){var t=fZ(e,"string");return Ao(t)=="symbol"?t:t+""}function fZ(e,t){if(Ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $n=function(e){function t(r){var n;return oZ(this,t),n=lZ(this,t,[r]),gr(n,"pieRef",null),gr(n,"sectorRefs",[]),gr(n,"id",Qo("recharts-pie-")),gr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ie(i)&&i()}),gr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ie(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return dZ(t,e),sZ(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,d=te(this.props,!1),f=te(o,!1),h=te(s,!1),p=o&&o.offsetRadius||20,y=n.map(function(g,v){var m=(g.startAngle+g.endAngle)/2,x=Ne(g.cx,g.cy,g.outerRadius+p,m),b=Oe(Oe(Oe(Oe({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,g.cx)},x),S=Oe(Oe(Oe(Oe({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Ne(g.cx,g.cy,g.outerRadius,m),x]}),w=l;return se(l)&&se(c)?w="value":se(l)&&(w=c),T.createElement(ge,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},s&&t.renderLabelLineItem(s,S,"line"),t.renderLabelItem(o,b,it(g,w)))});return T.createElement(ge,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,y=Oe(Oe({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return T.createElement(ge,Ha({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},aa(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),T.createElement(p2,Ha({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return T.createElement(en,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],m=a&&a[0],x=m.startAngle;return a.forEach(function(b,S){var w=h&&h[S],_=S>0?or(b,"paddingAngle",0):0;if(w){var j=Zt(w.endAngle-w.startAngle,b.endAngle-b.startAngle),E=Oe(Oe({},b),{},{startAngle:x+_,endAngle:x+j(g)+_});v.push(E),x=E.endAngle}else{var A=b.endAngle,N=b.startAngle,P=Zt(0,A-N),k=P(g),R=Oe(Oe({},b),{},{startAngle:x+_,endAngle:x+k+_});v.push(R),x=R.endAngle}}),T.createElement(ge,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!bc(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!H(c)||!H(d)||!H(f)||!H(h))return null;var g=ue("recharts-pie",s);return T.createElement(ge,{tabIndex:this.props.rootTabIndex,className:g,ref:function(m){n.pieRef=m}},this.renderSectors(),l&&this.renderLabels(o),ut.renderCallByParent(this.props,null,!1),(!p||y)&&xn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(T.isValidElement(n))return T.cloneElement(n,i);if(ie(n))return n(i);var o=ue("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return T.createElement(Rd,Ha({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(T.isValidElement(n))return T.cloneElement(n,i);var o=a;if(ie(n)&&(o=n(i),T.isValidElement(o)))return o;var s=ue("recharts-pie-label-text",typeof n!="boolean"&&!ie(n)?n.className:"");return T.createElement(oa,Ha({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(O.PureComponent);Ou=$n;gr($n,"displayName","Pie");gr($n,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});gr($n,"parseDeltaAngle",function(e,t){var r=Nt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});gr($n,"getRealPieData",function(e){var t=e.data,r=e.children,n=te(e,!1),i=sr(r,Yf);return t&&t.length?t.map(function(a,o){return Oe(Oe(Oe({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Oe(Oe({},n),a.props)}):[]});gr($n,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=GN(i,a),s=n+Tt(e.cx,i,i/2),l=r+Tt(e.cy,a,a/2),c=Tt(e.innerRadius,o,0),d=Tt(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});gr($n,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Oe(Oe({},t.type.defaultProps),t.props):t.props,i=Ou.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Ou.parseCoordinateOfPie(n,r),g=Ou.parseDeltaAngle(o,s),v=Math.abs(g),m=c;se(c)&&se(f)?(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m="value"):se(c)&&(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m=f);var x=i.filter(function(E){return it(E,m,0)!==0}).length,b=(v>=360?x:x-1)*l,S=v-x*p-b,w=i.reduce(function(E,A){var N=it(A,m,0);return E+(H(N)?N:0)},0),_;if(w>0){var j;_=i.map(function(E,A){var N=it(E,m,0),P=it(E,d,A),k=(H(N)?N:0)/w,R;A?R=j.endAngle+Nt(g)*l*(N!==0?1:0):R=o;var D=R+Nt(g)*((N!==0?p:0)+k*S),L=(R+D)/2,$=(y.innerRadius+y.outerRadius)/2,M=[{name:P,value:N,payload:E,dataKey:m,type:h}],I=Ne(y.cx,y.cy,$,L);return j=Oe(Oe(Oe({percent:k,cornerRadius:a,name:P,tooltipPayload:M,midAngle:L,middleRadius:$,tooltipPosition:I},E),y),{},{value:it(E,m),startAngle:R,endAngle:D,payload:E,paddingAngle:Nt(g)*l}),j})}return Oe(Oe({},y),{},{sectors:_,data:i})});var hZ=Math.ceil,pZ=Math.max;function mZ(e,t,r,n){for(var i=-1,a=pZ(hZ((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var gZ=mZ,vZ=RP,Q1=1/0,yZ=17976931348623157e292;function xZ(e){if(!e)return e===0?e:0;if(e=vZ(e),e===Q1||e===-Q1){var t=e<0?-1:1;return t*yZ}return e===e?e:0}var v2=xZ,bZ=gZ,wZ=Xf,kp=v2;function _Z(e){return function(t,r,n){return n&&typeof n!="number"&&wZ(t,r,n)&&(r=n=void 0),t=kp(t),r===void 0?(r=t,t=0):r=kp(r),n=n===void 0?t<r?1:-1:kp(n),bZ(t,r,n,e)}}var SZ=_Z,jZ=SZ,OZ=jZ(),EZ=OZ;const Vd=be(EZ);function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function Z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(r),!0).forEach(function(n){y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y2(e,t,r){return t=AZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AZ(e){var t=PZ(e,"string");return Jl(t)=="symbol"?t:t+""}function PZ(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NZ=["Webkit","Moz","O","ms"],TZ=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=NZ.reduce(function(a,o){return eS(eS({},a),{},y2({},o+n,r))},{});return i[t]=r,i};function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(this,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){Xt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b2(n.key),n)}}function CZ(e,t,r){return t&&rS(e.prototype,t),r&&rS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Z(e,t,r){return t=Kd(t),IZ(e,x2()?Reflect.construct(t,r||[],Kd(e).constructor):t.apply(e,r))}function IZ(e,t){if(t&&(Po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RZ(e)}function RZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}function MZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rv(e,t)}function rv(e,t){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rv(e,t)}function Xt(e,t,r){return t=b2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b2(e){var t=DZ(e,"string");return Po(t)=="symbol"?t:t+""}function DZ(e,t){if(Po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LZ=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Hs().domain(Vd(0,l)).range([a,a+o-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},nS=function(t){return t.changedTouches&&!!t.changedTouches.length},No=function(e){function t(r){var n;return kZ(this,t),n=$Z(this,t,[r]),Xt(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Xt(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Xt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Xt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Xt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Xt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Xt(n,"handleSlideDragStart",function(i){var a=nS(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return MZ(t,e),CZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=it(a[n],s,n);return ie(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,c+d-f-s,c+d-f-o):g<0&&(g=Math.max(g,c-o,c-s));var v=this.getIndex({startX:o+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=nS(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,m={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-p-c):x<0&&(x=Math.max(x,f-c)),m[o]=c+x;var b=this.getIndex(m),S=b.startIndex,w=b.endIndex,_=function(){var E=v.length-1;return o==="startX"&&(s>l?S%g===0:w%g===0)||s<l&&w===E||o==="endX"&&(s>l?w%g===0:S%g===0)||s>l&&w===E};this.setState(Xt(Xt({},o,c+x),"brushMoveStartX",n.pageX),function(){y&&_()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Xt({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return T.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=O.Children.only(c);return f?T.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,m=Math.max(n,this.props.x),x=Cp(Cp({},te(this.props,!1)),{},{x:m,y:c,width:d,height:f}),b=p||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return T.createElement(ge,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:c};return T.createElement(ge,{className:"recharts-brush-texts"},T.createElement(oa,Hd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},y),this.getTextOfTick(i)),T.createElement(oa,Hd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,m=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!H(s)||!H(l)||!H(c)||!H(d)||c<=0||d<=0)return null;var b=ue("recharts-brush",a),S=T.Children.count(o)===1,w=TZ("userSelect","none");return T.createElement(ge,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||m||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),T.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return T.isValidElement(n)?a=T.cloneElement(n,i):ie(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return Cp({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?LZ({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(O.PureComponent);Xt(No,"displayName","Brush");Xt(No,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var BZ=Zy;function UZ(e,t){var r;return BZ(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var zZ=UZ,FZ=lP,qZ=rn,WZ=zZ,VZ=Kt,HZ=Xf;function KZ(e,t,r){var n=VZ(e)?FZ:WZ;return r&&HZ(e,t,r)&&(t=void 0),n(e,qZ(t))}var GZ=KZ;const XZ=be(GZ);var Qr=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},iS=TP;function YZ(e,t,r){t=="__proto__"&&iS?iS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var JZ=YZ,QZ=JZ,ZZ=PP,eee=rn;function tee(e,t){var r={};return t=eee(t),ZZ(e,function(n,i,a){QZ(r,i,t(n,i,a))}),r}var ree=tee;const nee=be(ree);function iee(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var aee=iee,oee=Zy;function see(e,t){var r=!0;return oee(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var lee=see,cee=aee,uee=lee,dee=rn,fee=Kt,hee=Xf;function pee(e,t,r){var n=fee(e)?cee:uee;return r&&hee(e,t,r)&&(t=void 0),n(e,dee(t))}var mee=pee;const w2=be(mee);var gee=["x","y"];function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(this,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){vee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vee(e,t,r){return t=yee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yee(e){var t=xee(e,"string");return Ql(t)=="symbol"?t:t+""}function xee(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bee(e,t){if(e==null)return{};var r=wee(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _ee(e,t){var r=e.x,n=e.y,i=bee(e,gee),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),d=parseInt(c,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Ss(Ss(Ss(Ss(Ss({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function oS(e){return T.createElement(p2,nv({shapeType:"rectangle",propTransformer:_ee,activeClassName:"recharts-active-bar"},e))}var See=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=H(n)||K3(n);return a?t(n,i):(a||la(),r)}},jee=["value","background"],_2;function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function Oee(e,t){if(e==null)return{};var r=Eee(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){Gn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j2(n.key),n)}}function Pee(e,t,r){return t&&lS(e.prototype,t),r&&lS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nee(e,t,r){return t=Xd(t),Tee(e,S2()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function Tee(e,t){if(t&&(To(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kee(e)}function kee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function Cee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iv(e,t)}function iv(e,t){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iv(e,t)}function Gn(e,t,r){return t=j2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2(e){var t=$ee(e,"string");return To(t)=="symbol"?t:t+""}function $ee(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bn=function(e){function t(){var r;Aee(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Nee(this,t,[].concat(i)),Gn(r,"state",{isAnimationFinished:!1}),Gn(r,"id",Qo("recharts-bar-")),Gn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Gn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Cee(t,e),Pee(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,d=te(this.props,!1);return n&&n.map(function(f,h){var p=h===l,y=p?c:o,g=Ke(Ke(Ke({},d),f),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return T.createElement(ge,Gd({className:"recharts-bar-rectangle"},aa(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),T.createElement(oS,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return T.createElement(en,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=a.map(function(v,m){var x=h&&h[m];if(x){var b=Zt(x.x,v.x),S=Zt(x.y,v.y),w=Zt(x.width,v.width),_=Zt(x.height,v.height);return Ke(Ke({},v),{},{x:b(y),y:S(y),width:w(y),height:_(y)})}if(o==="horizontal"){var j=Zt(0,v.height),E=j(y);return Ke(Ke({},v),{},{y:v.y+v.height-E,height:E})}var A=Zt(0,v.width),N=A(y);return Ke(Ke({},v),{},{width:N})});return T.createElement(ge,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!bc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=te(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=Oee(c,jee);if(!f)return null;var p=Ke(Ke(Ke(Ke(Ke({},h),{},{fill:"#eee"},f),l),aa(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return T.createElement(oS,Gd({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=sr(d,wc);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,m){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:it(v,m)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return T.createElement(ge,y,f.map(function(g){return T.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,m=ue("recharts-bar",o),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=x||b,w=se(g)?this.id:g;return T.createElement(ge,{className:m},x||b?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(w)},T.createElement("rect",{x:x?c:c-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,T.createElement(ge,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||v)&&xn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(O.PureComponent);_2=bn;Gn(bn,"displayName","Bar");Gn(bn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gn(bn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=fG(n,r);if(!p)return null;var y=t.layout,g=r.type.defaultProps,v=g!==void 0?Ke(Ke({},g),r.props):r.props,m=v.dataKey,x=v.children,b=v.minPointSize,S=y==="horizontal"?o:a,w=c?S.scale.domain():null,_=xG({numericAxis:S}),j=sr(x,Yf),E=f.map(function(A,N){var P,k,R,D,L,$;c?P=hG(c[d+N],w):(P=it(A,m),Array.isArray(P)||(P=[_,P]));var M=See(b,_2.defaultProps.minPointSize)(P[1],N);if(y==="horizontal"){var I,C=[o.scale(P[0]),o.scale(P[1])],U=C[0],K=C[1];k=J_({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:A,index:N}),R=(I=K??U)!==null&&I!==void 0?I:void 0,D=p.size;var z=U-K;if(L=Number.isNaN(z)?0:z,$={x:k,y:o.y,width:D,height:o.height},Math.abs(M)>0&&Math.abs(L)<Math.abs(M)){var Y=Nt(L||M)*(Math.abs(M)-Math.abs(L));R-=Y,L+=Y}}else{var ae=[a.scale(P[0]),a.scale(P[1])],F=ae[0],ce=ae[1];if(k=F,R=J_({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:A,index:N}),D=ce-F,L=p.size,$={x:a.x,y:R,width:a.width,height:L},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var Fe=Nt(D||M)*(Math.abs(M)-Math.abs(D));D+=Fe}}return Ke(Ke(Ke({},A),{},{x:k,y:R,width:D,height:L,value:c?P:P[1],payload:A,background:$},j&&j[N]&&j[N].props),{},{tooltipPayload:[HN(r,A)],tooltipPosition:{x:k+D/2,y:R+L/2}})});return Ke({data:E,layout:y},h)});function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Iee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O2(n.key),n)}}function Ree(e,t,r){return t&&cS(e.prototype,t),r&&cS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mh(e,t,r){return t=O2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O2(e){var t=Mee(e,"string");return Zl(t)=="symbol"?t:t+""}function Mee(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E2=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Jt(c,bn);return d.reduce(function(p,y){var g=r[y],v=g.orientation,m=g.domain,x=g.padding,b=x===void 0?{}:x,S=g.mirror,w=g.reversed,_="".concat(v).concat(S?"Mirror":""),j,E,A,N,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var k=m[1]-m[0],R=1/0,D=g.categoricalDomain.sort(Y3);if(D.forEach(function(ae,F){F>0&&(R=Math.min((ae||0)-(D[F-1]||0),R))}),Number.isFinite(R)){var L=R/k,$=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(j=L*$/2),g.padding==="no-gap"){var M=Tt(t.barCategoryGap,L*$),I=L*$/2;j=I-M-(I-M)/$*M}}}i==="xAxis"?E=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:E=g.range,w&&(E=[E[1],E[0]]);var C=FN(g,a,h),U=C.scale,K=C.realScaleType;U.domain(m).range(E),qN(U);var z=WN(U,Rr(Rr({},g),{},{realScaleType:K}));i==="xAxis"?(P=v==="top"&&!S||v==="bottom"&&S,A=n.left,N=f[_]-P*g.height):i==="yAxis"&&(P=v==="left"&&!S||v==="right"&&S,A=f[_]-P*g.width,N=n.top);var Y=Rr(Rr(Rr({},g),z),{},{realScaleType:K,x:A,y:N,scale:U,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return Y.bandSize=Cd(Y,z),!g.hide&&i==="xAxis"?f[_]+=(P?-1:1)*Y.height:g.hide||(f[_]+=(P?-1:1)*Y.width),Rr(Rr({},p),{},mh({},y,Y))},{})},A2=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Dee=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return A2({x:r,y:n},{x:i,y:a})},P2=function(){function e(t){Iee(this,e),this.scale=t}return Ree(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();mh(P2,"EPS",1e-4);var P0=function(t){var r=Object.keys(t).reduce(function(n,i){return Rr(Rr({},n),{},mh({},i,P2.create(t[i])))},{});return Rr(Rr({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return nee(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return w2(i,function(a,o){return r[o].isInRange(a)})}})};function Lee(e){return(e%180+180)%180}var Bee=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Lee(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Uee=rn,zee=mc,Fee=Kf;function qee(e){return function(t,r,n){var i=Object(t);if(!zee(t)){var a=Uee(r);t=Fee(t),r=function(s){return a(i[s],s,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var Wee=qee,Vee=v2;function Hee(e){var t=Vee(e),r=t%1;return t===t?r?t-r:t:0}var Kee=Hee,Gee=_P,Xee=rn,Yee=Kee,Jee=Math.max;function Qee(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Yee(r);return i<0&&(i=Jee(n+i,0)),Gee(e,Xee(t),i)}var Zee=Qee,ete=Wee,tte=Zee,rte=ete(tte),nte=rte;const ite=be(nte);var ate=ZL(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),N0=O.createContext(void 0),T0=O.createContext(void 0),N2=O.createContext(void 0),T2=O.createContext({}),k2=O.createContext(void 0),C2=O.createContext(0),$2=O.createContext(0),dS=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,d=ate(a);return T.createElement(N0.Provider,{value:n},T.createElement(T0.Provider,{value:i},T.createElement(T2.Provider,{value:a},T.createElement(N2.Provider,{value:d},T.createElement(k2.Provider,{value:o},T.createElement(C2.Provider,{value:c},T.createElement($2.Provider,{value:l},s)))))))},ote=function(){return O.useContext(k2)},I2=function(t){var r=O.useContext(N0);r==null&&la();var n=r[t];return n==null&&la(),n},ste=function(){var t=O.useContext(N0);return qn(t)},lte=function(){var t=O.useContext(T0),r=ite(t,function(n){return w2(n.domain,Number.isFinite)});return r||qn(t)},R2=function(t){var r=O.useContext(T0);r==null&&la();var n=r[t];return n==null&&la(),n},cte=function(){var t=O.useContext(N2);return t},ute=function(){return O.useContext(T2)},k0=function(){return O.useContext($2)},C0=function(){return O.useContext(C2)};function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}function dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D2(n.key),n)}}function hte(e,t,r){return t&&fte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pte(e,t,r){return t=Yd(t),mte(e,M2()?Reflect.construct(t,r||[],Yd(e).constructor):t.apply(e,r))}function mte(e,t){if(t&&(ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gte(e)}function gte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M2=function(){return!!e})()}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}function vte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&av(e,t)}function av(e,t){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},av(e,t)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){$0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $0(e,t,r){return t=D2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D2(e){var t=yte(e,"string");return ko(t)=="symbol"?t:t+""}function yte(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xte(e,t){return Ste(e)||_te(e,t)||wte(e,t)||bte()}function bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wte(e,t){if(e){if(typeof e=="string")return pS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(e,t)}}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _te(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ste(e){if(Array.isArray(e))return e}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}var jte=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):ie(t)?n=t(r):n=T.createElement("line",ov({},r,{className:"recharts-reference-line-line"})),n},Ote=function(t,r,n,i,a,o,s,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var y=c.y,g=t.y.apply(y,{position:o});if(Qr(c,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var m=c.x,x=t.x.apply(m,{position:o});if(Qr(c,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+p},{x,y:f}];return s==="top"?b.reverse():b}if(i){var S=c.segment,w=S.map(function(_){return t.apply(_,{position:o})});return Qr(c,"discard")&&XZ(w,function(_){return!t.isInRange(_)})?null:w}return null};function Ete(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=ote(),d=I2(i),f=R2(a),h=cte();if(!c||!h)return null;zr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=P0({x:d.scale,y:f.scale}),y=ot(t),g=ot(r),v=n&&n.length===2,m=Ote(p,y,g,v,h,e.position,d.orientation,f.orientation,e);if(!m)return null;var x=xte(m,2),b=x[0],S=b.x,w=b.y,_=x[1],j=_.x,E=_.y,A=Qr(e,"hidden")?"url(#".concat(c,")"):void 0,N=hS(hS({clipPath:A},te(e,!0)),{},{x1:S,y1:w,x2:j,y2:E});return T.createElement(ge,{className:ue("recharts-reference-line",s)},jte(o,N),ut.renderCallByParent(e,Dee({x1:S,y1:w,x2:j,y2:E})))}var I0=function(e){function t(){return dte(this,t),pte(this,t,arguments)}return vte(t,e),hte(t,[{key:"render",value:function(){return T.createElement(Ete,this.props)}}])}(T.Component);$0(I0,"displayName","ReferenceLine");$0(I0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(this,arguments)}function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ate(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B2(n.key),n)}}function Nte(e,t,r){return t&&Pte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tte(e,t,r){return t=Jd(t),kte(e,L2()?Reflect.construct(t,r||[],Jd(e).constructor):t.apply(e,r))}function kte(e,t){if(t&&(Co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cte(e)}function Cte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L2=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(e)}function $te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lv(e,t)}function lv(e,t){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lv(e,t)}function gh(e,t,r){return t=B2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B2(e){var t=Ite(e,"string");return Co(t)=="symbol"?t:t+""}function Ite(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rte=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=P0({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Qr(t,"discard")&&!o.isInRange(s)?null:s},vh=function(e){function t(){return Ate(this,t),Tte(this,t,arguments)}return $te(t,e),Nte(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=ot(i),d=ot(a);if(zr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=Rte(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,g=y.shape,v=y.className,m=Qr(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=gS(gS({clipPath:m},te(this.props,!0)),{},{cx:h,cy:p});return T.createElement(ge,{className:ue("recharts-reference-dot",v)},t.renderDot(g,x),ut.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(T.Component);gh(vh,"displayName","ReferenceDot");gh(vh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gh(vh,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):ie(e)?r=e(t):r=T.createElement(lh,sv({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(this,arguments)}function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z2(n.key),n)}}function Lte(e,t,r){return t&&Dte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bte(e,t,r){return t=Qd(t),Ute(e,U2()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function Ute(e,t){if(t&&($o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zte(e)}function zte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U2=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(e)}function Fte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uv(e,t)}function uv(e,t){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uv(e,t)}function yh(e,t,r){return t=z2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z2(e){var t=qte(e,"string");return $o(t)=="symbol"?t:t+""}function qte(e,t){if($o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wte=function(t,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=P0({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Qr(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:A2(p,y)},xh=function(e){function t(){return Mte(this,t),Bte(this,t,arguments)}return Fte(t,e),Lte(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;zr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ot(i),h=ot(a),p=ot(o),y=ot(s),g=this.props.shape;if(!f&&!h&&!p&&!y&&!g)return null;var v=Wte(f,h,p,y,this.props);if(!v&&!g)return null;var m=Qr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return T.createElement(ge,{className:ue("recharts-reference-area",l)},t.renderRect(g,yS(yS({clipPath:m},te(this.props,!0)),v)),ut.renderCallByParent(this.props,v))}}])}(T.Component);yh(xh,"displayName","ReferenceArea");yh(xh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yh(xh,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):ie(e)?r=e(t):r=T.createElement(A0,cv({},t,{className:"recharts-reference-area-rect"})),r});function F2(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Vte(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Bee(n,r)}function Hte(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Zd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Kte(e,t){return F2(e,t+1)}function Gte(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,d=o,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:F2(n,c)};var g=l,v,m=function(){return v===void 0&&(v=r(y,g)),v},x=y.coordinate,b=l===0||Zd(e,x,m,d,s);b||(l=0,d=o,c+=1),b&&(d=x+e*(m()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){Xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xte(e,t,r){return t=Yte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yte(e){var t=Jte(e,"string");return ec(t)=="symbol"?t:t+""}function Jte(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qte(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(h){var p=a[h],y,g=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var v=e*(p.coordinate+e*g()/2-l);a[h]=p=wt(wt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[h]=p=wt(wt({},p),{},{tickCoord:p.coordinate});var m=Zd(e,p.tickCoord,g,s,l);m&&(l=p.tickCoord-e*(g()/2+i),a[h]=wt(wt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return a}function Zte(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-c);o[s-1]=d=wt(wt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Zd(e,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-e*(f/2+i),o[s-1]=wt(wt({},d),{},{isShow:!0}))}for(var y=a?s-1:s,g=function(x){var b=o[x],S,w=function(){return S===void 0&&(S=r(b,x)),S};if(x===0){var _=e*(b.coordinate-e*w()/2-l);o[x]=b=wt(wt({},b),{},{tickCoord:_<0?b.coordinate-_*e:b.coordinate})}else o[x]=b=wt(wt({},b),{},{tickCoord:b.coordinate});var j=Zd(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+i),o[x]=wt(wt({},b),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function R0(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(H(l)||pa.isSsr)return Kte(i,typeof l=="number"&&H(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=d&&p==="width"?Vs(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(b,S){var w=ie(c)?c(b.value,S):b.value;return p==="width"?Vte(Vs(w,{fontSize:t,letterSpacing:r}),y,f):Vs(w,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?Nt(i[1].coordinate-i[0].coordinate):1,m=Hte(a,v,p);return l==="equidistantPreserveStart"?Gte(v,m,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Zte(v,m,g,i,o,l==="preserveStartEnd"):h=Qte(v,m,g,i,o),h.filter(function(x){return x.isShow}))}var ere=["viewBox"],tre=["viewBox"],rre=["ticks"];function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(this,arguments)}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){M0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $p(e,t){if(e==null)return{};var r=nre(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ire(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W2(n.key),n)}}function are(e,t,r){return t&&wS(e.prototype,t),r&&wS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ore(e,t,r){return t=ef(t),sre(e,q2()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function sre(e,t){if(t&&(Io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lre(e)}function lre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function cre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dv(e,t)}function M0(e,t,r){return t=W2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W2(e){var t=ure(e,"string");return Io(t)=="symbol"?t:t+""}function ure(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var as=function(e){function t(r){var n;return ire(this,t),n=ore(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return cre(t,e),are(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=$p(n,ere),s=this.props,l=s.viewBox,c=$p(s,tre);return!ro(a,l)||!ro(o,c)||!ro(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,g,v,m,x,b=f?-1:1,S=n.tickSize||d,w=H(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=y=n.coordinate,v=o+ +!f*l,g=v-b*S,x=g-b*h,m=w;break;case"left":g=v=n.coordinate,y=a+ +!f*s,p=y-b*S,m=p-b*h,x=w;break;case"right":g=v=n.coordinate,y=a+ +f*s,p=y+b*S,m=p+b*h,x=w;break;default:p=y=n.coordinate,v=o+ +f*l,g=v+b*S,x=g+b*h,m=w;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x:m,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=et(et(et({},te(this.props,!1)),te(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=et(et({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=et(et({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return T.createElement("line",Ka({},f,{className:ue("recharts-cartesian-axis-line",or(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=R0(et(et({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=te(this.props,!1),m=te(d,!1),x=et(et({},v),{},{fill:"none"},te(l,!1)),b=p.map(function(S,w){var _=o.getTickLineCoord(S),j=_.line,E=_.tick,A=et(et(et(et({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:c},m),E),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:f});return T.createElement(ge,Ka({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},aa(o.props,S,w)),l&&T.createElement("line",Ka({},x,j,{className:ue("recharts-cartesian-axis-tick-line",or(l,"className"))})),d&&t.renderTickItem(d,A,"".concat(ie(f)?f(S.value,w):S.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=$p(f,rre),y=h;return ie(l)&&(y=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!y||!y.length?null:T.createElement(ge,{className:ue("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ut.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=ue(i.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?o=T.cloneElement(n,et(et({},i),{},{className:s})):ie(n)?o=n(et(et({},i),{},{className:s})):o=T.createElement(oa,Ka({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(O.Component);M0(as,"displayName","CartesianAxis");M0(as,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dre=["x1","y1","x2","y2","key"],fre=["offset"];function ca(e){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(e)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){hre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hre(e,t,r){return t=pre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=mre(e,"string");return ca(t)=="symbol"?t:t+""}function mre(e,t){if(ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(this,arguments)}function SS(e,t){if(e==null)return{};var r=gre(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vre=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return T.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function V2(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(ie(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=SS(t,dre),c=te(l,!1);c.offset;var d=SS(c,fre);r=T.createElement("line",zi({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function yre(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=St(St({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return V2(i,c)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function xre(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=St(St({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return V2(i,c)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function bre(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],g=y?i+o-h:d[p+1]-h;if(g<=0)return null;var v=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function wre(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],g=y?a+s-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var _re=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return zN(R0(St(St(St({},as.defaultProps),n),{},{ticks:pn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Sre=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return zN(R0(St(St(St({},as.defaultProps),n),{},{ticks:pn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Aa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Eu(e){var t,r,n,i,a,o,s=k0(),l=C0(),c=ute(),d=St(St({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Aa.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Aa.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Aa.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Aa.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Aa.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Aa.verticalFill,x:H(e.x)?e.x:c.left,y:H(e.y)?e.y:c.top,width:H(e.width)?e.width:c.width,height:H(e.height)?e.height:c.height}),f=d.x,h=d.y,p=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,m=d.verticalValues,x=ste(),b=lte();if(!H(p)||p<=0||!H(y)||y<=0||!H(f)||f!==+f||!H(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||_re,w=d.horizontalCoordinatesGenerator||Sre,_=d.horizontalPoints,j=d.verticalPoints;if((!_||!_.length)&&ie(w)){var E=v&&v.length,A=w({yAxis:b?St(St({},b),{},{ticks:E?v:b.ticks}):void 0,width:s,height:l,offset:c},E?!0:g);zr(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ca(A),"]")),Array.isArray(A)&&(_=A)}if((!j||!j.length)&&ie(S)){var N=m&&m.length,P=S({xAxis:x?St(St({},x),{},{ticks:N?m:x.ticks}):void 0,width:s,height:l,offset:c},N?!0:g);zr(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ca(P),"]")),Array.isArray(P)&&(j=P)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(vre,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),T.createElement(yre,zi({},d,{offset:c,horizontalPoints:_,xAxis:x,yAxis:b})),T.createElement(xre,zi({},d,{offset:c,verticalPoints:j,xAxis:x,yAxis:b})),T.createElement(bre,zi({},d,{horizontalPoints:_})),T.createElement(wre,zi({},d,{verticalPoints:j})))}Eu.displayName="CartesianGrid";var jre=["type","layout","connectNulls","ref"],Ore=["key"];function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function jS(e,t){if(e==null)return{};var r=Ere(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ere(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Js.apply(this,arguments)}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){Mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pa(e){return Tre(e)||Nre(e)||Pre(e)||Are()}function Are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pre(e,t){if(e){if(typeof e=="string")return fv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fv(e,t)}}function Nre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tre(e){if(Array.isArray(e))return fv(e)}function fv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ES(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K2(n.key),n)}}function Cre(e,t,r){return t&&ES(e.prototype,t),r&&ES(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $re(e,t,r){return t=tf(t),Ire(e,H2()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function Ire(e,t){if(t&&(Ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rre(e)}function Rre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H2=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function Mre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hv(e,t)}function hv(e,t){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hv(e,t)}function Mr(e,t,r){return t=K2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2(e){var t=Dre(e,"string");return Ro(t)=="symbol"?t:t+""}function Dre(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xi=function(e){function t(){var r;kre(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$re(this,t,[].concat(i)),Mr(r,"state",{isAnimationFinished:!0,totalLength:0}),Mr(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Mr(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(m,x){return m+x});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/c),f=o%c,h=s-o,p=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){p=[].concat(Pa(l.slice(0,y)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Pa(t.repeat(l,d)),Pa(p),v).map(function(m){return"".concat(m,"px")}).join(", ")}),Mr(r,"id",Qo("recharts-line-")),Mr(r,"pathRef",function(o){r.mainCurve=o}),Mr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Mr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Mre(t,e),Cre(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=sr(d,wc);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:it(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return T.createElement(ge,p,f.map(function(y){return T.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=te(this.props,!1),h=te(l,!0),p=c.map(function(g,v){var m=Gt(Gt(Gt({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:c});return t.renderDotItem(l,m)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return T.createElement(ge,Js({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=jS(s,jre),h=Gt(Gt(Gt({},te(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:d});return T.createElement(Rd,Js({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,g=o.width,v=o.height,m=this.state,x=m.prevPoints,b=m.totalLength;return T.createElement(en,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(x){var _=x.length/s.length,j=s.map(function(k,R){var D=Math.floor(R*_);if(x[D]){var L=x[D],$=Zt(L.x,k.x),M=Zt(L.y,k.y);return Gt(Gt({},k),{},{x:$(w),y:M(w)})}if(y){var I=Zt(g*2,k.x),C=Zt(v/2,k.y);return Gt(Gt({},k),{},{x:I(w),y:C(w)})}return Gt(Gt({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(j,n,i)}var E=Zt(0,b),A=E(w),N;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});N=a.getStrokeDasharray(A,b,P)}else N=a.generateSimpleStrokeDasharray(b,A);return a.renderCurveStatically(s,n,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!c&&d>0||!bc(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var m=this.state.isAnimationFinished,x=s.length===1,b=ue("recharts-line",l),S=c&&c.allowDataOverflow,w=d&&d.allowDataOverflow,_=S||w,j=se(v)?this.id:v,E=(n=te(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,N=A===void 0?3:A,P=E.strokeWidth,k=P===void 0?2:P,R=a4(o)?o:{},D=R.clipDot,L=D===void 0?!0:D,$=N*2+k;return T.createElement(ge,{className:b},S||w?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(j)},T.createElement("rect",{x:S?h:h-p/2,y:w?f:f-y/2,width:S?p:p*2,height:w?y:y*2})),!L&&T.createElement("clipPath",{id:"clipPath-dots-".concat(j)},T.createElement("rect",{x:h-$/2,y:f-$/2,width:p+$,height:y+$}))):null,!x&&this.renderCurve(_,j),this.renderErrorBar(_,j),(x||o)&&this.renderDots(_,L,j),(!g||m)&&xn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Pa(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Pa(o),Pa(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(T.isValidElement(n))a=T.cloneElement(n,i);else if(ie(n))a=n(i);else{var o=i.key,s=jS(i,Ore),l=ue("recharts-line-dot",typeof n!="boolean"?n.className:"");a=T.createElement(lh,Js({key:o},s,{className:l}))}return a}}])}(O.PureComponent);Mr(Xi,"displayName","Line");Mr(Xi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mr(Xi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,f=l.map(function(h,p){var y=it(h,o);return d==="horizontal"?{x:Y_({axis:r,ticks:i,bandSize:s,entry:h,index:p}),y:se(y)?null:n.scale(y),value:y,payload:h}:{x:se(y)?null:r.scale(y),y:Y_({axis:n,ticks:a,bandSize:s,entry:h,index:p}),value:y,payload:h}});return Gt({points:f,layout:d},c)});function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function Lre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y2(n.key),n)}}function Ure(e,t,r){return t&&Bre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zre(e,t,r){return t=rf(t),Fre(e,G2()?Reflect.construct(t,r||[],rf(e).constructor):t.apply(e,r))}function Fre(e,t){if(t&&(Mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qre(e)}function qre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G2=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rf(e)}function Wre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pv(e,t)}function pv(e,t){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pv(e,t)}function X2(e,t,r){return t=Y2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y2(e){var t=Vre(e,"string");return Mo(t)=="symbol"?t:t+""}function Vre(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(this,arguments)}function Hre(e){var t=e.xAxisId,r=k0(),n=C0(),i=I2(t);return i==null?null:O.createElement(as,mv({},i,{className:ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return pn(o,!0)}}))}var Yi=function(e){function t(){return Lre(this,t),zre(this,t,arguments)}return Wre(t,e),Ure(t,[{key:"render",value:function(){return O.createElement(Hre,this.props)}}])}(O.Component);X2(Yi,"displayName","XAxis");X2(Yi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function Kre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z2(n.key),n)}}function Xre(e,t,r){return t&&Gre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yre(e,t,r){return t=nf(t),Jre(e,J2()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function Jre(e,t){if(t&&(Do(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qre(e)}function Qre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function Zre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}function gv(e,t){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gv(e,t)}function Q2(e,t,r){return t=Z2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z2(e){var t=ene(e,"string");return Do(t)=="symbol"?t:t+""}function ene(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(this,arguments)}var tne=function(t){var r=t.yAxisId,n=k0(),i=C0(),a=R2(r);return a==null?null:O.createElement(as,vv({},a,{className:ue("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return pn(s,!0)}}))},Ji=function(e){function t(){return Kre(this,t),Yre(this,t,arguments)}return Zre(t,e),Xre(t,[{key:"render",value:function(){return O.createElement(tne,this.props)}}])}(O.Component);Q2(Ji,"displayName","YAxis");Q2(Ji,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AS(e){return ane(e)||ine(e)||nne(e)||rne()}function rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(e,t){if(e){if(typeof e=="string")return yv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yv(e,t)}}function ine(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ane(e){if(Array.isArray(e))return yv(e)}function yv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xv=function(t,r,n,i,a){var o=sr(t,I0),s=sr(t,vh),l=[].concat(AS(o),AS(s)),c=sr(t,xh),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&Qr(v.props,"extendDomain")&&H(v.props[f])){var m=v.props[f];return[Math.min(g[0],m),Math.max(g[1],m)]}return g},h)),c.length){var p="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[d]===n&&Qr(v.props,"extendDomain")&&H(v.props[p])&&H(v.props[y])){var m=v.props[p],x=v.props[y];return[Math.min(g[0],m,x),Math.max(g[1],m,x)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return H(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},eT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,y){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],m=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,y),!0}for(b=1,x=new Array(m-1);b<m;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),m){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(m-1);w<m;w++)x[w-1]=arguments[w];v[b].fn.apply(v[b].context,x)}}return!0},s.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var g=0,v=[],m=y.length;g<m;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(eT);var one=eT.exports;const sne=be(one);var Ip=new sne,Rp="recharts.syncMouseEvents";function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function lne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tT(n.key),n)}}function une(e,t,r){return t&&cne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mp(e,t,r){return t=tT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tT(e){var t=dne(e,"string");return tc(t)=="symbol"?t:t+""}function dne(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fne=function(){function e(){lne(this,e),Mp(this,"activeIndex",0),Mp(this,"coordinateList",[]),Mp(this,"layout","horizontal")}return une(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function hne(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&H(n)&&H(i))return!0}return!1}function pne(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function rT(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=Ne(t,r,n,i),s=Ne(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function mne(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ne(s,l,c,f),p=Ne(s,l,d,f);n=h.x,i=h.y,a=p.x,o=p.y}else return rT(t);return[{x:n,y:i},{x:a,y:o}]}function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){gne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t,r){return t=vne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vne(e){var t=yne(e,"string");return rc(t)=="symbol"?t:t+""}function yne(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xne(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,g=Rd;if(h==="ScatterChart")y=o,g=DJ;else if(h==="BarChart")y=pne(f,o,l,d),g=A0;else if(f==="radial"){var v=rT(o),m=v.cx,x=v.cy,b=v.radius,S=v.startAngle,w=v.endAngle;y={cx:m,cy:x,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},g=QN}else y={points:mne(f,o,l)},g=Rd;var _=cu(cu(cu(cu({stroke:"#ccc",pointerEvents:"none"},l),y),te(p,!1)),{},{payload:s,payloadIndex:c,className:ue("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,_):O.createElement(g,_)}var bne=["item"],wne=["children","className","width","height","style","compact","title","desc"];function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ga.apply(this,arguments)}function NS(e,t){return jne(e)||Sne(e,t)||iT(e,t)||_ne()}function _ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function jne(e){if(Array.isArray(e))return e}function TS(e,t){if(e==null)return{};var r=One(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function One(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ene(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ane(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aT(n.key),n)}}function Pne(e,t,r){return t&&Ane(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nne(e,t,r){return t=af(t),Tne(e,nT()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function Tne(e,t){if(t&&(Lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kne(e)}function kne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nT=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function Cne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bv(e,t)}function bv(e,t){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bv(e,t)}function Bo(e){return Rne(e)||Ine(e)||iT(e)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iT(e,t){if(e){if(typeof e=="string")return wv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wv(e,t)}}function Ine(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rne(e){if(Array.isArray(e))return wv(e)}function wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function re(e,t,r){return t=aT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aT(e){var t=Mne(e,"string");return Lo(t)=="symbol"?t:t+""}function Mne(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dne={xAxis:["bottom","top"],yAxis:["left","right"]},Lne={width:"100%",height:"100%"},oT={x:0,y:0};function uu(e){return e}var Bne=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Une=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return B(B(B({},i),Ne(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return B(B(B({},i),Ne(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return oT},bh=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Bo(s),Bo(c)):s},[]);return o.length>0?o:t&&t.length&&H(i)&&H(a)?t.slice(i,a+1):[]};function sT(e){return e==="number"?[0,"auto"]:void 0}var _v=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=bh(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=id(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Bo(l),[HN(c,h)]):l},[])},CS=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=Bne(a,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=oG(o,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=_v(t,r,d,f),p=Une(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},zne=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=UN(d,a);return n.reduce(function(y,g){var v,m=g.type.defaultProps!==void 0?B(B({},g.type.defaultProps),g.props):g.props,x=m.type,b=m.dataKey,S=m.allowDataOverflow,w=m.allowDuplicatedCategory,_=m.scale,j=m.ticks,E=m.includeHidden,A=m[o];if(y[A])return y;var N=bh(t.data,{graphicalItems:i.filter(function(z){var Y,ae=o in z.props?z.props[o]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[o];return ae===A}),dataStartIndex:l,dataEndIndex:c}),P=N.length,k,R,D;hne(m.domain,S,x)&&(k=Mg(m.domain,null,S),p&&(x==="number"||_!=="auto")&&(D=Ks(N,b,"category")));var L=sT(x);if(!k||k.length===0){var $,M=($=m.domain)!==null&&$!==void 0?$:L;if(b){if(k=Ks(N,b,x),x==="category"&&p){var I=X3(k);w&&I?(R=k,k=Vd(0,P)):w||(k=e1(M,k,g).reduce(function(z,Y){return z.indexOf(Y)>=0?z:[].concat(Bo(z),[Y])},[]))}else if(x==="category")w?k=k.filter(function(z){return z!==""&&!se(z)}):k=e1(M,k,g).reduce(function(z,Y){return z.indexOf(Y)>=0||Y===""||se(Y)?z:[].concat(Bo(z),[Y])},[]);else if(x==="number"){var C=dG(N,i.filter(function(z){var Y,ae,F=o in z.props?z.props[o]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[o],ce="hide"in z.props?z.props.hide:(ae=z.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return F===A&&(E||!ce)}),b,a,d);C&&(k=C)}p&&(x==="number"||_!=="auto")&&(D=Ks(N,b,"category"))}else p?k=Vd(0,P):s&&s[A]&&s[A].hasStack&&x==="number"?k=h==="expand"?[0,1]:VN(s[A].stackGroups,l,c):k=BN(N,i.filter(function(z){var Y=o in z.props?z.props[o]:z.type.defaultProps[o],ae="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Y===A&&(E||!ae)}),x,d,!0);if(x==="number")k=xv(f,k,A,a,j),M&&(k=Mg(M,k,S));else if(x==="category"&&M){var U=M,K=k.every(function(z){return U.indexOf(z)>=0});K&&(k=U)}}return B(B({},y),{},re({},A,B(B({},m),{},{axisType:a,domain:k,categoricalDomain:D,duplicateDomain:R,originalDomain:(v=m.domain)!==null&&v!==void 0?v:L,isCategorical:p,layout:d})))},{})},Fne=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=bh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,y=UN(d,a),g=-1;return n.reduce(function(v,m){var x=m.type.defaultProps!==void 0?B(B({},m.type.defaultProps),m.props):m.props,b=x[o],S=sT("number");if(!v[b]){g++;var w;return y?w=Vd(0,p):s&&s[b]&&s[b].hasStack?(w=VN(s[b].stackGroups,l,c),w=xv(f,w,b,a)):(w=Mg(S,BN(h,n.filter(function(_){var j,E,A=o in _.props?_.props[o]:(j=_.type.defaultProps)===null||j===void 0?void 0:j[o],N="hide"in _.props?_.props.hide:(E=_.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===b&&!N}),"number",d),i.defaultProps.allowDataOverflow),w=xv(f,w,b,a)),B(B({},v),{},re({},b,B(B({axisType:a},i.defaultProps),{},{hide:!0,orientation:or(Dne,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:S,isCategorical:y,layout:d})))}return v},{})},qne=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=sr(d,a),p={};return h&&h.length?p=zne(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=Fne(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},Wne=function(t){var r=qn(t),n=pn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:e0(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Cd(r,n)}},$S=function(t){var r=t.children,n=t.defaultShowTooltip,i=Jt(r,No),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Vne=function(t){return!t||!t.length?!1:t.some(function(r){var n=vn(r&&r.type);return n&&n.indexOf("Bar")>=0})},IS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hne=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=Jt(f,No),y=Jt(f,ni),g=Object.keys(l).reduce(function(w,_){var j=l[_],E=j.orientation;return!j.mirror&&!j.hide?B(B({},w),{},re({},E,w[E]+j.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(w,_){var j=o[_],E=j.orientation;return!j.mirror&&!j.hide?B(B({},w),{},re({},E,or(w,"".concat(E))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),m=B(B({},v),g),x=m.bottom;p&&(m.bottom+=p.props.height||No.defaultProps.height),y&&r&&(m=cG(m,i,n,r));var b=c-m.left-m.right,S=d-m.top-m.bottom;return B(B({brushBottom:x},m),{},{width:Math.max(b,0),height:Math.max(S,0)})},Kne=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},D0=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(m,x){var b=x.graphicalItems,S=x.stackGroups,w=x.offset,_=x.updateId,j=x.dataStartIndex,E=x.dataEndIndex,A=m.barSize,N=m.layout,P=m.barGap,k=m.barCategoryGap,R=m.maxBarSize,D=IS(N),L=D.numericAxisName,$=D.cateAxisName,M=Vne(b),I=[];return b.forEach(function(C,U){var K=bh(m.data,{graphicalItems:[C],dataStartIndex:j,dataEndIndex:E}),z=C.type.defaultProps!==void 0?B(B({},C.type.defaultProps),C.props):C.props,Y=z.dataKey,ae=z.maxBarSize,F=z["".concat(L,"Id")],ce=z["".concat($,"Id")],Fe={},ht=l.reduce(function(yi,xi){var _h=x["".concat(xi.axisType,"Map")],L0=z["".concat(xi.axisType,"Id")];_h&&_h[L0]||xi.axisType==="zAxis"||la();var B0=_h[L0];return B(B({},yi),{},re(re({},xi.axisType,B0),"".concat(xi.axisType,"Ticks"),pn(B0)))},Fe),G=ht[$],oe=ht["".concat($,"Ticks")],de=S&&S[F]&&S[F].hasStack&&bG(C,S[F].stackGroups),q=vn(C.type).indexOf("Bar")>=0,qe=Cd(G,oe),pe=[],Qe=M&&sG({barSize:A,stackGroups:S,totalSize:Kne(ht,$)});if(q){var Ze,Dt,In=se(ae)?R:ae,ya=(Ze=(Dt=Cd(G,oe,!0))!==null&&Dt!==void 0?Dt:In)!==null&&Ze!==void 0?Ze:0;pe=lG({barGap:P,barCategoryGap:k,bandSize:ya!==qe?ya:qe,sizeList:Qe[ce],maxBarSize:In}),ya!==qe&&(pe=pe.map(function(yi){return B(B({},yi),{},{position:B(B({},yi.position),{},{offset:yi.position.offset-ya/2})})}))}var _c=C&&C.type&&C.type.getComposedData;_c&&I.push({props:B(B({},_c(B(B({},ht),{},{displayedData:K,props:m,dataKey:Y,item:C,bandSize:qe,barPosition:pe,offset:w,stackedData:de,layout:N,dataStartIndex:j,dataEndIndex:E}))),{},re(re(re({key:C.key||"item-".concat(U)},L,ht[L]),$,ht[$]),"animationId",_)),childIndex:l4(C,m.children),item:C})}),I},p=function(m,x){var b=m.props,S=m.dataStartIndex,w=m.dataEndIndex,_=m.updateId;if(!Kb({props:b}))return null;var j=b.children,E=b.layout,A=b.stackOffset,N=b.data,P=b.reverseStackOrder,k=IS(E),R=k.numericAxisName,D=k.cateAxisName,L=sr(j,n),$=yG(N,L,"".concat(R,"Id"),"".concat(D,"Id"),A,P),M=l.reduce(function(z,Y){var ae="".concat(Y.axisType,"Map");return B(B({},z),{},re({},ae,qne(b,B(B({},Y),{},{graphicalItems:L,stackGroups:Y.axisType===R&&$,dataStartIndex:S,dataEndIndex:w}))))},{}),I=Hne(B(B({},M),{},{props:b,graphicalItems:L}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(z){M[z]=d(b,M[z],I,z.replace("Map",""),r)});var C=M["".concat(D,"Map")],U=Wne(C),K=h(b,B(B({},M),{},{dataStartIndex:S,dataEndIndex:w,updateId:_,graphicalItems:L,stackGroups:$,offset:I}));return B(B({formattedGraphicalItems:K,graphicalItems:L,offset:I,stackGroups:$},U),M)},y=function(v){function m(x){var b,S,w;return Ene(this,m),w=Nne(this,m,[x]),re(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),re(w,"accessibilityManager",new fne),re(w,"handleLegendBBoxUpdate",function(_){if(_){var j=w.state,E=j.dataStartIndex,A=j.dataEndIndex,N=j.updateId;w.setState(B({legendBBox:_},p({props:w.props,dataStartIndex:E,dataEndIndex:A,updateId:N},B(B({},w.state),{},{legendBBox:_}))))}}),re(w,"handleReceiveSyncEvent",function(_,j,E){if(w.props.syncId===_){if(E===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),re(w,"handleBrushChange",function(_){var j=_.startIndex,E=_.endIndex;if(j!==w.state.dataStartIndex||E!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return B({dataStartIndex:j,dataEndIndex:E},p({props:w.props,dataStartIndex:j,dataEndIndex:E,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),re(w,"handleMouseEnter",function(_){var j=w.getMouseInfo(_);if(j){var E=B(B({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseEnter;ie(A)&&A(E,_)}}),re(w,"triggeredAfterMouseMove",function(_){var j=w.getMouseInfo(_),E=j?B(B({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseMove;ie(A)&&A(E,_)}),re(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),re(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),re(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),re(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var E=w.props.onMouseLeave;ie(E)&&E(j,_)}),re(w,"handleOuterEvent",function(_){var j=s4(_),E=or(w.props,"".concat(j));if(j&&ie(E)){var A,N;/.*touch.*/i.test(j)?N=w.getMouseInfo(_.changedTouches[0]):N=w.getMouseInfo(_),E((A=N)!==null&&A!==void 0?A:{},_)}}),re(w,"handleClick",function(_){var j=w.getMouseInfo(_);if(j){var E=B(B({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var A=w.props.onClick;ie(A)&&A(E,_)}}),re(w,"handleMouseDown",function(_){var j=w.props.onMouseDown;if(ie(j)){var E=w.getMouseInfo(_);j(E,_)}}),re(w,"handleMouseUp",function(_){var j=w.props.onMouseUp;if(ie(j)){var E=w.getMouseInfo(_);j(E,_)}}),re(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),re(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),re(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),re(w,"handleDoubleClick",function(_){var j=w.props.onDoubleClick;if(ie(j)){var E=w.getMouseInfo(_);j(E,_)}}),re(w,"handleContextMenu",function(_){var j=w.props.onContextMenu;if(ie(j)){var E=w.getMouseInfo(_);j(E,_)}}),re(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&Ip.emit(Rp,w.props.syncId,_,w.eventEmitterSymbol)}),re(w,"applySyncEvent",function(_){var j=w.props,E=j.layout,A=j.syncMethod,N=w.state.updateId,P=_.dataStartIndex,k=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(B({dataStartIndex:P,dataEndIndex:k},p({props:w.props,dataStartIndex:P,dataEndIndex:k,updateId:N},w.state)));else if(_.activeTooltipIndex!==void 0){var R=_.chartX,D=_.chartY,L=_.activeTooltipIndex,$=w.state,M=$.offset,I=$.tooltipTicks;if(!M)return;if(typeof A=="function")L=A(I,_);else if(A==="value"){L=-1;for(var C=0;C<I.length;C++)if(I[C].value===_.activeLabel){L=C;break}}var U=B(B({},M),{},{x:M.left,y:M.top}),K=Math.min(R,U.x+U.width),z=Math.min(D,U.y+U.height),Y=I[L]&&I[L].value,ae=_v(w.state,w.props.data,L),F=I[L]?{x:E==="horizontal"?I[L].coordinate:K,y:E==="horizontal"?z:I[L].coordinate}:oT;w.setState(B(B({},_),{},{activeLabel:Y,activeCoordinate:F,activePayload:ae,activeTooltipIndex:L}))}else w.setState(_)}),re(w,"renderCursor",function(_){var j,E=w.state,A=E.isTooltipActive,N=E.activeCoordinate,P=E.activePayload,k=E.offset,R=E.activeTooltipIndex,D=E.tooltipAxisBandSize,L=w.getTooltipEventType(),$=(j=_.props.active)!==null&&j!==void 0?j:A,M=w.props.layout,I=_.key||"_recharts-cursor";return T.createElement(xne,{key:I,activeCoordinate:N,activePayload:P,activeTooltipIndex:R,chartName:r,element:_,isActive:$,layout:M,offset:k,tooltipAxisBandSize:D,tooltipEventType:L})}),re(w,"renderPolarAxis",function(_,j,E){var A=or(_,"type.axisType"),N=or(w.state,"".concat(A,"Map")),P=_.type.defaultProps,k=P!==void 0?B(B({},P),_.props):_.props,R=N&&N[k["".concat(A,"Id")]];return O.cloneElement(_,B(B({},R),{},{className:ue(A,R.className),key:_.key||"".concat(j,"-").concat(E),ticks:pn(R,!0)}))}),re(w,"renderPolarGrid",function(_){var j=_.props,E=j.radialLines,A=j.polarAngles,N=j.polarRadius,P=w.state,k=P.radiusAxisMap,R=P.angleAxisMap,D=qn(k),L=qn(R),$=L.cx,M=L.cy,I=L.innerRadius,C=L.outerRadius;return O.cloneElement(_,{polarAngles:Array.isArray(A)?A:pn(L,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(N)?N:pn(D,!0).map(function(U){return U.coordinate}),cx:$,cy:M,innerRadius:I,outerRadius:C,key:_.key||"polar-grid",radialLines:E})}),re(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,j=w.props,E=j.children,A=j.width,N=j.height,P=w.props.margin||{},k=A-(P.left||0)-(P.right||0),R=DN({children:E,formattedGraphicalItems:_,legendWidth:k,legendContent:c});if(!R)return null;var D=R.item,L=TS(R,bne);return O.cloneElement(D,B(B({},L),{},{chartWidth:A,chartHeight:N,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),re(w,"renderTooltip",function(){var _,j=w.props,E=j.children,A=j.accessibilityLayer,N=Jt(E,Qt);if(!N)return null;var P=w.state,k=P.isTooltipActive,R=P.activeCoordinate,D=P.activePayload,L=P.activeLabel,$=P.offset,M=(_=N.props.active)!==null&&_!==void 0?_:k;return O.cloneElement(N,{viewBox:B(B({},$),{},{x:$.left,y:$.top}),active:M,label:L,payload:M?D:[],coordinate:R,accessibilityLayer:A})}),re(w,"renderBrush",function(_){var j=w.props,E=j.margin,A=j.data,N=w.state,P=N.offset,k=N.dataStartIndex,R=N.dataEndIndex,D=N.updateId;return O.cloneElement(_,{key:_.key||"_recharts-brush",onChange:au(w.handleBrushChange,_.props.onChange),data:A,x:H(_.props.x)?_.props.x:P.left,y:H(_.props.y)?_.props.y:P.top+P.height+P.brushBottom-(E.bottom||0),width:H(_.props.width)?_.props.width:P.width,startIndex:k,endIndex:R,updateId:"brush-".concat(D)})}),re(w,"renderReferenceElement",function(_,j,E){if(!_)return null;var A=w,N=A.clipPathId,P=w.state,k=P.xAxisMap,R=P.yAxisMap,D=P.offset,L=_.type.defaultProps||{},$=_.props,M=$.xAxisId,I=M===void 0?L.xAxisId:M,C=$.yAxisId,U=C===void 0?L.yAxisId:C;return O.cloneElement(_,{key:_.key||"".concat(j,"-").concat(E),xAxis:k[I],yAxis:R[U],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:N})}),re(w,"renderActivePoints",function(_){var j=_.item,E=_.activePoint,A=_.basePoint,N=_.childIndex,P=_.isRange,k=[],R=j.props.key,D=j.item.type.defaultProps!==void 0?B(B({},j.item.type.defaultProps),j.item.props):j.item.props,L=D.activeDot,$=D.dataKey,M=B(B({index:N,dataKey:$,cx:E.x,cy:E.y,r:4,fill:E0(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},te(L,!1)),ad(L));return k.push(m.renderActiveDot(L,M,"".concat(R,"-activePoint-").concat(N))),A?k.push(m.renderActiveDot(L,B(B({},M),{},{cx:A.x,cy:A.y}),"".concat(R,"-basePoint-").concat(N))):P&&k.push(null),k}),re(w,"renderGraphicChild",function(_,j,E){var A=w.filterFormatItem(_,j,E);if(!A)return null;var N=w.getTooltipEventType(),P=w.state,k=P.isTooltipActive,R=P.tooltipAxis,D=P.activeTooltipIndex,L=P.activeLabel,$=w.props.children,M=Jt($,Qt),I=A.props,C=I.points,U=I.isRange,K=I.baseLine,z=A.item.type.defaultProps!==void 0?B(B({},A.item.type.defaultProps),A.item.props):A.item.props,Y=z.activeDot,ae=z.hide,F=z.activeBar,ce=z.activeShape,Fe=!!(!ae&&k&&M&&(Y||F||ce)),ht={};N!=="axis"&&M&&M.props.trigger==="click"?ht={onClick:au(w.handleItemMouseEnter,_.props.onClick)}:N!=="axis"&&(ht={onMouseLeave:au(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:au(w.handleItemMouseEnter,_.props.onMouseEnter)});var G=O.cloneElement(_,B(B({},A.props),ht));function oe(xi){return typeof R.dataKey=="function"?R.dataKey(xi.payload):null}if(Fe)if(D>=0){var de,q;if(R.dataKey&&!R.allowDuplicatedCategory){var qe=typeof R.dataKey=="function"?oe:"payload.".concat(R.dataKey.toString());de=id(C,qe,L),q=U&&K&&id(K,qe,L)}else de=C==null?void 0:C[D],q=U&&K&&K[D];if(ce||F){var pe=_.props.activeIndex!==void 0?_.props.activeIndex:D;return[O.cloneElement(_,B(B(B({},A.props),ht),{},{activeIndex:pe})),null,null]}if(!se(de))return[G].concat(Bo(w.renderActivePoints({item:A,activePoint:de,basePoint:q,childIndex:D,isRange:U})))}else{var Qe,Ze=(Qe=w.getItemByXY(w.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:G},Dt=Ze.graphicalItem,In=Dt.item,ya=In===void 0?_:In,_c=Dt.childIndex,yi=B(B(B({},A.props),ht),{},{activeIndex:_c});return[O.cloneElement(ya,yi),null,null]}return U?[G,null,null]:[G,null]}),re(w,"renderCustomized",function(_,j,E){return O.cloneElement(_,B(B({key:"recharts-customized-".concat(E)},w.props),w.state))}),re(w,"renderMap",{CartesianGrid:{handler:uu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:uu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:uu},YAxis:{handler:uu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Qo("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=MP(w.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return Cne(m,v),Pne(m,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,_=b.height,j=b.layout,E=Jt(S,Qt);if(E){var A=E.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,P=_v(this.state,w,A,N),k=this.state.tooltipTicks[A].coordinate,R=(this.state.offset.top+_)/2,D=j==="horizontal",L=D?{x:k,y:R}:{y:k,x:R},$=this.state.formattedGraphicalItems.find(function(I){var C=I.item;return C.type.name==="Scatter"});$&&(L=B(B({},L),$.props.points[A].tooltipPosition),P=$.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:N,activePayload:P,activeCoordinate:L};this.setState(M),this.renderCursor(E),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){Jm([Jt(b.children,Qt)],[Jt(this.props.children,Qt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Jt(this.props.children,Qt);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=I7(w),j={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},E=w.width/S.offsetWidth||1,A=this.inRange(j.chartX,j.chartY,E);if(!A)return null;var N=this.state,P=N.xAxisMap,k=N.yAxisMap,R=this.getTooltipEventType(),D=CS(this.state,this.props.data,this.props.layout,A);if(R!=="axis"&&P&&k){var L=qn(P).scale,$=qn(k).scale,M=L&&L.invert?L.invert(j.chartX):null,I=$&&$.invert?$.invert(j.chartY):null;return B(B({},j),{},{xValue:M,yValue:I},D)}return D?B(B({},j),D):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,j=b/w,E=S/w;if(_==="horizontal"||_==="vertical"){var A=this.state.offset,N=j>=A.left&&j<=A.left+A.width&&E>=A.top&&E<=A.top+A.height;return N?{x:j,y:E}:null}var P=this.state,k=P.angleAxisMap,R=P.radiusAxisMap;if(k&&R){var D=qn(k);return n1({x:j,y:E},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Jt(b,Qt),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=ad(this.props,this.handleOuterEvent);return B(B({},j),_)}},{key:"addListener",value:function(){Ip.on(Rp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ip.removeListener(Rp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var _=this.state.formattedGraphicalItems,j=0,E=_.length;j<E;j++){var A=_[j];if(A.item===b||A.props.key===b.key||S===vn(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,j=S.height,E=S.width;return T.createElement("defs",null,T.createElement("clipPath",{id:b},T.createElement("rect",{x:w,y:_,height:j,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=NS(w,2),j=_[0],E=_[1];return B(B({},S),{},re({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=NS(w,2),j=_[0],E=_[1];return B(B({},S),{},re({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var j=0,E=w.length;j<E;j++){var A=w[j],N=A.props,P=A.item,k=P.type.defaultProps!==void 0?B(B({},P.type.defaultProps),P.props):P.props,R=vn(P.type);if(R==="Bar"){var D=(N.data||[]).find(function(I){return vJ(b,I)});if(D)return{graphicalItem:A,payload:D}}else if(R==="RadialBar"){var L=(N.data||[]).find(function(I){return n1(b,I)});if(L)return{graphicalItem:A,payload:L}}else if(hh(A,_)||ph(A,_)||Yl(A,_)){var $=aZ({graphicalItem:A,activeTooltipItem:_,itemData:k.data}),M=k.activeIndex===void 0?$:k.activeIndex;return{graphicalItem:B(B({},A),{},{childIndex:M}),payload:Yl(A,_)?k.data[$]:A.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!Kb(this))return null;var S=this.props,w=S.children,_=S.className,j=S.width,E=S.height,A=S.style,N=S.compact,P=S.title,k=S.desc,R=TS(S,wne),D=te(R,!1);if(N)return T.createElement(dS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(Zm,Ga({},D,{width:j,height:E,title:P,desc:k}),this.renderClipPath(),Xb(w,this.renderMap)));if(this.props.accessibilityLayer){var L,$;D.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,D.role=($=this.props.role)!==null&&$!==void 0?$:"application",D.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},D.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return T.createElement(dS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",Ga({className:ue("recharts-wrapper",_),style:B({position:"relative",cursor:"default",width:j,height:E},A)},M,{ref:function(C){b.container=C}}),T.createElement(Zm,Ga({},D,{width:j,height:E,title:P,desc:k,style:Lne}),this.renderClipPath(),Xb(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);re(y,"displayName",r),re(y,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),re(y,"getDerivedStateFromProps",function(v,m){var x=v.dataKey,b=v.data,S=v.children,w=v.width,_=v.height,j=v.layout,E=v.stackOffset,A=v.margin,N=m.dataStartIndex,P=m.dataEndIndex;if(m.updateId===void 0){var k=$S(v);return B(B(B({},k),{},{updateId:0},p(B(B({props:v},k),{},{updateId:0}),m)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:_,prevLayout:j,prevStackOffset:E,prevMargin:A,prevChildren:S})}if(x!==m.prevDataKey||b!==m.prevData||w!==m.prevWidth||_!==m.prevHeight||j!==m.prevLayout||E!==m.prevStackOffset||!ro(A,m.prevMargin)){var R=$S(v),D={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},L=B(B({},CS(m,b,j)),{},{updateId:m.updateId+1}),$=B(B(B({},R),D),L);return B(B(B({},$),p(B({props:v},$),m)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:_,prevLayout:j,prevStackOffset:E,prevMargin:A,prevChildren:S})}if(!Jm(S,m.prevChildren)){var M,I,C,U,K=Jt(S,No),z=K&&(M=(I=K.props)===null||I===void 0?void 0:I.startIndex)!==null&&M!==void 0?M:N,Y=K&&(C=(U=K.props)===null||U===void 0?void 0:U.endIndex)!==null&&C!==void 0?C:P,ae=z!==N||Y!==P,F=!se(b),ce=F&&!ae?m.updateId:m.updateId+1;return B(B({updateId:ce},p(B(B({props:v},m),{},{updateId:ce,dataStartIndex:z,dataEndIndex:Y}),m)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:Y})}return null}),re(y,"renderActiveDot",function(v,m,x){var b;return O.isValidElement(v)?b=O.cloneElement(v,m):ie(v)?b=v(m):b=T.createElement(lh,m),T.createElement(ge,{className:"recharts-active-dot",key:x},b)});var g=O.forwardRef(function(m,x){return T.createElement(y,Ga({},m,{ref:x}))});return g.displayName=y.displayName,g},Gne=D0({chartName:"LineChart",GraphicalChild:Xi,axisComponents:[{axisType:"xAxis",AxisComp:Yi},{axisType:"yAxis",AxisComp:Ji}],formatAxisMap:E2}),RS=D0({chartName:"BarChart",GraphicalChild:bn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yi},{axisType:"yAxis",AxisComp:Ji}],formatAxisMap:E2}),Xne=D0({chartName:"PieChart",GraphicalChild:$n,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:fh},{axisType:"radiusAxis",AxisComp:uh}],formatAxisMap:TG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ut={async getAll(){try{const{data:e,error:t}=await V.from(X.PROSPECTS).select("*");if(t)throw t;return(e||[]).sort((n,i)=>new Date(i.created_at)-new Date(n.created_at))}catch(e){throw console.error("Erreur rcupration prospects:",e),e}},async getById(e){try{const{data:t,error:r}=await V.from(X.PROSPECTS).select("*").eq("id",e).single();if(r)throw r;return t}catch(t){throw console.error("Erreur rcupration prospect:",t),t}},async create(e){try{const t=["GROSSISTE PHARM","GROSSISTE PARA","PARA SUPER GROS","LABO PROD","AUTRE"],r=e.secteur&&t.includes(e.secteur)?e.secteur:"AUTRE",n={raison_sociale:e.raison_sociale||"",contact:e.contact||"",secteur:r,telephone:e.telephone||"",email:e.email||"",statut:"prospect"},{data:i,error:a}=await V.from(X.PROSPECTS).insert([n]).select();if(a)throw a;const o=i&&i.length>0?i[0]:n;if(e.commercial_assigned&&e.commercial_assigned.trim())try{await V.from(X.PROSPECTS).update({commercial_assigned:e.commercial_assigned}).eq("id",o.id)}catch(s){console.warn(" Commercial non assign:",s)}try{const s=JSON.stringify([{action:"creation",details:"Prospect cr",created_at:new Date().toISOString(),created_by:e.created_by||"system"}]);await V.from(X.PROSPECTS).update({historique_actions:s}).eq("id",o.id)}catch(s){console.warn(" Historique non disponible - Excutez la migration SQL:",s.message)}return o}catch(t){throw console.error("Erreur cration prospect:",t),t}},async update(e,t){try{const r=["GROSSISTE PHARM","GROSSISTE PARA","PARA SUPER GROS","LABO PROD","AUTRE"],n=t.secteur&&r.includes(t.secteur)?t.secteur:"AUTRE",i={raison_sociale:t.raison_sociale||"",contact:t.contact||"",secteur:n,telephone:t.telephone||"",email:t.email||""},{data:a,error:o}=await V.from(X.PROSPECTS).update(i).eq("id",e).select();if(o)throw o;if(t.commercial_assigned&&t.commercial_assigned.trim())try{await V.from(X.PROSPECTS).update({commercial_assigned:t.commercial_assigned}).eq("id",e)}catch(s){console.warn(" Commercial non assign:",s)}return await this.addHistorique(e,"modification","Prospect modifi"),a&&a.length>0?a[0]:i}catch(r){throw console.error("Erreur mise  jour prospect:",r),r}},async delete(e){try{const{error:t}=await V.from(X.PROSPECTS).delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Erreur suppression prospect:",t),t}},async convertToClient(e){try{await this.addHistorique(e,"conversion","Converti en client actif");const{data:t,error:r}=await V.from(X.PROSPECTS).update({statut:"actif"}).eq("id",e).select();if(r)throw r;return t&&t.length>0?t[0]:{id:e,statut:"actif"}}catch(t){throw console.error("Erreur conversion prospect:",t),t}},async addHistorique(e,t,r,n={}){try{const{data:i,error:a}=await V.from(X.PROSPECTS).select("historique_actions").eq("id",e).single();if(a){console.warn(" Colonne historique_actions manquante - Utilisation LocalStorage temporaire"),this._addHistoriqueLocalStorage(e,t,r,n);return}let o=[];try{o=i.historique_actions?JSON.parse(i.historique_actions):[]}catch{o=[]}o.push({action:t,details:r,created_at:new Date().toISOString(),...n});const{error:s}=await V.from(X.PROSPECTS).update({historique_actions:JSON.stringify(o)}).eq("id",e);s&&(console.warn(" Impossible de mettre  jour l'historique:",s),this._addHistoriqueLocalStorage(e,t,r,n))}catch(i){console.warn(" Erreur lors de l'ajout  l'historique:",i),this._addHistoriqueLocalStorage(e,t,r,n)}},_addHistoriqueLocalStorage(e,t,r,n={}){try{const i=`prospect_history_${e}`,a=localStorage.getItem(i);let o=a?JSON.parse(a):[];o.push({action:t,details:r,created_at:new Date().toISOString(),...n}),localStorage.setItem(i,JSON.stringify(o)),console.log(" Historique enregistr dans LocalStorage (temporaire)")}catch(i){console.error(" Impossible d'enregistrer dans LocalStorage:",i)}},async getHistorique(e){try{const{data:t,error:r}=await V.from(X.PROSPECTS).select("historique_actions").eq("id",e).single();if(r)return console.warn(" Colonne historique_actions manquante - Utilisation LocalStorage temporaire"),this._getHistoriqueLocalStorage(e);try{return(t.historique_actions?JSON.parse(t.historique_actions):[]).sort((i,a)=>new Date(a.created_at)-new Date(i.created_at))}catch(n){return console.warn(" Erreur parsing historique:",n),this._getHistoriqueLocalStorage(e)}}catch(t){return console.warn(" Erreur rcupration historique:",t),this._getHistoriqueLocalStorage(e)}},_getHistoriqueLocalStorage(e){try{const t=`prospect_history_${e}`,r=localStorage.getItem(t);return r?JSON.parse(r).sort((i,a)=>new Date(a.created_at)-new Date(i.created_at)):[]}catch(t){return console.error(" Impossible de lire LocalStorage:",t),[]}},async getStats(){try{const{data:e,error:t}=await V.from(X.PROSPECTS).select("statut");if(t)throw t;return{total:e.length,prospects:e.filter(n=>n.statut==="prospect").length,actifs:e.filter(n=>n.statut==="actif").length,inactifs:e.filter(n=>n.statut==="inactif").length}}catch(e){throw console.error("Erreur statistiques prospects:",e),e}}},xr={async getAll(){try{const{data:e,error:t}=await V.from(X.PAIEMENTS).select(`
          *,
          client:prospects!client_id(raison_sociale, contact),
          installation:installations(application_installee, montant)
        `).order("date_paiement",{ascending:!1});if(t)throw t;return e.map(n=>{var s;const i=((s=n.installation)==null?void 0:s.montant)||0,a=n.montant||0,o=Math.max(0,i-a);return{...n,resteAPayer:o}})}catch(e){throw console.error("Erreur rcupration paiements:",e),e}},async getByClient(e){try{const{data:t,error:r}=await V.from(X.PAIEMENTS).select(`
          id,
          installation_id,
          client_id,
          montant,
          mode_paiement,
          type,
          date_paiement,
          installation:installations(montant)
        `).eq("client_id",e).order("date_paiement",{ascending:!1});if(r)throw r;return t.map(i=>{var l;const a=((l=i.installation)==null?void 0:l.montant)||0,o=i.montant||0,s=Math.max(0,a-o);return{...i,resteAPayer:s}})}catch(t){throw console.error("Erreur rcupration paiements client:",t),t}},async getResteTotalClient(e){try{const{data:t,error:r}=await V.from(X.INSTALLATIONS).select("id, montant").eq("client_id",e);if(r)throw r;const n=t.reduce((l,c)=>l+(c.montant||0),0),{data:i,error:a}=await V.from(X.PAIEMENTS).select("montant").eq("client_id",e);if(a)throw a;const o=i.reduce((l,c)=>l+(c.montant||0),0),s=Math.max(0,n-o);return{totalInstallations:n,totalPaye:o,resteAPayer:s}}catch(t){throw console.error("Erreur calcul reste total:",t),t}},async create(e){try{const t={client_id:e.client_id,installation_id:e.installation_id,type:e.type,montant:e.montant,mode_paiement:e.mode_paiement,date_paiement:e.date_paiement||new Date().toISOString()},{data:r,error:n}=await V.from(X.PAIEMENTS).insert([t]).select("*");if(n)throw n;return(r==null?void 0:r[0])||null}catch(t){throw console.error("Erreur cration paiement:",t),t}},async update(e,t){try{const{data:r,error:n}=await V.from(X.PAIEMENTS).update(t).eq("id",e).select(`
          *,
          client:prospects!client_id(raison_sociale, contact),
          installation:installations(application_installee, montant)
        `).single();if(n)throw n;return r}catch(r){throw console.error("Erreur mise  jour paiement:",r),r}},async delete(e){try{const{error:t}=await V.from(X.PAIEMENTS).delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Erreur suppression paiement:",t),t}},async getStats(e=null,t=null){try{let r=V.from(X.PAIEMENTS).select("montant, type, mode_paiement, date_paiement");e&&t&&(r=r.gte("date_paiement",e).lte("date_paiement",t));const{data:n,error:i}=await r;if(i)throw i;return{total:n.length,revenuTotal:n.reduce((o,s)=>o+(s.montant||0),0),acquisitions:n.filter(o=>o.type==="acquisition").length,abonnements:n.filter(o=>o.type==="abonnement").length,parMode:{especes:n.filter(o=>o.mode_paiement==="especes").length,virement:n.filter(o=>o.mode_paiement==="virement").length,cheque:n.filter(o=>o.mode_paiement==="cheque").length,autre:n.filter(o=>o.mode_paiement==="autre").length}}}catch(r){throw console.error("Erreur statistiques paiements:",r),r}},async getRevenusMensuels(e=new Date().getFullYear()){try{const{data:t,error:r}=await V.from(X.PAIEMENTS).select("montant, date_paiement").gte("date_paiement",`${e}-01-01`).lte("date_paiement",`${e}-12-31`);if(r)throw r;const n=Array(12).fill(0);return t.forEach(i=>{const a=new Date(i.date_paiement).getMonth();n[a]+=i.montant||0}),n.map((i,a)=>({mois:["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"][a],montant:i}))}catch(t){throw console.error("Erreur revenus mensuels:",t),t}}},Kr={async getAll(){try{const{data:e,error:t}=await V.from(X.INSTALLATIONS).select("*").order("date_installation",{ascending:!1});if(t)throw t;return await Promise.all(e.map(async n=>{let i={};if(n.client_id){const{data:a}=await V.from(X.PROSPECTS).select("raison_sociale, contact, telephone, email").eq("id",n.client_id).single();i=a||{}}return{...n,client:i,type:n.type||"acquisition"}}))}catch(e){throw console.error("Erreur rcupration installations:",e),e}},async getByClient(e){try{const{data:t,error:r}=await V.from(X.INSTALLATIONS).select("*").eq("client_id",e).order("date_installation",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Erreur rcupration installations client:",t),t}},async hasPaiements(e){try{const{data:t,error:r,count:n}=await V.from(X.PAIEMENTS).select("id",{count:"exact",head:!0}).eq("installation_id",e);if(r)throw r;return n>0}catch(t){return console.error("Erreur vrification paiements:",t),!1}},async create(e){try{const{data:t,error:r}=await V.from(X.INSTALLATIONS).insert([{client_id:e.client_id,application_installee:e.application_installee,montant:parseFloat(e.montant)||0,date_installation:e.date_installation,type:e.type||"acquisition",statut:e.statut||"en cours"}]).select();if(r)throw r;const n=t[0];return await Pt.createFromInstallation(n.id),await Ut.convertToClient(e.client_id),await Ut.addHistorique(e.client_id,"installation",`Installation cre: ${e.application_installee}`),n}catch(t){throw console.error("Erreur cration installation:",t),t}},async update(e,t){try{const r={};if(t.application_installee!==void 0&&(r.application_installee=t.application_installee),t.montant!==void 0&&(r.montant=parseFloat(t.montant)),t.type!==void 0&&(r.type=t.type||"acquisition"),t.statut!==void 0&&(r.statut=t.statut),t.date_installation!==void 0&&(r.date_installation=t.date_installation),!r.application_installee)throw new Error("application_installee est requis");if(!r.montant||isNaN(r.montant))throw new Error("montant est requis et doit tre un nombre");if(!r.statut)throw new Error("statut est requis");if(!r.date_installation)throw new Error("date_installation est requis");console.log("Donnes de mise  jour installation:",r);const{data:n,error:i}=await V.from(X.INSTALLATIONS).update(r).eq("id",e).select();if(i)throw console.error("Erreur dtaille Supabase:",i),i;const a=n&&n.length>0?n[0]:null;if(!a)throw new Error("Installation non trouve aprs mise  jour");try{console.log("Recherche abonnements pour installation:",e);const{data:o,error:s}=await V.from(X.ABONNEMENTS).select("*").eq("installation_id",e);if(s)return console.error("Erreur recherche abonnements:",s),a;if(console.log("Abonnements trouvs:",o),o&&o.length>0){for(const l of o){const c=new Date;c.setHours(0,0,0,0);const d=new Date(l.date_fin);d.setHours(0,0,0,0);const f=new Date(c);f.setDate(f.getDate()+30);let h="actif";d<c?h="expire":d<=f&&(h="en_alerte");const p={statut:h};if(t.date_installation){const y=new Date(t.date_installation),g=y.toISOString().split("T")[0],v=new Date(y);v.setFullYear(v.getFullYear()+1);const m=v.toISOString().split("T")[0];p.date_debut=g,p.date_fin=m}await V.from(X.ABONNEMENTS).update(p).eq("id",l.id)}console.log("Abonnements mis  jour")}else console.log("Aucun abonnement trouv pour cette installation")}catch(o){console.error("Erreur dans mise  jour abonnement:",o)}return a}catch(r){throw console.error("Erreur mise  jour installation:",r),r}},async delete(e){try{if(await this.hasPaiements(e)){const a=new Error("Impossible de supprimer cette installation car elle a des paiements enregistrs. Supprimez d'abord les paiements avant de supprimer l'installation.");throw a.code="INSTALLATION_HAS_PAIEMENTS",a}const{data:r,error:n}=await V.from(X.ABONNEMENTS).select("id").eq("installation_id",e);if(n)throw n;if(r&&r.length>0)for(const a of r)await Pt.delete(a.id);const{error:i}=await V.from(X.INSTALLATIONS).delete().eq("id",e);if(i)throw i;return!0}catch(t){throw console.error("Erreur suppression installation:",t),t}},async getStats(){try{const{data:e,error:t}=await V.from(X.INSTALLATIONS).select("statut, montant, date_installation");if(t)throw t;return{total:e.length,enCours:e.filter(n=>n.statut==="en cours").length,terminees:e.filter(n=>n.statut==="terminee").length,revenuTotal:e.reduce((n,i)=>n+(i.montant||0),0)}}catch(e){throw console.error("Erreur statistiques installations:",e),e}}},Yne=async(e,t)=>{var r,n,i,a,o;try{const s="AIzaSyDWWtPvq5M42WWRXM5aldUwFNF3BTB5VUQ",l="gemini";console.log(" Dmarrage analyse IA..."),console.log("Provider:",l),console.log("API Key prsente:",s?"Oui ":"Non ");const c={totalClients:e.totalClients,prospects:e.prospects,revenus:e.revenus,resteAPayer:e.resteAPayer,totalInstallations:e.totalInstallations,tauxConversion:e.tauxConversion,tauxRecouvrement:(e.revenus/(e.totalInstallations||1)*100).toFixed(1),top5Dettes:t.slice(0,5).map(h=>({client:h.client,montant:h.montant}))},d=`Tu es un analyste financier expert pour A2S Gestion, socit de logiciels pharmaceutiques en Algrie.

Analyse ces donnes et fournis EXACTEMENT 4 insights en franais (max 50 mots chacun).

DONNES FINANCIRES:
- Clients actifs: ${c.totalClients}
- Prospects en cours: ${c.prospects}
- Revenus encaisss: ${c.revenus.toLocaleString("fr-FR")} DA
- Reste  payer: ${c.resteAPayer.toLocaleString("fr-FR")} DA
- Total installations: ${c.totalInstallations.toLocaleString("fr-FR")} DA
- Taux de conversion: ${c.tauxConversion}%
- Taux de recouvrement: ${c.tauxRecouvrement}%
- Top 5 clients dbiteurs: ${JSON.stringify(c.top5Dettes)}

INSTRUCTIONS:
Fournis 4 insights avec ces catgories exactes:
1. POSITIVE - Tendance encourageante
2. WARNING - Point d'attention urgent
3. INFO - Mtrique cl  surveiller
4. ACTION - Recommandation actionnable

FORMAT JSON STRICT:
[
  {"type": "positive", "title": "Titre court", "message": "Insight concis avec chiffres cls"},
  {"type": "warning", "title": "Titre court", "message": "Insight concis avec chiffres cls"},
  {"type": "info", "title": "Titre court", "message": "Insight concis avec chiffres cls"},
  {"type": "action", "title": "Titre court", "message": "Insight concis avec chiffres cls"}
]

RPONDS UNIQUEMENT EN JSON, RIEN D'AUTRE.`;let f=null;if(l==="gemini"){const h=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${s}`;console.log(" Appel API Gemini (v1beta/gemini-2.0-flash)...");const p=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:d}]}],generationConfig:{temperature:.7,maxOutputTokens:800,topP:.95,topK:40}})});if(console.log("Statut rponse Gemini:",p.status),!p.ok){const v=await p.text();throw console.error(" Erreur API Gemini:",v),new Error("Erreur API Gemini")}const y=await p.json();console.log(" Rponse Gemini reue");const g=(o=(a=(i=(n=(r=y.candidates)==null?void 0:r[0])==null?void 0:n.content)==null?void 0:i.parts)==null?void 0:a[0])==null?void 0:o.text;if(g){console.log(" Contenu brut:",g.substring(0,200)+"...");try{const v=g.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();f=JSON.parse(v),console.log(" JSON pars avec succs:",f.length,"insights")}catch(v){return console.warn(" Impossible de parser la rponse Gemini:",v.message),console.log("Contenu complet:",g),null}}else console.warn(" Aucun contenu dans la rponse Gemini")}return f&&Array.isArray(f)&&f.length===4?(console.log(" Analyse IA gnre avec succs - 4 insights valids"),f):(console.warn(" Format d'insights invalide:",f),null)}catch(s){return console.error(" Erreur gnration analyse IA:",s.message),console.error("Dtails:",s),null}},Jne=()=>{const{profile:e}=Nn(),[t,r]=O.useState({totalClients:0,prospects:0,revenus:0,abonnementsActifs:0,resteAPayer:0,tauxConversion:0,totalInstallations:0}),[n,i]=O.useState(!0),[a,o]=O.useState([]),[s,l]=O.useState(null),[c,d]=O.useState(!1);O.useEffect(()=>{f()},[]);const f=async()=>{try{i(!0);const g=await Ut.getAll(),v=g.filter(P=>P.statut==="actif").length,m=g.filter(P=>P.statut==="prospect").length,x=await Kr.getAll(),b=x.reduce((P,k)=>P+(k.montant||0),0),S=await xr.getAll(),w=S.reduce((P,k)=>P+(k.montant||0),0),_=Math.max(0,b-w),j={};x.forEach(P=>{var k;j[P.client_id]||(j[P.client_id]={client_id:P.client_id,raison_sociale:((k=P.prospects)==null?void 0:k.raison_sociale)||"Client",total_installations:0,total_paye:0}),j[P.client_id].total_installations+=P.montant||0}),S.forEach(P=>{j[P.client_id]&&(j[P.client_id].total_paye+=P.montant||0)});const E=Object.values(j).map(P=>({client:P.raison_sociale,montant:Math.max(0,P.total_installations-P.total_paye)})).filter(P=>P.montant>0).sort((P,k)=>k.montant-P.montant).slice(0,5);o(E);const A=g.length>0?(v/g.length*100).toFixed(1):0;r({totalClients:v,prospects:m,revenus:w,abonnementsActifs:v,resteAPayer:_,tauxConversion:parseFloat(A),totalInstallations:b}),d(!0);const N=await Yne({totalClients:v,prospects:m,revenus:w,abonnementsActifs:v,resteAPayer:_,tauxConversion:parseFloat(A),totalInstallations:b},E);l(N),d(!1)}catch(g){console.error("Erreur chargement dashboard:",g)}finally{i(!1)}},h=[{mois:"Jan",total:18e4,abonnements:12e4,acquisitions:6e4},{mois:"Fv",total:22e4,abonnements:14e4,acquisitions:8e4},{mois:"Mar",total:28e4,abonnements:18e4,acquisitions:1e5},{mois:"Avr",total:32e4,abonnements:2e5,acquisitions:12e4},{mois:"Mai",total:35e4,abonnements:22e4,acquisitions:13e4},{mois:"Juin",total:42e4,abonnements:28e4,acquisitions:14e4}],p=[{name:"Abonnements",value:168e4,color:"#2563eb"},{name:"Acquisitions",value:77e4,color:"#10b981"}],y=g=>new Intl.NumberFormat("fr-DZ",{style:"currency",currency:"DZD",minimumFractionDigits:0}).format(g);return n?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Clients"}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:t.totalClients}),u.jsx("p",{className:"text-sm text-green-600",children:"+2.5% ce mois"})]}),u.jsx("div",{className:"w-14 h-14 bg-blue-500 rounded-xl flex items-center justify-center",children:u.jsx(nd,{className:"text-white",size:28})})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Prospects"}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:t.prospects}),u.jsx("p",{className:"text-sm text-gray-500",children:"En conversion"})]}),u.jsx("div",{className:"w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center",children:u.jsx(Ns,{className:"text-white",size:28})})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Revenus Totaux"}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:y(t.revenus)}),u.jsx("p",{className:"text-sm text-gray-500",children:"Total paiements reus"})]}),u.jsx("div",{className:"w-14 h-14 bg-purple-500 rounded-xl flex items-center justify-center",children:u.jsx(Ts,{className:"text-white",size:28})})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Reste  Payer"}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:y(t.resteAPayer)}),u.jsxs("p",{className:"text-sm text-orange-600",children:["Sur ",y(t.totalInstallations)," total"]})]}),u.jsx("div",{className:"w-14 h-14 bg-orange-500 rounded-xl flex items-center justify-center",children:u.jsx(Km,{className:"text-white",size:28})})]})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-purple-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(fM,{size:28,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Analyse IA - A2S Gestion"}),u.jsx("p",{className:"text-sm text-gray-600",children:c?"Gnration en cours...":"Insights et recommandations intelligentes"})]})]}),c&&u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}),!c&&s&&u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:s.map((g,v)=>{const m={positive:"from-green-50 to-emerald-50 border-green-200",warning:"from-orange-50 to-amber-50 border-orange-200",info:"from-blue-50 to-indigo-50 border-blue-200",action:"from-purple-50 to-violet-50 border-purple-200"},x={positive:"bg-green-500",warning:"bg-orange-500",info:"bg-blue-500",action:"bg-purple-500"},b={positive:"text-green-800",warning:"text-orange-800",info:"text-blue-800",action:"text-purple-800"},S=g.type==="positive"?Ts:g.type==="warning"?$t:g.type==="info"?Ns:It;return u.jsxs("div",{className:`bg-gradient-to-br ${m[g.type]} border-2 rounded-xl p-5 hover:shadow-md transition-all`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:`w-10 h-10 ${x[g.type]} rounded-lg flex items-center justify-center`,children:u.jsx(S,{size:20,className:"text-white"})}),u.jsx("h4",{className:`font-bold ${b[g.type]} text-lg`,children:g.title})]}),u.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:g.message})]},v)})}),!c&&!s&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-5 hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:u.jsx(Ts,{size:20,className:"text-white"})}),u.jsx("h4",{className:"font-bold text-green-800 text-lg",children:"Revenus Totaux"})]}),u.jsxs("p",{className:"text-sm text-green-900 leading-relaxed",children:["Revenus totaux de ",u.jsx("strong",{className:"text-green-700",children:y(t.revenus)})," gnrs.",t.totalClients," clients actifs contribuent au chiffre d'affaires."]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-2 border-orange-200 rounded-xl p-5 hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:u.jsx($t,{size:20,className:"text-white"})}),u.jsx("h4",{className:"font-bold text-orange-800 text-lg",children:"Reste  Payer"})]}),u.jsxs("p",{className:"text-sm text-orange-900 leading-relaxed",children:[u.jsx("strong",{className:"text-orange-700",children:y(t.resteAPayer)})," de reste  payer. Taux de recouvrement: ",u.jsxs("strong",{className:"text-orange-700",children:[(t.revenus/t.totalInstallations*100).toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-5 hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:u.jsx(Ns,{size:20,className:"text-white"})}),u.jsx("h4",{className:"font-bold text-blue-800 text-lg",children:"Conversion Prospects"})]}),u.jsxs("p",{className:"text-sm text-blue-900 leading-relaxed",children:["Taux de conversion de ",u.jsxs("strong",{className:"text-blue-700",children:[t.tauxConversion,"%"]}),".",t.prospects," prospects en cours de conversion."]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 border-2 border-purple-200 rounded-xl p-5 hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:u.jsx(Km,{size:20,className:"text-white"})}),u.jsx("h4",{className:"font-bold text-purple-800 text-lg",children:"Top 5 Dettes"})]}),u.jsx("p",{className:"text-sm text-purple-900 leading-relaxed",children:a.length>0?u.jsxs(u.Fragment,{children:["Les 5 principaux clients doivent ",u.jsx("strong",{className:"text-purple-700",children:y(a.reduce((g,v)=>g+v.montant,0))})," au total."]}):"Aucune dette client enregistre."})]})]}),!c&&!s&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-xs text-yellow-800",children:[" ",u.jsx("strong",{children:"Astuce:"})," Configurez VITE_AI_API_KEY dans votre fichier .env pour activer l'analyse IA automatique avec GPT."]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"volution des Revenus"}),u.jsx(eu,{width:"100%",height:350,children:u.jsxs(Gne,{data:h,children:[u.jsx(Eu,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),u.jsx(Yi,{dataKey:"mois",stroke:"#6b7280"}),u.jsx(Ji,{stroke:"#6b7280"}),u.jsx(Qt,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:g=>y(g)}),u.jsx(ni,{}),u.jsx(Xi,{type:"monotone",dataKey:"total",stroke:"#8b5cf6",strokeWidth:3,name:"Total"}),u.jsx(Xi,{type:"monotone",dataKey:"abonnements",stroke:"#2563eb",strokeWidth:2,name:"Abonnements"}),u.jsx(Xi,{type:"monotone",dataKey:"acquisitions",stroke:"#10b981",strokeWidth:2,name:"Acquisitions"})]})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Rpartition Revenus"}),u.jsx(eu,{width:"100%",height:350,children:u.jsxs(Xne,{children:[u.jsx($n,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:p.map((g,v)=>u.jsx(Yf,{fill:g.color},`cell-${v}`))}),u.jsx(Qt,{formatter:g=>y(g)})]})}),u.jsx("div",{className:"mt-4 space-y-2",children:p.map((g,v)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:g.color}}),u.jsx("span",{className:"text-sm text-gray-600",children:g.name})]}),u.jsx("span",{className:"text-sm font-semibold text-gray-800",children:y(g.value)})]},v))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Revenus Abonnements vs Acquisitions"}),u.jsx(eu,{width:"100%",height:300,children:u.jsxs(RS,{data:h,children:[u.jsx(Eu,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),u.jsx(Yi,{dataKey:"mois",stroke:"#6b7280"}),u.jsx(Ji,{stroke:"#6b7280"}),u.jsx(Qt,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:g=>y(g)}),u.jsx(ni,{}),u.jsx(bn,{dataKey:"abonnements",fill:"#2563eb",name:"Abonnements",radius:[8,8,0,0]}),u.jsx(bn,{dataKey:"acquisitions",fill:"#10b981",name:"Acquisitions",radius:[8,8,0,0]})]})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Top 5 - Reste  Payer"}),u.jsx(eu,{width:"100%",height:300,children:u.jsxs(RS,{data:a,layout:"vertical",children:[u.jsx(Eu,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),u.jsx(Yi,{type:"number",stroke:"#6b7280"}),u.jsx(Ji,{dataKey:"client",type:"category",stroke:"#6b7280"}),u.jsx(Qt,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:g=>y(g)}),u.jsx(bn,{dataKey:"montant",fill:"#f59e0b",radius:[0,8,8,0]})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:u.jsx(Ns,{className:"text-blue-600",size:24})}),u.jsx("h3",{className:"font-bold text-gray-800",children:"Ajouter Prospect"})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Crer un nouveau prospect"}),u.jsx("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Nouveau Prospect"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:u.jsx(Ts,{className:"text-green-600",size:24})}),u.jsx("h3",{className:"font-bold text-gray-800",children:"Statistiques"})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Voir tous les rapports"}),u.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Statistiques"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:u.jsx(It,{className:"text-purple-600",size:24})}),u.jsx("h3",{className:"font-bold text-gray-800",children:"Paiements"})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Grer les paiements"}),u.jsx("button",{className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Paiements"})]})]})]})},ir=({isOpen:e,onClose:t,title:r,children:n,size:i="md"})=>{if(O.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const a={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),u.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:u.jsxs("div",{className:`relative bg-white rounded-xl shadow-2xl w-full ${a[i]} transform transition-all`,onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:r}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(Ef,{size:24})})]}),u.jsx("div",{className:"p-6",children:n})]})})]})},Ue=({children:e,variant:t="primary",size:r="md",icon:n,onClick:i,disabled:a=!1,type:o="button",className:s=""})=>{const l="inline-flex items-center justify-center gap-2 font-semibold rounded-lg transition-colors duration-200",c={primary:"bg-primary hover:bg-primary-dark text-white",secondary:"bg-secondary hover:bg-secondary-dark text-white",success:"bg-success hover:bg-green-600 text-white",danger:"bg-danger hover:bg-red-600 text-white",warning:"bg-warning hover:bg-orange-600 text-white",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",ghost:"text-gray-600 hover:bg-gray-100"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},f=a?"opacity-50 cursor-not-allowed":"";return u.jsxs("button",{type:o,onClick:i,disabled:a,className:`${l} ${c[t]} ${d[r]} ${f} ${s}`,children:[n&&u.jsx(n,{size:r==="sm"?16:r==="lg"?24:20}),e]})},vi=({value:e,onChange:t,placeholder:r="Rechercher..."})=>u.jsxs("div",{className:"relative",children:[u.jsx(vA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:r,className:"input-field pl-10"})]}),Pe=({label:e,type:t="text",value:r,onChange:n,placeholder:i,error:a,required:o=!1,disabled:s=!1,icon:l,...c})=>u.jsxs("div",{className:"w-full",children:[e&&u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,o&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("div",{className:"relative",children:[l&&u.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:u.jsx(l,{size:20})}),u.jsx("input",{type:t,value:r,onChange:n,placeholder:i,disabled:s,className:`
            input-field
            ${l?"pl-10":""}
            ${a?"border-red-500 focus:ring-red-500":""}
            ${s?"bg-gray-100 cursor-not-allowed":""}
          `,...c})]}),a&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a})]}),Qne=({prospect:e,onSubmit:t,onCancel:r})=>{const{user:n}=Nn(),[i,a]=O.useState({raison_sociale:"",contact:"",secteur:"",telephone:"",email:"",commercial_assigned:""}),[o,s]=O.useState({}),[l,c]=O.useState(!1);O.useEffect(()=>{a(e?{raison_sociale:e.raison_sociale||"",contact:e.contact||"",secteur:e.secteur||"",telephone:e.telephone||"",email:e.email||"",commercial_assigned:e.commercial_assigned||(n==null?void 0:n.nom)||(n==null?void 0:n.email)||""}:{raison_sociale:"",contact:"",secteur:"",telephone:"",email:"",commercial_assigned:(n==null?void 0:n.nom)||(n==null?void 0:n.email)||""}),s({})},[e,n]);const d=(h,p)=>{a(y=>({...y,[h]:p})),o[h]&&s(y=>({...y,[h]:""}))},f=async h=>{var y,g,v,m,x;h.preventDefault();const p={};if((y=i.raison_sociale)!=null&&y.trim()||(p.raison_sociale="Raison sociale requise"),(g=i.contact)!=null&&g.trim()||(p.contact="Contact requis"),(v=i.secteur)!=null&&v.trim()||(p.secteur="Secteur requis"),(m=i.telephone)!=null&&m.trim()||(p.telephone="Tlphone requis"),(x=i.email)!=null&&x.trim()||(p.email="Email requis"),Object.keys(p).length>0){s(p);return}if(!l)try{c(!0),await t(i)}finally{c(!1)}};return u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsx(Pe,{label:"Raison Sociale",type:"text",value:i.raison_sociale,onChange:h=>d("raison_sociale",h.target.value),placeholder:"Nom de l'entreprise",error:o.raison_sociale,required:!0,disabled:l}),u.jsx(Pe,{label:"Contact",type:"text",value:i.contact,onChange:h=>d("contact",h.target.value),placeholder:"Nom du contact",error:o.contact,required:!0,disabled:l}),u.jsx(Pe,{label:"Tlphone",type:"tel",value:i.telephone,onChange:h=>d("telephone",h.target.value),placeholder:"+213 XXX XXX XXX",error:o.telephone,required:!0,disabled:l}),u.jsx(Pe,{label:"Email",type:"email",value:i.email,onChange:h=>d("email",h.target.value),placeholder:"email@example.com",error:o.email,required:!0,disabled:l}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Secteur ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:i.secteur,onChange:h=>d("secteur",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",disabled:l,required:!0,children:[u.jsx("option",{value:"",children:"Slectionner un secteur"}),u.jsx("option",{value:"GROSSISTE PHARM",children:"GROSSISTE PHARM"}),u.jsx("option",{value:"GROSSISTE PARA",children:"GROSSISTE PARA"}),u.jsx("option",{value:"PARA SUPER GROS",children:"PARA SUPER GROS"}),u.jsx("option",{value:"LABO PROD",children:"LABO PROD"}),u.jsx("option",{value:"AUTRE",children:"AUTRE"})]}),o.secteur&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.secteur})]}),u.jsx(Pe,{label:"Commercial Assign",type:"text",value:i.commercial_assigned,disabled:!0,placeholder:"Assign automatiquement"}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{type:"button",variant:"ghost",onClick:r,disabled:l,children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"primary",disabled:l,children:l?"Cration en cours...":e?"Modifier":"Crer"})]})]})},Zne=({prospect:e,onEdit:t,onDelete:r,onConvertToClient:n,onViewHistory:i,onAddAction:a})=>{if(!e)return null;const o=s=>{const l={prospection:"bg-blue-100 text-blue-800 border-blue-200",referral:"bg-green-100 text-green-800 border-green-200",site_web:"bg-purple-100 text-purple-800 border-purple-200",partenaire:"bg-yellow-100 text-yellow-800 border-yellow-200",autre:"bg-gray-100 text-gray-800 border-gray-200"};return l[s]||l.autre};return u.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200 border-l-4 border-primary",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:`${Af(e.statut)} text-xs font-semibold px-2 py-1 rounded`,children:gn(e.statut)}),e.source&&u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${o(e.source)}`,children:e.source})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.raison_sociale}),u.jsx("p",{className:"text-sm text-gray-600",children:e.secteur_activite||"N/A"})]}),u.jsxs("div",{className:"flex gap-2",children:[e.statut==="prospect"&&u.jsx("button",{onClick:()=>n&&n(e),className:"px-3 py-2 text-xs font-semibold text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",title:"Convertir en client",children:"Convertir"}),u.jsx("button",{onClick:()=>a&&a(e),disabled:e.statut==="actif",className:`p-2 rounded-lg transition-colors ${e.statut==="actif"?"text-gray-400 cursor-not-allowed bg-gray-100":"text-green-600 hover:bg-green-50"}`,title:e.statut==="actif"?"Actions non disponibles pour les clients":"Ajouter une action",children:u.jsx(na,{size:18})}),u.jsx("button",{onClick:()=>i&&i(e),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Voir l'historique",children:u.jsx(mA,{size:18})}),u.jsx("button",{onClick:()=>t(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:u.jsx(di,{size:18})}),u.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:u.jsx(fi,{size:18})})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-700 text-sm",children:[u.jsx(wl,{size:16,className:"text-primary flex-shrink-0"}),u.jsx("span",{className:"font-medium",children:e.contact})]}),e.telephone&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(po,{size:16,className:"text-primary flex-shrink-0"}),u.jsx("a",{href:`tel:${e.telephone}`,className:"hover:text-blue-600",children:e.telephone})]}),e.email&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(fc,{size:16,className:"text-primary flex-shrink-0"}),u.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-blue-600",children:e.email})]}),e.adresse&&u.jsxs("div",{className:"flex items-start gap-2 text-gray-600 text-sm",children:[u.jsx(uM,{size:16,className:"text-primary flex-shrink-0 mt-0.5"}),u.jsx("span",{children:e.adresse})]})]}),e.notes&&u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-gray-700 font-medium mb-1",children:"Notes:"}),u.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.notes})]})]})},lT=({prospectId:e})=>{const[t,r]=O.useState([]),[n,i]=O.useState(null),[a,o]=O.useState(!0);O.useEffect(()=>{e&&s()},[e]);const s=async()=>{try{console.log(" Chargement historique pour prospect/client:",e);const c=await Ut.getHistorique(e);console.log(" Historique rcupr:",c);const d=await Kr.getByClient(e);console.log(" Installations:",d);let f=null;d&&d.length>0&&(f=d.reduce((p,y)=>new Date(y.date_installation)<new Date(p.date_installation)?y:p)),i(f);let h=c;f&&console.log(" Premire installation trouve:",f.date_installation),console.log(" Historique affich:",h),r(h)}catch(c){console.error(" Erreur chargement historique:",c),r([])}finally{o(!1)}},l=c=>({appel:po,email:fc,rdv:It,demo:ju,offre_envoyee:ju,suivi:po,visite:It,creation:Of,modification:di,conversion:ap,installation:ap})[c]||ju;return a?u.jsx("div",{className:"text-center py-8",children:"Chargement..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[t.length===0&&!n&&u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun historique disponible"}),t.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:" Phase PROSPECT - Actions de Suivi"}),t.map((c,d)=>{const f=l(c.action);return u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white",children:u.jsx(f,{size:20})}),d<t.length-1||n?u.jsx("div",{className:"w-0.5 h-12 bg-gray-200 mt-2"}):null]}),u.jsx("div",{className:"flex-1 pb-4",children:u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("h4",{className:"font-semibold text-gray-800",children:c.action.replace("_"," ").toUpperCase()}),u.jsx("span",{className:"text-sm text-gray-500",children:xA(c.created_at)})]}),u.jsx("p",{className:"text-gray-600 text-sm",children:c.details})]})})]},c.id)})]}),n&&u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex flex-col items-center",children:u.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white",children:u.jsx(ap,{size:20})})}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:" CONVERSION - PREMIRE INSTALLATION"}),u.jsx("span",{className:"text-sm text-gray-600 font-bold",children:Ht(n.date_installation)})]}),u.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Application:"})," ",n.application_installee]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Montant:"})," ",u.jsxs("span",{className:"font-bold text-green-600",children:[(n.montant||0).toLocaleString("fr-FR")," DA"]})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Statut:"})," ",u.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs font-bold",children:"PROSPECT  ACTIF"})]})]})]})})]}),t.length===0&&n&&u.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200 text-sm text-gray-700",children:" Aucune action de suivi enregistre avant la conversion en client actif."})]}),(t.length>0||n)&&u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:" Rsum Phase Prospect"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Actions de Suivi"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Dure Phase Prospect"}),n?u.jsx("p",{className:"text-2xl font-bold text-green-600",children:(()=>{const c=t.length>0?new Date(t[t.length-1].created_at):new Date(n.date_installation),d=new Date(n.date_installation),f=Math.floor((d-c)/(1e3*60*60*24));return f>0?`${f}j`:"< 1j"})()}):u.jsx("p",{className:"text-lg font-bold text-gray-600",children:"En cours"})]}),n&&u.jsx(u.Fragment,{children:u.jsxs("div",{className:"col-span-2 pt-2 border-t border-gray-300",children:[u.jsx("p",{className:"text-gray-600 mb-1",children:" Date de Conversion"}),u.jsx("p",{className:"text-lg font-bold text-green-600",children:Ht(n.date_installation)})]})})]})]})]})},jt=({label:e,value:t,onChange:r,options:n=[],error:i,required:a=!1,disabled:o=!1,placeholder:s="Slectionner...",...l})=>u.jsxs("div",{className:"w-full",children:[e&&u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,a&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("select",{value:t,onChange:r,disabled:o,className:`
          input-field
          ${i?"border-red-500 focus:ring-red-500":""}
          ${o?"bg-gray-100 cursor-not-allowed":""}
        `,...l,children:[u.jsx("option",{value:"",children:s}),n.map(c=>u.jsx("option",{value:c.value,children:c.label},c.value))]}),i&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]}),eie=({prospect:e,onSubmit:t,onCancel:r})=>{const[n,i]=O.useState({type_action:"appel",date_action:new Date().toISOString().split("T")[0],description:"",details:""}),[a,o]=O.useState({}),[s,l]=O.useState(!1),c=[{value:"appel",label:"Appel Tlphonique"},{value:"email",label:"Email"},{value:"rdv",label:"Rendez-vous"},{value:"demo",label:"Dmonstration"},{value:"offre_envoyee",label:"Offre Envoye"},{value:"suivi",label:"Suivi"},{value:"visite",label:"Visite"}],d=(h,p)=>{i(y=>({...y,[h]:p})),a[h]&&o(y=>({...y,[h]:""}))},f=async h=>{h.preventDefault();const p={};if(n.type_action||(p.type_action="Type d'action requis"),n.date_action||(p.date_action="Date requise"),n.description.trim()||(p.description="Description requise"),Object.keys(p).length>0){o(p);return}try{l(!0),await t(n)}finally{l(!1)}};return u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[u.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Prospect : ",u.jsx("span",{className:"font-bold",children:e.raison_sociale})]}),u.jsx("p",{className:"text-sm text-blue-700",children:e.contact})]}),u.jsx(jt,{label:"Type d'Action",value:n.type_action,onChange:h=>d("type_action",h.target.value),options:c,error:a.type_action,required:!0,disabled:s}),u.jsx(Pe,{label:"Date de l'Action",type:"date",value:n.date_action,onChange:h=>d("date_action",h.target.value),error:a.date_action,required:!0,disabled:s}),u.jsx(Pe,{label:"Rsum de l'Action",type:"textarea",rows:"3",value:n.description,onChange:h=>d("description",h.target.value),placeholder:"Dcrivez brivement l'action effectue...",error:a.description,required:!0,disabled:s}),u.jsx(Pe,{label:"Dtails (Optionnel)",type:"textarea",rows:"4",value:n.details,onChange:h=>d("details",h.target.value),placeholder:"Ajoutez des dtails supplmentaires si ncessaire...",disabled:s}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{variant:"ghost",onClick:r,disabled:s,children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"primary",disabled:s,children:s?"Enregistrement...":"Enregistrer l'Action"})]})]})},tie=()=>{const[e,t]=O.useState([]),[r,n]=O.useState([]),[i,a]=O.useState(!0),[o,s]=O.useState(""),[l,c]=O.useState("all"),[d,f]=O.useState(!1),[h,p]=O.useState(!1),[y,g]=O.useState(!1),[v,m]=O.useState(!1),[x,b]=O.useState(null),[S,w]=O.useState("create"),[_,j]=O.useState("global"),[E,A]=O.useState(0),[N,P]=O.useState(!1),{addNotification:k}=jr();O.useEffect(()=>{R()},[]),O.useEffect(()=>{D()},[e,o,l]);const R=async()=>{try{a(!0);const F=await Ut.getAll();t(F)}catch{k({type:"error",message:"Erreur lors du chargement des prospects"})}finally{a(!1)}},D=()=>{let F=[...e];l!=="all"&&(F=F.filter(ce=>ce.statut===l)),o&&(F=F.filter(ce=>{var Fe,ht,G,oe;return((Fe=ce.raison_sociale)==null?void 0:Fe.toLowerCase().includes(o.toLowerCase()))||((ht=ce.contact)==null?void 0:ht.toLowerCase().includes(o.toLowerCase()))||((G=ce.telephone)==null?void 0:G.includes(o))||((oe=ce.email)==null?void 0:oe.toLowerCase().includes(o.toLowerCase()))})),n(F)},L=()=>{b(null),w("create"),f(!0)},$=F=>{b(F),w("edit"),f(!0)},M=async F=>{if(window.confirm("tes-vous sr de vouloir supprimer ce prospect ?"))try{await Ut.delete(F),k({type:"success",message:"Prospect supprim avec succs"}),R()}catch{k({type:"error",message:"Erreur lors de la suppression"})}},I=F=>{b(F),p(!0)},C=F=>{b(F),g(!0)},U=async F=>{if(window.confirm(`tes-vous sr de vouloir convertir "${F.raison_sociale}" en client actif ?`))try{await Ut.convertToClient(F.id),k({type:"success",message:`"${F.raison_sociale}" converti en client actif  Historique conserv`}),R()}catch(ce){console.error("Erreur conversion:",ce),k({type:"error",message:"Erreur lors de la conversion en client"})}},K=async F=>{try{S==="create"?(await Ut.create(F),k({type:"success",message:"Prospect cr avec succs"})):(await Ut.update(x.id,F),k({type:"success",message:"Prospect modifi avec succs"})),f(!1),R()}catch{k({type:"error",message:"Erreur lors de l'enregistrement"})}},z=async F=>{try{await Ut.addHistorique(x.id,F.type_action,F.description,{date_action:F.date_action,details_supplementaires:F.details}),k({type:"success",message:"Action enregistre avec succs"}),g(!1),R()}catch{k({type:"error",message:"Erreur lors de l'enregistrement de l'action"})}},Y=async()=>{try{if(P(!0),r.length===0){k({type:"warning",message:"Aucun prospect  analyser"});return}m(!0),k({type:"success",message:"Analyse complte!"})}catch(F){k({type:"error",message:`Erreur: ${F.message}`})}finally{P(!1)}},ae={total:e.length,prospects:e.filter(F=>F.statut==="prospect").length,actifs:e.filter(F=>F.statut==="actif").length,inactifs:e.filter(F=>F.statut==="inactif").length,tauxConversion:e.length>0?(e.filter(F=>F.statut==="actif").length/e.length*100).toFixed(0):0};return i?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Prospects"}),u.jsx("h3",{className:"text-3xl font-bold",children:ae.total})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Convertis"}),u.jsx("h3",{className:"text-3xl font-bold",children:ae.actifs})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"En attente"}),u.jsx("h3",{className:"text-3xl font-bold",children:ae.prospects})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Taux Conversion"}),u.jsxs("h3",{className:"text-3xl font-bold",children:[ae.tauxConversion,"%"]})]}),u.jsx("div",{className:"card",children:u.jsx(Ue,{variant:"primary",icon:na,onClick:L,className:"w-full h-full",children:"Nouveau Prospect"})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[u.jsx("div",{className:"flex-1",children:u.jsx(vi,{value:o,onChange:s,placeholder:"Rechercher par nom, contact, tlphone..."})}),u.jsxs("button",{onClick:Y,disabled:N||r.length===0,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:from-gray-400 disabled:to-gray-400 text-white rounded-lg font-medium transition-all flex items-center gap-2",children:[u.jsx(yA,{size:18}),N?"Analyse...":"ANALYSE GLOBALE"]})]}),u.jsxs("div",{className:"flex gap-2 flex-wrap mt-4",children:[u.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Tous"}),u.jsx("button",{onClick:()=>c("prospect"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="prospect"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Prospects"}),u.jsx("button",{onClick:()=>c("actif"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="actif"?"bg-success text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Actifs"}),u.jsx("button",{onClick:()=>c("inactif"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="inactif"?"bg-danger text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Inactifs"})]})]}),r.length===0?u.jsx("div",{className:"card text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Aucun prospect trouv"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(F=>u.jsx(Zne,{prospect:F,onEdit:$,onDelete:M,onConvertToClient:U,onViewHistory:I,onAddAction:C},F.id))}),u.jsx(ir,{isOpen:d,onClose:()=>f(!1),title:S==="create"?"Nouveau Prospect":"Modifier Prospect",children:u.jsx(Qne,{prospect:x,onSubmit:K,onCancel:()=>f(!1)})}),u.jsx(ir,{isOpen:h,onClose:()=>p(!1),title:"Historique des Actions",size:"lg",children:u.jsx(lT,{prospectId:x==null?void 0:x.id})}),u.jsx(ir,{isOpen:y,onClose:()=>g(!1),title:"Enregistrer une Action de Suivi",children:x&&u.jsx(eie,{prospect:x,onSubmit:z,onCancel:()=>g(!1)})}),u.jsx(ir,{isOpen:v,onClose:()=>m(!1),title:" Analyse IA - Prospects",size:"lg",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[u.jsx("button",{onClick:()=>{j("global"),A(0)},className:`px-4 py-2 font-medium transition-colors ${_==="global"?"text-primary border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,children:" Analyse Globale"}),u.jsxs("button",{onClick:()=>j("prospects"),className:`px-4 py-2 font-medium transition-colors ${_==="prospects"?"text-primary border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,children:[" Par Prospect (",r.length,")"]})]}),_==="global"&&u.jsxs("div",{className:"space-y-6 max-h-96 overflow-y-auto p-2",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[u.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:"Total"}),u.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.length})]}),u.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[u.jsx("p",{className:"text-sm text-green-600 font-semibold",children:"Conversion"}),u.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[(r.filter(F=>F.statut==="actif").length/r.length*100).toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Rpartition par Statut"}),u.jsx("div",{className:"space-y-2",children:[{label:"Actifs",count:r.filter(F=>F.statut==="actif").length,color:"bg-green-500"},{label:"Prospects",count:r.filter(F=>F.statut==="prospect").length,color:"bg-blue-500"},{label:"Inactifs",count:r.filter(F=>F.statut==="inactif").length,color:"bg-red-500"}].map(F=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-1",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:F.label}),u.jsx("span",{className:"text-sm font-bold text-gray-900",children:F.count})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`${F.color} h-2 rounded-full`,style:{width:`${F.count/r.length*100}%`}})})]},F.label))})]}),u.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Top Secteurs"}),u.jsx("div",{className:"space-y-2",children:(()=>{const F={};return r.forEach(ce=>{const Fe=ce.secteur||"Non spcifi";F[Fe]=(F[Fe]||0)+1}),Object.entries(F).sort((ce,Fe)=>Fe[1]-ce[1]).slice(0,5).map(([ce,Fe])=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-700",children:ce}),u.jsx("span",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full font-bold",children:Fe})]},ce))})()})]}),u.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:" Actions Recommandes"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"text-amber-600 font-bold",children:""}),u.jsxs("span",{children:["Relancer les ",r.filter(F=>F.statut==="prospect").length," prospects en attente"]})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"text-amber-600 font-bold",children:""}),u.jsx("span",{children:"Planifier des appels dans les 48h"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"text-amber-600 font-bold",children:""}),u.jsx("span",{children:"Mettre en place un suivi structur"})]})]})]})]}),_==="prospects"&&u.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto p-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>A(Math.max(0,E-1)),disabled:E===0,className:"px-3 py-1 bg-gray-200 text-gray-700 rounded disabled:opacity-50",children:" Prcdent"}),u.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[E+1," / ",r.length]}),u.jsx("button",{onClick:()=>A(Math.min(r.length-1,E+1)),disabled:E===r.length-1,className:"px-3 py-1 bg-gray-200 text-gray-700 rounded disabled:opacity-50",children:"Suivant "})]}),(()=>{const F=r[E],ce=F.statut==="actif"?100:F.statut==="prospect"?50:25;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-6",children:[u.jsx("p",{className:"text-sm opacity-90",children:"Score de Conversion"}),u.jsxs("h2",{className:"text-4xl font-bold",children:[ce,"/100"]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:" Rsum"}),u.jsxs("p",{className:"text-sm text-gray-700",children:[u.jsx("strong",{children:F.raison_sociale})," - ",F.contact," | Actions: 1 | Installations: 0"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[u.jsx("p",{className:"text-xs text-blue-600 font-semibold",children:" Contact"}),u.jsx("p",{className:"text-sm font-bold text-blue-900",children:F.telephone})]}),u.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-200",children:[u.jsx("p",{className:"text-xs text-purple-600 font-semibold",children:" Secteur"}),u.jsx("p",{className:"text-sm font-bold text-purple-900",children:F.secteur||"N/A"})]})]}),u.jsxs("div",{className:"bg-pink-50 rounded-lg p-4 border border-pink-200",children:[u.jsx("p",{className:"text-xs text-pink-600 font-semibold mb-1",children:" Statut"}),u.jsxs("p",{className:"text-sm font-bold",children:["Prospect:",u.jsx("span",{className:`ml-2 px-2 py-1 rounded font-bold text-white ${F.statut==="actif"?"bg-green-500":F.statut==="prospect"?"bg-blue-500":"bg-red-500"}`,children:F.statut.toUpperCase()})]})]}),u.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[u.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:" Recommandations IA"}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[F.statut==="prospect"&&u.jsxs(u.Fragment,{children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Relancer dans les 48h"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Prvoir un appel commercial"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Envoyer une proposition"})]})]}),F.statut==="actif"&&u.jsxs(u.Fragment,{children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Maintenir le contact rgulirement"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Proposer des services additionnels"})]})]}),F.statut==="inactif"&&u.jsxs(u.Fragment,{children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Relancer pour ractiver"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Comprendre les raisons d'inactivit"})]})]})]})]})]})})()]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:()=>m(!1),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors font-medium",children:"Fermer"})})]})})]})},Wn={async getAll(){try{const{data:e,error:t}=await V.from(X.INTERVENTIONS).select(`
          *,
          client:prospects!client_id(raison_sociale, contact, telephone),
          technicien:users!technicien_id(id, nom, email)
        `).order("date_intervention",{ascending:!1});if(t)throw t;return e}catch(e){throw console.error("Erreur rcupration interventions:",e),e}},async getByClient(e){try{const{data:t,error:r}=await V.from(X.INTERVENTIONS).select(`
          *,
          technicien:users!technicien_id(id, nom, email)
        `).eq("client_id",e).order("date_intervention",{ascending:!1});if(r)throw r;return t}catch(t){throw console.error("Erreur rcupration interventions client:",t),t}},async getByTechnicien(e){try{const{data:t,error:r}=await V.from(X.INTERVENTIONS).select(`
          *,
          client:prospects!client_id(raison_sociale, contact, telephone),
          technicien:users!technicien_id(id, nom, email)
        `).eq("technicien_id",e).order("date_intervention",{ascending:!1});if(r)throw r;return t}catch(t){throw console.error("Erreur rcupration interventions technicien:",t),t}},async create(e){try{const{data:t,error:r}=await V.from(X.INTERVENTIONS).insert([{...e,statut:e.statut||"en_cours",date_intervention:e.date_intervention||new Date().toISOString()}]).select(`
          *,
          client:prospects!client_id(raison_sociale, contact, telephone),
          technicien:users!technicien_id(id, nom, email)
        `).single();if(r)throw r;return t}catch(t){throw console.error("Erreur cration intervention:",t),t}},async update(e,t){try{const{data:r,error:n}=await V.from(X.INTERVENTIONS).update(t).eq("id",e).select(`
          *,
          client:prospects!client_id(raison_sociale, contact, telephone),
          technicien:users!technicien_id(id, nom, email)
        `).single();if(n)throw n;return r}catch(r){throw console.error("Erreur mise  jour intervention:",r),r}},async cloturer(e,t,r){try{const n=new Date,{data:i,error:a}=await V.from(X.INTERVENTIONS).update({statut:"cloturee",action_entreprise:t,commentaires:r,date_fin:n.toISOString()}).eq("id",e).select(`
          *,
          client:prospects!client_id(raison_sociale, contact, telephone),
          technicien:users!technicien_id(id, nom, email)
        `).single();if(a)throw a;return i}catch(n){throw console.error("Erreur clture intervention:",n),n}},async delete(e){try{const{error:t}=await V.from(X.INTERVENTIONS).delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Erreur suppression intervention:",t),t}},async getStats(){try{const{data:e,error:t}=await V.from(X.INTERVENTIONS).select("statut, priorite, type_intervention, duree");if(t)throw t;return{total:e.length,enCours:e.filter(n=>n.statut==="en_cours").length,cloturees:e.filter(n=>n.statut==="cloturee").length,hautesPriorites:e.filter(n=>n.priorite==="haute").length,dureeMoyenne:e.reduce((n,i)=>n+(i.duree||0),0)/e.length||0}}catch(e){throw console.error("Erreur statistiques interventions:",e),e}}},rie=({clientId:e,installationId:t})=>{const[r,n]=O.useState([]),[i,a]=O.useState(!0),[o,s]=O.useState("all"),[l,c]=O.useState("all");O.useEffect(()=>{d()},[e,t]);const d=async()=>{try{a(!0);let p;e?p=await xr.getByClient(e):p=await xr.getAll(),t&&(p=p.filter(y=>y.installation_id===t)),n(p)}catch(p){console.error("Erreur chargement paiements:",p)}finally{a(!1)}},f=r.filter(p=>!(o!=="all"&&p.type!==o||l!=="all"&&p.mode_paiement!==l)),h=f.reduce((p,y)=>p+(y.montant||0),0);return i?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):r.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(dn,{className:"mx-auto text-gray-400 mb-2",size:48}),u.jsx("p",{className:"text-gray-500",children:"Aucun paiement enregistr"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(aM,{size:18,className:"text-gray-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Type:"}),u.jsxs("select",{value:o,onChange:p=>s(p.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"all",children:"Tous"}),u.jsx("option",{value:"acquisition",children:"Acquisition"}),u.jsx("option",{value:"abonnement",children:"Abonnement"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mode:"}),u.jsxs("select",{value:l,onChange:p=>c(p.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"all",children:"Tous"}),u.jsx("option",{value:"especes",children:"Espces"}),u.jsx("option",{value:"virement",children:"Virement"}),u.jsx("option",{value:"cheque",children:"Chque"}),u.jsx("option",{value:"autre",children:"Autre"})]})]})]}),u.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Total des Paiements"}),u.jsx("p",{className:"text-2xl font-bold text-green-800",children:De(h)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Nombre"}),u.jsx("p",{className:"text-2xl font-bold text-green-800",children:f.length})]})]})}),u.jsx("div",{className:"space-y-3",children:f.map((p,y)=>u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[y<f.length-1&&u.jsx("div",{className:"absolute left-6 top-16 w-0.5 h-8 bg-gray-200"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${p.type==="acquisition"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:u.jsx(dn,{size:24})})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h4",{className:"font-semibold text-gray-800",children:p.type==="acquisition"?"Acquisition":"Abonnement"}),u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${p.type==="acquisition"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:gn(p.mode_paiement)})]}),p.client&&u.jsx("p",{className:"text-sm text-gray-600",children:p.client.raison_sociale}),p.installation&&u.jsx("p",{className:"text-xs text-gray-500",children:p.installation.application_installee})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xl font-bold text-green-600",children:De(p.montant)}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[u.jsx(It,{size:12}),u.jsx("span",{children:Ht(p.date_paiement)})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mt-2 pt-2 border-t border-gray-100",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"font-medium",children:"Mode:"}),gn(p.mode_paiement)]}),p.installation_id&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"font-medium",children:"Installation:"}),"Lie"]})]})]})]})]},p.id))}),u.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-gray-700 font-medium",children:[u.jsx(Py,{size:18}),"Exporter l'historique (PDF)"]})]})},nie=({client:e})=>{const[t,r]=O.useState([]),[n,i]=O.useState([]),[a,o]=O.useState([]),[s,l]=O.useState(null),[c,d]=O.useState(!0),[f,h]=O.useState(!1),[p,y]=O.useState(!1);O.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{d(!0);const m=await Kr.getByClient(e.id),x=await xr.getByClient(e.id);r(m||[]),i(x||[]);const b=(m||[]).reduce((_,j)=>_+(j.montant||0),0),S=(x||[]).reduce((_,j)=>_+(j.montant||0),0),w=Math.max(0,b-S);l({totalInstallations:b,totalPaye:S,resteAPayer:w});try{const _=await Wn.getByClient(e.id);o(_||[])}catch(_){console.warn("Interventions non disponibles:",_),o([])}}catch(m){console.error("Erreur chargement donnes client:",m),r([]),i([]),o([]),l({totalInstallations:0,totalPaye:0,resteAPayer:0})}finally{d(!1)}};if(c)return u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]});const v=n.reduce((m,x)=>m+(x.montant||0),0);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark text-white rounded-lg p-6",children:[u.jsx("h3",{className:"text-2xl font-bold mb-2",children:e.raison_sociale}),u.jsxs("div",{className:"space-y-1 text-blue-100",children:[u.jsxs("p",{children:["Contact: ",e.contact]}),u.jsxs("p",{children:["Tlphone: ",e.telephone]}),e.email&&u.jsxs("p",{children:["Email: ",e.email]}),e.secteur&&u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx("span",{children:"Secteur:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${e.secteur==="GROSSISTE PHARM"?"bg-blue-500 text-white":e.secteur==="GROSSISTE PARA"?"bg-green-500 text-white":e.secteur==="PARA SUPER GROS"?"bg-purple-500 text-white":e.secteur==="LABO PROD"?"bg-orange-500 text-white":"bg-gray-500 text-white"}`,children:e.secteur})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"card text-center hover:shadow-lg transition-shadow",children:[u.jsx(Hi,{className:"mx-auto mb-2 text-primary",size:32}),u.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:t.length}),u.jsx("p",{className:"text-sm text-gray-600",children:"Installations"})]}),u.jsxs("div",{className:"card text-center hover:shadow-lg transition-shadow bg-gradient-to-br from-green-50 to-green-100",children:[u.jsx(dn,{className:"mx-auto mb-2 text-green-600",size:32}),u.jsx("h4",{className:"text-2xl font-bold text-green-700",children:De(v)}),u.jsx("p",{className:"text-sm text-green-600",children:"Total Pay"})]}),u.jsxs("div",{className:"card text-center hover:shadow-lg transition-shadow bg-gradient-to-br from-red-50 to-red-100",children:[u.jsx(dn,{className:"mx-auto mb-2 text-red-600",size:32}),u.jsx("h4",{className:"text-2xl font-bold text-red-700",children:De((s==null?void 0:s.resteAPayer)||0)}),u.jsx("p",{className:"text-sm text-red-600",children:"Reste  Payer"})]})]}),u.jsxs("div",{className:"card border-l-4 border-blue-500 bg-blue-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(mA,{size:20,className:"text-blue-600"})," Historique Phase Prospect (Conserv)"]}),u.jsx("button",{onClick:()=>y(!p),className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:p?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"Masquer"}),u.jsx(Cb,{size:16})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"Voir l'historique"}),u.jsx(kb,{size:16})]})})]}),p?u.jsx("div",{className:"bg-white rounded-lg p-4",children:u.jsx(lT,{prospectId:e.id})}):u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsxs("p",{className:"mb-2",children:[" Cet historique contient toutes les actions effectues pendant la phase ",u.jsx("strong",{children:"prospect"}),"(avant la conversion en client actif)."]}),u.jsx("p",{className:"text-xs text-gray-600",children:"Il est conserv pour traabilit et analyse du parcours commercial."})]})]}),s&&u.jsxs("div",{className:"card border-l-4 border-primary",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Rsum Financier"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total des Installations"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:De(s.totalInstallations)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Montant Pay"}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:De(s.totalPaye)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Reste  Payer"}),u.jsx("p",{className:`text-2xl font-bold ${s.resteAPayer>0?"text-red-600":"text-green-600"}`,children:De(s.resteAPayer)})]})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx(Hi,{size:20,className:"text-primary"}),"Installations"]}),t.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Hi,{className:"mx-auto text-gray-300 mb-2",size:48}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune installation"})]}):u.jsx("div",{className:"space-y-3",children:t.map(m=>{const x=n.filter(S=>S.installation_id===m.id).reduce((S,w)=>S+(w.montant||0),0),b=Math.max(0,m.montant-x);return u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-800",children:m.application_installee}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Install le ",Ht(m.date_installation)]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-bold text-primary",children:De(m.montant)}),u.jsx("span",{className:m.statut==="terminee"?"badge-success":"badge-warning",children:m.statut==="terminee"?"Termine":"En cours"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-gray-200 text-xs",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Pay"}),u.jsx("p",{className:"font-bold text-green-600",children:De(x)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Reste"}),u.jsx("p",{className:`font-bold ${b>0?"text-red-600":"text-green-600"}`,children:De(b)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Pourcentage"}),u.jsxs("p",{className:"font-bold text-blue-600",children:[(x/m.montant*100).toFixed(0),"%"]})]})]})]},m.id)})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(dn,{size:20,className:"text-green-500"}),"Historique Paiements"]}),n.length>0&&u.jsx("button",{onClick:()=>h(!f),className:"flex items-center gap-2 text-sm text-primary hover:text-primary-dark font-medium transition-colors",children:f?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"Voir rsum"}),u.jsx(Cb,{size:16})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"Voir dtails"}),u.jsx(kb,{size:16})]})})]}),n.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(dn,{className:"mx-auto text-gray-300 mb-2",size:48}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Aucun paiement"})]}):f?u.jsx(rie,{clientId:e.id}):u.jsxs("div",{className:"space-y-2",children:[n.slice(0,5).map(m=>u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-gray-800 capitalize",children:m.type}),u.jsx("p",{className:"text-sm text-gray-600",children:Ht(m.date_paiement)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-bold text-green-600",children:De(m.montant)}),u.jsx("p",{className:"text-xs text-gray-500 capitalize",children:m.mode_paiement}),m.resteAPayer&&m.resteAPayer>0&&u.jsxs("p",{className:"text-xs text-red-600 font-semibold",children:["Reste: ",De(m.resteAPayer)]})]})]},m.id)),n.length>5&&u.jsxs("button",{onClick:()=>h(!0),className:"w-full py-2 text-sm text-primary hover:text-primary-dark font-medium",children:["Voir les ",n.length-5," autres paiements"]})]})]}),a.length>0&&u.jsxs("div",{className:"card",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx(Gm,{size:20,className:"text-purple-500"}),"Interventions Rcentes"]}),u.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(m=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"font-semibold text-gray-800 capitalize",children:m.type_intervention}),u.jsx("span",{className:m.statut==="cloturee"?"badge-success":"badge-warning",children:m.statut==="cloturee"?"Clture":"En cours"})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:m.resume_probleme}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[u.jsx("span",{children:Ht(m.date_intervention)}),u.jsxs("span",{children:[m.duree," min"]}),m.technicien&&u.jsxs("span",{children:["Tech: ",m.technicien.nom]})]})]},m.id)),a.length>5&&u.jsxs("p",{className:"text-center text-sm text-gray-500 pt-2",children:["+",a.length-5," autres interventions"]})]})]})]})},iie=()=>{const[e,t]=O.useState([]),[r,n]=O.useState([]),[i,a]=O.useState(!0),[o,s]=O.useState(""),[l,c]=O.useState(!1),[d,f]=O.useState(null),{addNotification:h}=jr();O.useEffect(()=>{p()},[]),O.useEffect(()=>{y()},[e,o]);const p=async()=>{try{a(!0);const m=(await Ut.getAll()).filter(x=>x.statut==="actif");t(m)}catch{h({type:"error",message:"Erreur lors du chargement des clients"})}finally{a(!1)}},y=()=>{let v=[...e];o&&(v=v.filter(m=>{var x,b,S,w;return((x=m.raison_sociale)==null?void 0:x.toLowerCase().includes(o.toLowerCase()))||((b=m.contact)==null?void 0:b.toLowerCase().includes(o.toLowerCase()))||((S=m.telephone)==null?void 0:S.includes(o))||((w=m.email)==null?void 0:w.toLowerCase().includes(o.toLowerCase()))})),n(v)},g=v=>{f(v),c(!0)};return i?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Clients"}),u.jsx("h3",{className:"text-4xl font-bold",children:e.length})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Actifs ce mois"}),u.jsx("h3",{className:"text-4xl font-bold",children:e.length})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Nouveaux"}),u.jsx("h3",{className:"text-4xl font-bold",children:"+5"})]})]}),u.jsx("div",{className:"card",children:u.jsx(vi,{value:o,onChange:s,placeholder:"Rechercher un client..."})}),r.length===0?u.jsx("div",{className:"card text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Aucun client trouv"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>u.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:v.raison_sociale}),u.jsx("span",{className:"badge-success text-xs",children:"Client Actif"})]}),u.jsx("button",{onClick:()=>g(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:u.jsx(iM,{size:18})})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(wl,{size:16}),u.jsx("span",{children:v.contact})]}),v.secteur&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(Hi,{size:16}),u.jsx("span",{children:v.secteur})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(po,{size:16}),u.jsx("span",{children:v.telephone})]}),v.email&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(fc,{size:16}),u.jsx("span",{className:"truncate",children:v.email})]})]}),u.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-200",children:[u.jsx("button",{onClick:()=>g(v),className:"flex-1 btn-primary text-sm py-2",children:"Voir Dtails"}),u.jsx("a",{href:`tel:${v.telephone}`,className:"flex items-center justify-center p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:u.jsx(po,{size:18})})]})]},v.id))}),u.jsx(ir,{isOpen:l,onClose:()=>c(!1),title:"Dtails du Client",size:"lg",children:u.jsx(nie,{client:d})})]})},Cs={getAll:async()=>{try{const{data:e,error:t}=await V.from("applications").select("*").order("nom",{ascending:!0});if(t)throw t;return e||[]}catch(e){throw console.error("Erreur rcupration applications:",e),e}},getById:async e=>{try{const{data:t,error:r}=await V.from("applications").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){throw console.error("Erreur rcupration application:",t),t}},create:async e=>{try{const{data:t,error:r}=await V.from("applications").insert([e]).select().single();if(r)throw r;return t}catch(t){throw console.error("Erreur cration application:",t),t}},update:async(e,t)=>{try{const{data:r,error:n}=await V.from("applications").update(t).eq("id",e).select().single();if(n)throw n;return r}catch(r){throw console.error("Erreur mise  jour application:",r),r}},delete:async e=>{try{const{error:t}=await V.from("applications").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Erreur suppression application:",t),t}},getStats:async()=>{try{const{data:e,error:t}=await V.from("applications").select("*");if(t)throw t;return{total:e.length,actives:e.filter(r=>r.statut==="actif").length,inactives:e.filter(r=>r.statut==="inactif").length}}catch(e){throw console.error("Erreur rcupration stats applications:",e),e}}},aie=({installation:e,onSubmit:t,onCancel:r})=>{const[n,i]=O.useState({client_id:"",application_installee:"",montant:"",date_installation:"",type:"acquisition",statut:"en_cours"}),[a,o]=O.useState({}),[s,l]=O.useState([]),[c,d]=O.useState([]),[f,h]=O.useState(!1);O.useEffect(()=>{var x;p(),y(),e&&i({client_id:e.client_id||"",application_installee:e.application_installee||"",montant:e.montant||"",date_installation:((x=e.date_installation)==null?void 0:x.split("T")[0])||"",type:e.type||"acquisition",statut:e.statut||"en_cours"})},[e]);const p=async()=>{try{const x=await Ut.getAll();l(x)}catch(x){console.error("Erreur chargement clients:",x)}},y=async()=>{try{const x=await Cs.getAll();d(x)}catch(x){console.error("Erreur chargement applications:",x)}},g=(x,b)=>{i(S=>({...S,[x]:b})),a[x]&&o(S=>({...S,[x]:""}))},v=x=>{const b=c.find(S=>S.id===x);b&&i(S=>({...S,application_installee:b.nom,montant:b.prix}))},m=async x=>{if(x.preventDefault(),f)return;const b={};if(n.client_id||(b.client_id="Client requis"),n.application_installee||(b.application_installee="Application requise"),n.montant||(b.montant="Montant requis"),n.date_installation||(b.date_installation="Date requise"),n.type||(b.type="Type requis"),Object.keys(b).length>0){o(b);return}try{h(!0);const w=new Date(n.date_installation).toISOString().split("T")[0],_={client_id:n.client_id,application_installee:n.application_installee,montant:parseFloat(n.montant),date_installation:w,type:n.type,statut:n.statut};await t(_)}finally{h(!1)}};return u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsx(jt,{label:"Client",value:n.client_id,onChange:x=>g("client_id",x.target.value),options:[{value:"",label:"Slectionner un client..."},...s.map(x=>({value:x.id,label:`${x.raison_sociale} (${x.contact})`}))],error:a.client_id,required:!0,disabled:f}),u.jsx(jt,{label:"Application",value:"",onChange:x=>v(x.target.value),options:[{value:"",label:"Slectionner une application..."},...c.map(x=>({value:x.id,label:`${x.nom} - ${x.prix} DA`}))],disabled:f}),u.jsx(Pe,{label:"Application Installe",value:n.application_installee,onChange:x=>g("application_installee",x.target.value),placeholder:"Nom de l'application",error:a.application_installee,required:!0,disabled:f}),u.jsx(Pe,{label:"Montant (DA)",type:"number",step:"0.01",value:n.montant,onChange:x=>g("montant",x.target.value),placeholder:"0.00",error:a.montant,required:!0,disabled:f}),u.jsx(Pe,{label:"Date d'Installation",type:"date",value:n.date_installation,onChange:x=>g("date_installation",x.target.value),error:a.date_installation,required:!0,disabled:f}),u.jsx(jt,{label:"Type",value:n.type,onChange:x=>g("type",x.target.value),options:[{value:"acquisition",label:"Acquisition"},{value:"abonnement",label:"Abonnement"}],error:a.type,required:!0,disabled:f}),u.jsx(jt,{label:"Statut",value:n.statut,onChange:x=>g("statut",x.target.value),options:[{value:"en_cours",label:"En Cours"},{value:"terminee",label:"Termine"}],required:!0,disabled:f}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{variant:"ghost",onClick:r,disabled:f,children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"primary",disabled:f,children:f?"En cours...":e?"Modifier":"Crer"})]})]})},oie=({installation:e,onEdit:t,onDelete:r,onPayment:n,refreshTrigger:i})=>{var p,y;const[a,o]=O.useState(0),[s,l]=O.useState([]),[c,d]=O.useState(!0);O.useEffect(()=>{e&&e.client_id&&e.id&&f()},[e==null?void 0:e.id,i]);const f=async()=>{try{d(!0);const v=(await xr.getByClient(e.client_id)).filter(b=>b.installation_id===e.id);l(v);const m=v.reduce((b,S)=>b+(S.montant||0),0),x=Math.max(0,e.montant-m);o(x)}catch(g){console.error("Erreur calcul reste  payer:",g),o(e.montant)}finally{d(!1)}},h=()=>{n&&n(e)};return u.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:e.application_installee}),u.jsx("span",{className:`${Af(e.statut)} text-xs`,children:gn(e.statut)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>t(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:u.jsx(di,{size:18})}),u.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:u.jsx(fi,{size:18})})]})]}),u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(Hi,{size:16}),u.jsx("span",{className:"font-medium",children:(p=e.client)==null?void 0:p.raison_sociale})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(It,{size:16}),u.jsxs("span",{children:["Install le ",Ht(e.date_installation)]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-primary text-lg font-bold",children:[u.jsx(Km,{size:20}),u.jsx("span",{children:De(e.montant)})]}),!c&&a>0&&u.jsx("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Reste  payer:"}),u.jsx("span",{className:"text-lg font-bold text-red-600",children:De(a)})]})}),!c&&a===0&&u.jsx("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:u.jsx("span",{className:"text-sm text-green-700 font-medium",children:" Entirement pay"})}),!c&&s.length>0&&u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[u.jsxs("div",{className:"text-sm text-blue-700 font-medium mb-2",children:["Paiements enregistrs (",s.length,"):"]}),u.jsx("div",{className:"space-y-2",children:s.map(g=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-blue-600",children:Ht(g.date_paiement)}),u.jsx("span",{className:"font-bold text-blue-700",children:De(g.montant)})]},g.id))})]})]}),u.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Client:"}),u.jsx("span",{className:"font-medium text-gray-800",children:(y=e.client)==null?void 0:y.contact})]}),a>0&&u.jsxs("button",{onClick:h,className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[u.jsx(dn,{size:18}),"Enregistrer un paiement"]})]})]})},sie=({installation:e,onSubmit:t,onCancel:r})=>{var v;const[n,i]=O.useState({montant:"",mode_paiement:"virement",type:"acquisition",date_paiement:new Date().toISOString().split("T")[0]}),[a,o]=O.useState({}),[s,l]=O.useState(0),[c,d]=O.useState(0),[f,h]=O.useState(!0);O.useEffect(()=>{p()},[e==null?void 0:e.id]),O.useEffect(()=>{e&&e.type&&i(m=>({...m,type:e.type}))},[e==null?void 0:e.id,e==null?void 0:e.type]);const p=async()=>{try{if(h(!0),!e||!e.id){l(0),d(0),h(!1);return}console.log("Installation slectionne:",e.id);const m=await xr.getByClient(e.client_id);console.log("Tous les paiements du client:",m);const x=m.filter(w=>(console.log(`Comparaison: ${w.installation_id} === ${e.id} => ${w.installation_id===e.id}`),w.installation_id===e.id));console.log("Paiements de CETTE installation:",x);const b=x.reduce((w,_)=>w+(_.montant||0),0);console.log("Total pay:",b,"Montant installation:",e.montant),d(b);const S=Math.max(0,e.montant-b);l(S),console.log("Reste  payer:",S),S>0?i(w=>({...w,montant:S.toString()})):i(w=>({...w,montant:""}))}catch(m){console.error("Erreur calcul reste:",m),l((e==null?void 0:e.montant)||0)}finally{h(!1)}},y=(m,x)=>{i(b=>({...b,[m]:x})),a[m]&&o(b=>({...b,[m]:""}))},g=m=>{m.preventDefault();const x={};if((!n.montant||parseFloat(n.montant)<=0)&&(x.montant="Montant requis et > 0"),parseFloat(n.montant)>s&&(x.montant=`Le montant ne peut pas dpasser le reste  payer (${De(s)})`),n.mode_paiement||(x.mode_paiement="Mode de paiement requis"),n.date_paiement||(x.date_paiement="Date requise"),Object.keys(x).length>0){o(x);return}const b={montant:parseFloat(n.montant),mode_paiement:n.mode_paiement,type:n.type,date_paiement:n.date_paiement};t(b)};return f?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-600 uppercase font-semibold",children:"Installation"}),u.jsx("p",{className:"text-lg font-bold text-gray-800",children:e.application_installee})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-600 uppercase font-semibold",children:"Client"}),u.jsx("p",{className:"text-gray-800",children:(v=e.client)==null?void 0:v.raison_sociale})]}),u.jsxs("div",{className:"border-t border-blue-200 pt-3 grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-600 uppercase font-semibold",children:"Montant Total"}),u.jsx("p",{className:"text-lg font-bold text-primary",children:De(e.montant)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-600 uppercase font-semibold",children:"Dj Pay"}),u.jsx("p",{className:"text-lg font-bold text-green-600",children:De(c)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-blue-600 uppercase font-semibold",children:"Reste  Payer"}),u.jsx("p",{className:`text-lg font-bold ${s>0?"text-red-600":"text-green-600"}`,children:De(s)})]})]})]}),s===0&&u.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:u.jsx("p",{className:"text-sm text-green-700 font-semibold",children:" Cette installation est entirement paye !"})}),u.jsx(Pe,{label:"Montant  Payer (DA)",type:"number",step:"0.01",value:n.montant,onChange:m=>y("montant",m.target.value),placeholder:"0.00",error:a.montant,required:!0}),u.jsx(jt,{label:"Mode de Paiement",value:n.mode_paiement,onChange:m=>y("mode_paiement",m.target.value),options:[{value:"especes",label:"Espces"},{value:"virement",label:"Virement"},{value:"cheque",label:"Chque"},{value:"autre",label:"Autre"}],error:a.mode_paiement,required:!0}),u.jsx(jt,{label:"Type de Paiement",value:n.type,onChange:m=>y("type",m.target.value),disabled:!0,options:[{value:"acquisition",label:"Acquisition"},{value:"abonnement",label:"Abonnement"}],error:a.type,required:!0}),u.jsx(Pe,{label:"Date du Paiement",type:"date",value:n.date_paiement,onChange:m=>y("date_paiement",m.target.value),error:a.date_paiement,required:!0}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{variant:"ghost",onClick:r,children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"primary",disabled:s===0,children:"Enregistrer le Paiement"})]})]})},lie=()=>{const[e,t]=O.useState([]),[r,n]=O.useState([]),[i,a]=O.useState(!0),[o,s]=O.useState(""),[l,c]=O.useState("all"),[d,f]=O.useState(""),[h,p]=O.useState(""),[y,g]=O.useState(!1),[v,m]=O.useState(!1),[x,b]=O.useState(null),[S,w]=O.useState("create"),[_,j]=O.useState(0),{addNotification:E}=jr();O.useEffect(()=>{A()},[]),O.useEffect(()=>{N()},[e,o,l,d,h]);const A=async()=>{try{a(!0);const C=await Kr.getAll();t(C)}catch{E({type:"error",message:"Erreur lors du chargement des installations"})}finally{a(!1)}},N=()=>{let C=[...e];l!=="all"&&(C=C.filter(U=>U.statut===l)),o&&(C=C.filter(U=>{var K,z,Y;return((K=U.application_installee)==null?void 0:K.toLowerCase().includes(o.toLowerCase()))||((Y=(z=U.client)==null?void 0:z.raison_sociale)==null?void 0:Y.toLowerCase().includes(o.toLowerCase()))})),d&&(C=C.filter(U=>new Date(U.date_installation)>=new Date(d))),h&&(C=C.filter(U=>new Date(U.date_installation)<=new Date(h+"T23:59:59"))),n(C)},P=()=>{b(null),w("create"),g(!0)},k=C=>{b(C),w("edit"),g(!0)},R=async C=>{try{if(await Kr.hasPaiements(C)){window.alert(` SUPPRESSION IMPOSSIBLE 

Cette installation est lie  un ou plusieurs paiements enregistrs.

 Vous ne pouvez pas supprimer cette installation.

 Solution: Supprimez d'abord les paiements avant de supprimer l'installation.`);return}}catch(z){console.error("Erreur vrification paiements:",z)}if(!window.confirm(` ATTENTION 

Cette action va supprimer:
- L'installation
- Tous les abonnements lis

Cette action est IRRVERSIBLE !

tes-vous absolument sr de vouloir continuer ?`))return;if(window.prompt('Pour confirmer la suppression, tapez "SUPPRIMER" en majuscules:')!=="SUPPRIMER"){E({type:"info",message:"Suppression annule"});return}try{await Kr.delete(C),E({type:"success",message:"Installation supprime avec succs"}),A()}catch(z){z.code==="INSTALLATION_HAS_PAIEMENTS"?window.alert(` SUPPRESSION IMPOSSIBLE 

Cette installation est lie  un ou plusieurs paiements enregistrs.

 Vous ne pouvez pas supprimer cette installation.

 Solution: Supprimez d'abord les paiements avant de supprimer l'installation.`):E({type:"error",message:z.message||"Erreur lors de la suppression"})}},D=C=>{b(C),m(!0)},L=async C=>{try{S==="create"?(await Kr.create(C),E({type:"success",message:"Installation cre avec succs"})):(await Kr.update(x.id,C),E({type:"success",message:"Installation modifie avec succs"})),g(!1),A()}catch(U){E({type:"error",message:U.message||"Erreur lors de l'enregistrement"})}},$=async C=>{try{await xr.create({...C,client_id:x.client_id,installation_id:x.id}),E({type:"success",message:"Paiement enregistr avec succs"}),m(!1),await A(),M()}catch(U){E({type:"error",message:U.message||"Erreur lors de l'enregistrement du paiement"})}},M=()=>{j(C=>C+1)},I={total:e.length,enCours:e.filter(C=>C.statut==="en_cours").length,terminees:e.filter(C=>C.statut==="terminee").length,acquisitions:e.filter(C=>C.type==="acquisition").length,abonnements:e.filter(C=>C.type==="abonnement").length,revenuTotal:e.reduce((C,U)=>C+(U.montant||0),0)};return i?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Installations"}),u.jsx("h3",{className:"text-3xl font-bold",children:I.total})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"En Cours"}),u.jsx("h3",{className:"text-3xl font-bold",children:I.enCours})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Termines"}),u.jsx("h3",{className:"text-3xl font-bold",children:I.terminees})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Acquisitions"}),u.jsx("h3",{className:"text-3xl font-bold",children:I.acquisitions})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-indigo-500 to-indigo-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Abonnements"}),u.jsx("h3",{className:"text-3xl font-bold",children:I.abonnements})]})]}),u.jsxs("div",{className:"card space-y-4",children:[u.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:u.jsx("div",{className:"flex-1",children:u.jsx(vi,{value:o,onChange:s,placeholder:"Rechercher une installation..."})})}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Tous"}),u.jsx("button",{onClick:()=>c("en_cours"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="en_cours"?"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"En Cours"}),u.jsx("button",{onClick:()=>c("terminee"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="terminee"?"bg-success text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Termines"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(It,{size:18,className:"text-gray-600"}),u.jsx(Pe,{type:"date",label:"Du",value:d,onChange:C=>f(C.target.value),placeholder:"Date de dbut"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(It,{size:18,className:"text-gray-600"}),u.jsx(Pe,{type:"date",label:"Au",value:h,onChange:C=>p(C.target.value),placeholder:"Date de fin"})]})]}),(d||h)&&u.jsx("button",{onClick:()=>{f(""),p("")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les dates"}),u.jsx("div",{className:"flex justify-end",children:u.jsx(Ue,{variant:"primary",icon:na,onClick:P,children:"Nouvelle Installation"})})]}),r.length===0?u.jsx("div",{className:"card text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Aucune installation trouve"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(C=>u.jsx(oie,{installation:C,onEdit:k,onDelete:R,onPayment:D,refreshTrigger:_},C.id))}),u.jsx(ir,{isOpen:y,onClose:()=>g(!1),title:S==="create"?"Nouvelle Installation":"Modifier Installation",children:u.jsx(aie,{installation:x,onSubmit:L,onCancel:()=>g(!1)})}),u.jsx(ir,{isOpen:v,onClose:()=>m(!1),title:`Enregistrer un paiement - ${x==null?void 0:x.application_installee}`,children:x&&u.jsx(sie,{installation:x,onSubmit:$,onCancel:()=>m(!1)})})]})},cie=({abonnement:e,onRenouveler:t,onDelete:r,onPayment:n})=>{var o,s,l;qa(e.date_fin);const i=()=>e.statut==="expire"?"border-l-4 border-red-500 bg-red-50 hover:shadow-xl transition-shadow":e.statut==="en_alerte"?"border-l-4 border-orange-500 bg-orange-50 hover:shadow-xl transition-shadow":"border-l-4 border-green-500 bg-green-50 hover:shadow-xl transition-shadow",a=()=>e.statut==="expire"?"bg-red-600 hover:bg-red-700 text-white":e.statut==="en_alerte"?"bg-orange-600 hover:bg-orange-700 text-white":"bg-primary hover:bg-primary/90 text-white";return u.jsxs("div",{className:`card ${i()}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-1",children:(o=e.installation)==null?void 0:o.application_installee}),u.jsx("span",{className:`${Af(e.statut)} text-xs`,children:gn(e.statut)})]}),u.jsxs("div",{className:"flex gap-2",children:[e.statut==="expire"&&u.jsx($t,{className:"text-red-600",size:24}),e.statut==="en_alerte"&&u.jsx($t,{className:"text-orange-600",size:24})]})]}),u.jsx("div",{className:"space-y-2 mb-4",children:u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(Hi,{size:16}),u.jsx("span",{className:"font-medium",children:(l=(s=e.installation)==null?void 0:s.client)==null?void 0:l.raison_sociale})]})}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-gray-600",children:"Dbut:"}),u.jsx("span",{className:"font-medium text-gray-800",children:Ht(e.date_debut)})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Fin:"}),u.jsx("span",{className:"font-medium text-gray-800",children:Ht(e.date_fin)})]})]}),u.jsxs("div",{className:"flex gap-2",children:[e.statut==="expire"&&n&&u.jsxs("button",{onClick:()=>n(e),className:`flex-1 btn flex items-center justify-center gap-2 ${a()}`,children:[u.jsx(dn,{size:18}),"Enregistrer Paiement"]}),e.statut==="expire"&&t&&u.jsxs("button",{onClick:()=>t(e.id),className:`flex-1 btn flex items-center justify-center gap-2 ${a()}`,children:[u.jsx(Ty,{size:18}),"Renouveler"]}),u.jsx("button",{disabled:!0,className:"p-2 text-gray-400 bg-gray-100 rounded transition-colors cursor-not-allowed",title:"Un abonnement ne peut tre supprim que si son installation est supprime",children:u.jsx(fi,{size:18})})]})]})},wh={validateProspect:e=>{const t={};return(!e.raison_sociale||e.raison_sociale.trim()==="")&&(t.raison_sociale="La raison sociale est obligatoire"),(!e.contact||e.contact.trim()==="")&&(t.contact="Le contact est obligatoire"),!e.telephone||e.telephone.trim()===""?t.telephone="Le tlphone est obligatoire":/^(0)(5|6|7)[0-9]{8}$/.test(e.telephone.replace(/\s/g,""))||(t.telephone="Format de tlphone invalide (ex: 0555123456)"),e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(t.email="Format d'email invalide"),{isValid:Object.keys(t).length===0,errors:t}},validateInstallation:e=>{const t={};return e.client_id||(t.client_id="Le client est obligatoire"),(!e.application_installee||e.application_installee.trim()==="")&&(t.application_installee="L'application est obligatoire"),(!e.montant||e.montant<=0)&&(t.montant="Le montant doit tre suprieur  0"),e.date_installation||(t.date_installation="La date d'installation est obligatoire"),{isValid:Object.keys(t).length===0,errors:t}},validatePaiement:e=>{const t={};return e.client_id||(t.client_id="Le client est obligatoire"),e.type||(t.type="Le type de paiement est obligatoire"),(!e.montant||e.montant<=0)&&(t.montant="Le montant doit tre suprieur  0"),e.mode_paiement||(t.mode_paiement="Le mode de paiement est obligatoire"),e.date_paiement||(t.date_paiement="La date de paiement est obligatoire"),{isValid:Object.keys(t).length===0,errors:t}},validateIntervention:e=>{const t={};return e.client_id||(t.client_id="Le client est obligatoire"),e.technicien_id||(t.technicien_id="Le technicien est obligatoire"),e.mode_intervention||(t.mode_intervention="Le mode d'intervention est obligatoire"),e.type_intervention||(t.type_intervention="Le type d'intervention est obligatoire"),(!e.duree||e.duree<=0)&&(t.duree="La dure doit tre suprieure  0"),(!e.resume_probleme||e.resume_probleme.trim()==="")&&(t.resume_probleme="Le rsum du problme est obligatoire"),{isValid:Object.keys(t).length===0,errors:t}},validateApplication:e=>{const t={};return(!e.nom||e.nom.trim()==="")&&(t.nom="Le nom de l'application est obligatoire"),(!e.prix||e.prix<=0)&&(t.prix="Le prix doit tre suprieur  0"),{isValid:Object.keys(t).length===0,errors:t}},validateUser:e=>{const t={};return(!e.nom||e.nom.trim()==="")&&(t.nom="Le nom est obligatoire"),!e.email||e.email.trim()===""?t.email="L'email est obligatoire":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(t.email="Format d'email invalide"),e.role||(t.role="Le rle est obligatoire"),(!e.password||e.password.length<6)&&(t.password="Le mot de passe doit contenir au moins 6 caractres"),{isValid:Object.keys(t).length===0,errors:t}}},cT=({paiement:e,onSubmit:t,onCancel:r,isAbonnement:n=!1})=>{const[i,a]=O.useState({client_id:"",installation_id:"",type:"acquisition",montant:"",mode_paiement:"especes",date_paiement:new Date().toISOString().split("T")[0]}),[o,s]=O.useState({}),[l,c]=O.useState([]),[d,f]=O.useState([]);O.useEffect(()=>{var v;h(),e&&a({client_id:e.client_id||"",installation_id:e.installation_id||"",type:e.type||"acquisition",montant:e.montant||"",mode_paiement:e.mode_paiement||"especes",date_paiement:((v=e.date_paiement)==null?void 0:v.split("T")[0])||""})},[e]);const h=async()=>{try{const m=(await Ut.getAll()).filter(x=>x.statut==="actif");c(m)}catch(v){console.error("Erreur chargement clients:",v)}},p=async v=>{try{const m=await Kr.getByClient(v);f(m)}catch(m){console.error("Erreur chargement installations:",m)}},y=(v,m)=>{if(a(x=>({...x,[v]:m})),o[v]&&s(x=>({...x,[v]:""})),v==="client_id"&&m&&p(m),v==="installation_id"&&m){const x=d.find(b=>String(b.id)===String(m));x&&x.type&&a(b=>({...b,type:x.type}))}},g=v=>{v.preventDefault();const m=wh.validatePaiement(i);if(!m.isValid){s(m.errors);return}t(i)};return u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsx(jt,{label:"Client",value:i.client_id,onChange:v=>y("client_id",v.target.value),disabled:n,options:l.map(v=>({value:v.id,label:`${v.raison_sociale} (${v.contact})`})),error:o.client_id,required:!0}),d.length>0&&u.jsx(jt,{label:"Installation (optionnel)",value:i.installation_id,onChange:v=>y("installation_id",v.target.value),disabled:n,options:d.map(v=>({value:v.id,label:v.application_installee}))}),u.jsx(jt,{label:"Type de Paiement",value:i.type,onChange:v=>y("type",v.target.value),disabled:!!i.installation_id||n,options:[{value:"acquisition",label:"Acquisition"},{value:"abonnement",label:"Abonnement"}],error:o.type,required:!0}),u.jsx(Pe,{label:"Montant (DA)",type:"number",value:i.montant,onChange:v=>y("montant",v.target.value),error:o.montant,required:!0}),u.jsx(jt,{label:"Mode de Paiement",value:i.mode_paiement,onChange:v=>y("mode_paiement",v.target.value),options:[{value:"especes",label:"Espces"},{value:"virement",label:"Virement"},{value:"cheque",label:"Chque"},{value:"autre",label:"Autre"}],error:o.mode_paiement,required:!0}),u.jsx(Pe,{label:"Date de Paiement",type:"date",value:i.date_paiement,onChange:v=>y("date_paiement",v.target.value),error:o.date_paiement,required:!0}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{variant:"ghost",onClick:r,children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"primary",children:e?"Modifier":"Enregistrer"})]})]})},uie=()=>{var w,_,j,E;const[e,t]=O.useState([]),[r,n]=O.useState([]),[i,a]=O.useState(!0),[o,s]=O.useState(""),[l,c]=O.useState("all"),[d,f]=O.useState(!1),[h,p]=O.useState(null),{addNotification:y}=jr();O.useEffect(()=>{g()},[]),O.useEffect(()=>{v()},[e,o,l]);const g=async()=>{try{a(!0);const A=await Pt.getAll();t(A)}catch{y({type:"error",message:"Erreur lors du chargement des abonnements"})}finally{a(!1)}},v=()=>{let A=[...e];l!=="all"&&(A=A.filter(N=>N.statut===l)),o&&(A=A.filter(N=>{var P,k,R,D,L;return((k=(P=N.installation)==null?void 0:P.application_installee)==null?void 0:k.toLowerCase().includes(o.toLowerCase()))||((L=(D=(R=N.installation)==null?void 0:R.client)==null?void 0:D.raison_sociale)==null?void 0:L.toLowerCase().includes(o.toLowerCase()))})),n(A)},m=async A=>{if(window.confirm("tes-vous sr de vouloir renouveler cet abonnement ?"))try{await Pt.delete(A);const N=e.find(R=>R.id===A);if(!N)throw new Error("Abonnement non trouv");const P=new Date(N.date_fin),k=new Date(P);k.setFullYear(k.getFullYear()+1),await Pt.create({installation_id:N.installation_id,date_debut:P.toISOString(),date_fin:k.toISOString(),statut:"actif"}),y({type:"success",message:"Abonnement renouvel avec succs"}),g()}catch(N){y({type:"error",message:N.message||"Erreur lors du renouvellement"})}},x=A=>{p(A),f(!0)},b=async A=>{var N,P;try{const k={montant:A.montant,type:A.type,mode_paiement:A.mode_paiement,date_paiement:A.date_paiement,client_id:((P=(N=h.installation)==null?void 0:N.client)==null?void 0:P.id)||h.installation.client_id,installation_id:h.installation_id};if(await xr.create(k),h.statut==="expire"){const{data:R}=await V.from("paiements").select("montant").eq("installation_id",h.installation_id),D=(R||[]).reduce(($,M)=>$+(M.montant||0),0),L=h.installation;if(D>=((L==null?void 0:L.montant)||0)){await Pt.delete(h.id);const $=new Date(h.date_fin),M=new Date($);M.setFullYear(M.getFullYear()+1),await Pt.create({installation_id:h.installation_id,date_debut:$.toISOString(),date_fin:M.toISOString(),statut:"actif"}),y({type:"success",message:"Paiement enregistr et abonnement renouvel automatiquement"})}else y({type:"success",message:"Paiement enregistr avec succs"})}else y({type:"success",message:"Paiement enregistr avec succs"});f(!1),p(null),g()}catch(k){y({type:"error",message:k.message||"Erreur lors de l'enregistrement du paiement"})}},S={total:e.length,actifs:e.filter(A=>A.statut==="actif").length,enAlerte:e.filter(A=>A.statut==="en_alerte").length,expires:e.filter(A=>A.statut==="expire").length};return i?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Abonnements"}),u.jsx("h3",{className:"text-3xl font-bold",children:S.total})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Actifs"}),u.jsx("h3",{className:"text-3xl font-bold",children:S.actifs}),u.jsxs("p",{className:"text-sm opacity-90 mt-1",children:["Taux ",S.total>0?(S.actifs/S.total*100).toFixed(0):0,"%"]})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"En Alerte"}),u.jsx("h3",{className:"text-3xl font-bold",children:S.enAlerte}),u.jsx("p",{className:"text-sm opacity-90 mt-1",children:" renouveler"})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Expirs"}),u.jsx("h3",{className:"text-3xl font-bold",children:S.expires}),u.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Action requise"})]})]}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(vi,{value:o,onChange:s,placeholder:"Rechercher un abonnement..."})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Tous"}),u.jsx("button",{onClick:()=>c("actif"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="actif"?"bg-success text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Actifs"}),u.jsx("button",{onClick:()=>c("en_alerte"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="en_alerte"?"bg-warning text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"En Alerte"}),u.jsx("button",{onClick:()=>c("expire"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="expire"?"bg-danger text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Expirs"})]})]})}),r.length===0?u.jsx("div",{className:"card text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Aucun abonnement trouv"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>u.jsx(cie,{abonnement:A,onRenouveler:m,onPayment:x},A.id))}),u.jsx(ir,{isOpen:d,onClose:()=>{f(!1),p(null)},title:h?`Enregistrer paiement - ${(w=h.installation)==null?void 0:w.application_installee}`:"Enregistrer paiement",size:"lg",children:h&&u.jsx(cT,{isAbonnement:!0,paiement:{client_id:((j=(_=h.installation)==null?void 0:_.client)==null?void 0:j.id)||((E=h.installation)==null?void 0:E.client_id)||"",installation_id:h.installation_id,type:"abonnement",mode_paiement:"especes",montant:"",date_paiement:new Date().toISOString().split("T")[0]},onSubmit:b,onCancel:()=>f(!1)})})]})},die=({refreshTrigger:e,onRefreshTrigger:t})=>{const[r,n]=O.useState([]),[i,a]=O.useState([]),[o,s]=O.useState([]),[l,c]=O.useState(!0),[d,f]=O.useState(""),[h,p]=O.useState("all"),[y,g]=O.useState(""),[v,m]=O.useState(""),[x,b]=O.useState(!1),[S,w]=O.useState(null),[_,j]=O.useState("create"),{addNotification:E}=jr();O.useEffect(()=>{A()},[e]),O.useEffect(()=>{N()},[r,d,h,y,v]);const A=async()=>{try{c(!0);const[$,M]=await Promise.all([xr.getAll(),Kr.getAll()]);n($),s(M)}catch($){console.error("Erreur chargement:",$),E({type:"error",message:"Erreur lors du chargement des donnes"})}finally{c(!1)}},N=()=>{let $=[...r];h!=="all"&&($=$.filter(M=>M.type===h)),d&&($=$.filter(M=>{var I,C,U;return((C=(I=M.client)==null?void 0:I.raison_sociale)==null?void 0:C.toLowerCase().includes(d.toLowerCase()))||((U=M.mode_paiement)==null?void 0:U.toLowerCase().includes(d.toLowerCase()))})),y&&($=$.filter(M=>new Date(M.date_paiement)>=new Date(y))),v&&($=$.filter(M=>new Date(M.date_paiement)<=new Date(v+"T23:59:59"))),a($)},P=$=>{w($),j("edit"),b(!0)},k=async $=>{if(window.confirm(` ATTENTION 

Voulez-vous vraiment supprimer ce paiement ?

Cette action est IRRVERSIBLE et affectera:
- L'historique financier
- Les statistiques de revenus
- Le reste  payer de l'installation

tes-vous sr de vouloir continuer ?`))try{await xr.delete($),E({type:"success",message:"Paiement supprim avec succs"}),A(),t&&t()}catch(I){E({type:"error",message:I.message||"Erreur lors de la suppression"})}},R=async $=>{try{if(_==="edit")await xr.update(S.id,$),E({type:"success",message:"Paiement modifi avec succs"});else{const M={client_id:$.client_id,installation_id:$.installation_id,type:$.type,montant:$.montant,mode_paiement:$.mode_paiement,date_paiement:$.date_paiement};if(await xr.create(M),$.installation_id){const{data:I}=await V.from("abonnements").select("*").eq("installation_id",$.installation_id).eq("statut","expire");if(I&&I.length>0){const C=I[0],{data:U}=await V.from("paiements").select("montant").eq("installation_id",$.installation_id),K=(U||[]).reduce((Y,ae)=>Y+(ae.montant||0),0),{data:z}=await V.from("installations").select("montant").eq("id",$.installation_id).single();if(K>=((z==null?void 0:z.montant)||0)){await Pt.delete(C.id);const Y=new Date(C.date_fin),ae=new Date(Y);ae.setFullYear(ae.getFullYear()+1),await Pt.create({installation_id:$.installation_id,date_debut:Y.toISOString(),date_fin:ae.toISOString(),statut:"actif"}),E({type:"success",message:"Paiement enregistr et abonnement renouvel automatiquement"})}else E({type:"success",message:"Paiement enregistr avec succs"})}else E({type:"success",message:"Paiement enregistr avec succs"})}else E({type:"success",message:"Paiement enregistr avec succs"})}b(!1),A(),t&&t()}catch(M){E({type:"error",message:M.message||"Erreur lors de l'enregistrement"})}},D=()=>{const $=r.reduce((C,U)=>C+(U.resteAPayer||0),0),M=new Set(r.map(C=>C.installation_id).filter(C=>C)),I=o.filter(C=>!M.has(C.id)).reduce((C,U)=>C+(U.montant||0),0);return $+I},L={total:i.length,revenuTotal:i.reduce(($,M)=>$+(M.montant||0),0),acquisitions:i.filter($=>$.type==="acquisition").length,abonnements:i.filter($=>$.type==="abonnement").length,resteTotal:D()};return l?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Revenus Totaux"}),u.jsx("h3",{className:"text-2xl font-bold",children:De(L.revenuTotal)})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Reste  Payer"}),u.jsx("h3",{className:"text-2xl font-bold",children:De(L.resteTotal)})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Acquisitions"}),u.jsx("h3",{className:"text-3xl font-bold",children:L.acquisitions})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Abonnements"}),u.jsx("h3",{className:"text-3xl font-bold",children:L.abonnements})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Journal des Paiements"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Modifier ou supprimer via la table"})]})]}),u.jsxs("div",{className:"card space-y-4",children:[u.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:u.jsx("div",{className:"flex-1",children:u.jsx(vi,{value:d,onChange:f,placeholder:"Rechercher un paiement..."})})}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Tous"}),u.jsx("button",{onClick:()=>p("acquisition"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="acquisition"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Acquisitions"}),u.jsx("button",{onClick:()=>p("abonnement"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="abonnement"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Abonnements"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(It,{size:18,className:"text-gray-600"}),u.jsx(Pe,{type:"date",label:"Du",value:y,onChange:$=>g($.target.value),placeholder:"Date de dbut"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(It,{size:18,className:"text-gray-600"}),u.jsx(Pe,{type:"date",label:"Au",value:v,onChange:$=>m($.target.value),placeholder:"Date de fin"})]})]}),(y||v)&&u.jsx("button",{onClick:()=>{g(""),m("")},className:"text-sm text-primary hover:text-primary-dark font-medium",children:"Rinitialiser les dates"})]}),u.jsx("div",{className:"card overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Installation"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mode"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:"Aucun paiement trouv"})}):i.map($=>{var M,I,C;return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"font-medium text-gray-800",children:(M=$.client)==null?void 0:M.raison_sociale}),u.jsx("div",{className:"text-sm text-gray-600",children:(I=$.client)==null?void 0:I.contact})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(C=$.installation)==null?void 0:C.application_installee}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`badge-${$.type==="acquisition"?"info":"success"}`,children:$.type==="acquisition"?"Acquisition":"Abonnement"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"text-lg font-bold text-green-600",children:De($.montant)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 capitalize",children:$.mode_paiement}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ht($.date_paiement)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>P($),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:u.jsx(di,{size:18})}),u.jsx("button",{onClick:()=>k($.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:u.jsx(fi,{size:18})})]})})]},$.id)})})]})}),u.jsx(ir,{isOpen:x,onClose:()=>b(!1),title:"Modifier Paiement",children:u.jsx(cT,{paiement:S,onSubmit:R,onCancel:()=>b(!1)})})]})},fie=({intervention:e,onSubmit:t,onCancel:r})=>{const{user:n,profile:i}=Nn(),[a,o]=O.useState({client_id:"",priorite:"normale",mode_intervention:"sur_site",type_intervention:"accompagnement",statut:"en_cours",date_intervention:new Date().toISOString().split("T")[0],duree:"60",resume_probleme:"",action_entreprise:"",commentaires:""}),[s,l]=O.useState({}),[c,d]=O.useState([]),[f,h]=O.useState(null),[p,y]=O.useState(""),g=["accompagnement","adaptation","assistance","blocage","correction","fonctionnalite","erreur","formation","integration","mise_a_jour","parametrage","impression","reseau","question","suivi"],v=w=>{if(!w)return"accompagnement";const _=w.toLowerCase().replace(/\s+/g,"_");return g.includes(_)?_:"accompagnement"},m=async w=>{if(!w){h(null);return}try{const j=(await Pt.getAll()).filter(R=>{var D;return((D=R.installation)==null?void 0:D.client_id)===w||R.client_id===w});if(j.length===0){h({noAbonnement:!0});return}const E=j[0],A=new Date(E.date_fin),N=new Date;N.setHours(0,0,0,0),A.setHours(0,0,0,0);const P=Math.floor((A-N)/(1e3*60*60*24));let k=E.statut||"actif";P<0?k="expire":P<=30?k="en_alerte":k="actif",h({...E,daysLeft:P,statut:k,isExpired:k==="expire",isExpiring:k==="en_alerte",application:E.application||"Non spcifie",type:E.type||"standard"})}catch(_){console.error("Erreur chargement abonnement:",_),h({error:!0,message:_.message})}};O.useEffect(()=>{var w;x(),e&&o({client_id:e.client_id||"",priorite:e.priorite||"normale",mode_intervention:e.mode_intervention||"sur_site",type_intervention:v(e.type_intervention),statut:e.statut||"en_cours",date_intervention:((w=e.date_intervention)==null?void 0:w.split("T")[0])||"",duree:e.duree||"60",resume_probleme:e.resume_probleme||"",action_entreprise:e.action_entreprise||"",commentaires:e.commentaires||""})},[e]);const x=async()=>{try{const _=(await Ut.getAll()).filter(j=>j.statut==="actif");d(_)}catch(w){console.error("Erreur chargement clients:",w)}},b=(w,_)=>{if(o(j=>({...j,[w]:_})),s[w]&&l(j=>({...j,[w]:""})),w==="client_id"){m(_);const j=c.find(E=>E.id===_);y((j==null?void 0:j.raison_sociale)||"")}},S=w=>{w.preventDefault();const _={...a,technicien_id:n.id,type_intervention:v(a.type_intervention)},j=wh.validateIntervention(_);if(!j.isValid){l(j.errors);return}t(_)};return u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("span",{className:"font-semibold",children:"Technicien:"})," ",(i==null?void 0:i.nom)||"Utilisateur"]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(jt,{label:"Client",value:a.client_id,onChange:w=>b("client_id",w.target.value),options:c.map(w=>({value:w.id,label:`${w.raison_sociale} (${w.contact})`})),error:s.client_id,required:!0}),u.jsx(jt,{label:"Priorit",value:a.priorite,onChange:w=>b("priorite",w.target.value),options:[{value:"normale",label:"Normale"},{value:"haute",label:"Haute"}],required:!0})]}),f&&u.jsxs("div",{className:`rounded-lg p-4 flex items-start gap-3 ${f.noAbonnement?"bg-yellow-50 border border-yellow-200":f.error||f.isExpired?"bg-red-50 border border-red-200":f.isExpiring?"bg-orange-50 border border-orange-200":"bg-green-50 border border-green-200"}`,children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f.noAbonnement?u.jsx($t,{className:"w-5 h-5 text-yellow-600"}):f.error?u.jsx($t,{className:"w-5 h-5 text-red-600"}):f.isExpired?u.jsx($t,{className:"w-5 h-5 text-red-600"}):f.isExpiring?u.jsx(dc,{className:"w-5 h-5 text-orange-600"}):u.jsx(Of,{className:"w-5 h-5 text-green-600"})}),u.jsx("div",{className:"flex-1",children:f.noAbonnement?u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-yellow-800",children:" Pas d'abonnement actif"}),u.jsxs("p",{className:"text-sm text-yellow-700",children:[p," - Aucun abonnement trouv"]})]}):f.error?u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-red-800",children:" Erreur"}),u.jsx("p",{className:"text-sm text-red-700",children:"Impossible de charger les infos d'abonnement"})]}):f.isExpired?u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-red-800",children:" ABONNEMENT EXPIR"}),u.jsxs("p",{className:"text-sm text-red-700",children:["Application: ",f.application]}),u.jsxs("p",{className:"text-sm text-red-700",children:["Expir depuis le ",new Date(f.date_fin).toLocaleDateString("fr-FR")]}),u.jsx("p",{className:"text-xs text-red-600 mt-1",children:" URGENT: Contacter le client pour renouvellement"})]}):f.isExpiring?u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-orange-800",children:" ABONNEMENT EXPIRE BIENTT"}),u.jsxs("p",{className:"text-sm text-orange-700",children:["Application: ",f.application]}),u.jsxs("p",{className:"text-sm text-orange-700",children:["Expire dans ",f.daysLeft," jour",f.daysLeft>1?"s":"","(",new Date(f.date_fin).toLocaleDateString("fr-FR"),")"]}),u.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"  renouveler rapidement"})]}):u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-green-800",children:" ABONNEMENT ACTIF"}),u.jsxs("p",{className:"text-sm text-green-700",children:["Application: ",f.application]}),u.jsxs("p",{className:"text-sm text-green-700",children:["Valide jusqu'au ",new Date(f.date_fin).toLocaleDateString("fr-FR"),"(",f.daysLeft," jours restants)"]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(jt,{label:"Mode d'Intervention",value:a.mode_intervention,onChange:w=>b("mode_intervention",w.target.value),options:[{value:"sur_site",label:"Sur Site"},{value:"a_distance",label:" Distance"}],error:s.mode_intervention,required:!0}),u.jsx(jt,{label:"Type d'Intervention",value:a.type_intervention,onChange:w=>b("type_intervention",w.target.value),options:[{value:"accompagnement",label:"Accompagnement utilisateur (prise en main)"},{value:"adaptation",label:"Adaptation d'un tat / rapport / modle d'impression"},{value:"assistance",label:"Assistance sur une opration exceptionnelle"},{value:"blocage",label:"Blocage d'accs / authentification"},{value:"correction",label:"Correction de bug / anomalie"},{value:"fonctionnalite",label:"Demande de nouvelle fonctionnalit"},{value:"erreur",label:"Erreur systme (plantage, message d'erreur critique)"},{value:"formation",label:"Formation"},{value:"integration",label:"Intgration avec un autre outil ou API"},{value:"mise_a_jour",label:"Mise  jour"},{value:"parametrage",label:"Paramtrage"},{value:"impression",label:"Problme d'impression ou de gnration de documents"},{value:"reseau",label:"Problme rseau ou de connection (accs distant, VPN)"},{value:"question",label:"Rponse  une question mtier"},{value:"suivi",label:"Suivi aprs une mise  jour majeure"}],error:s.type_intervention,required:!0}),u.jsx(Pe,{label:"Date d'Intervention",type:"date",value:a.date_intervention,onChange:w=>b("date_intervention",w.target.value),error:s.date_intervention,required:!0}),u.jsx(Pe,{label:"Dure (minutes)",type:"number",value:a.duree,onChange:w=>b("duree",w.target.value),error:s.duree,required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rsum du Problme ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:a.resume_probleme,onChange:w=>b("resume_probleme",w.target.value),rows:"4",className:"input-field",placeholder:"Dcrivez le problme rencontr..."}),s.resume_probleme&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.resume_probleme})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Entreprise"}),u.jsx("textarea",{value:a.action_entreprise,onChange:w=>b("action_entreprise",w.target.value),rows:"3",className:"input-field",placeholder:"Action entreprise pour rsoudre le problme..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaires"}),u.jsx("textarea",{value:a.commentaires,onChange:w=>b("commentaires",w.target.value),rows:"3",className:"input-field",placeholder:"Commentaires additionnels..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{variant:"ghost",onClick:r,children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"primary",children:e?"Modifier":"Crer"})]})]})},hie=({intervention:e,onEdit:t,onDelete:r,onCloturer:n})=>{var a,o;const i=()=>e.priorite==="haute"?"bg-red-100 text-red-800 border-red-200":"bg-blue-100 text-blue-800 border-blue-200";return u.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200 border-l-4 border-primary",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:`${Af(e.statut)} text-xs`,children:gn(e.statut)}),u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${i()}`,children:e.priorite==="haute"?"Haute Priorit":"Normale"})]}),u.jsxs("h3",{className:"text-sm font-semibold text-gray-600",children:[gn(e.type_intervention)," - ",gn(e.mode_intervention)]})]}),u.jsxs("div",{className:"flex gap-2",children:[e.statut==="en_cours"&&u.jsx("button",{onClick:()=>n(e),className:"p-2 text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors font-semibold text-xs",title:"Clturer",children:" CLTURER"}),u.jsx("button",{onClick:()=>t(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:u.jsx(di,{size:18})}),u.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:u.jsx(fi,{size:18})})]})]}),u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-700 text-sm",children:[u.jsx(wl,{size:16,className:"text-primary"}),u.jsx("span",{className:"font-medium",children:(a=e.client)==null?void 0:a.raison_sociale})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(wl,{size:16}),u.jsxs("span",{children:["Tech: ",(o=e.technicien)==null?void 0:o.nom]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(It,{size:16}),u.jsx("span",{children:Ht(e.date_intervention)})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[u.jsx(dc,{size:16}),u.jsxs("span",{children:[e.duree," minutes"]})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[u.jsx("p",{className:"text-sm text-gray-700 font-medium mb-1",children:"Problme:"}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.resume_probleme})]}),e.action_entreprise&&u.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Action:"}),u.jsx("p",{className:"text-sm text-green-600 line-clamp-2",children:e.action_entreprise})]})]})},pie=({onEdit:e,onDelete:t,onCloturer:r,onViewDetails:n})=>{const[i,a]=O.useState([]),[o,s]=O.useState([]),[l,c]=O.useState(!0),[d,f]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{y()},[]),O.useEffect(()=>{g()},[i,d,h]);const y=async()=>{try{const m=await Wn.getAll();a(m)}catch(m){console.error("Erreur chargement interventions:",m)}finally{c(!1)}},g=()=>{let m=[...i];if(d!=="all"){const x=new Date;m=m.filter(b=>{const S=new Date(b.date_intervention);if(d==="today")return S.toDateString()===x.toDateString();if(d==="week"){const w=new Date(x.getTime()-6048e5);return S>=w}else if(d==="month")return S.getMonth()===x.getMonth()&&S.getFullYear()===x.getFullYear();return!0})}h!=="all"&&(m=m.filter(x=>{var S;return(((S=x.technicien)==null?void 0:S.id)||x.technicien_id)===h})),s(m)},v=[...new Map(i.filter(m=>m.technicien).map(m=>[m.technicien.id,m.technicien])).values()];return l?u.jsx("div",{className:"text-center py-8",children:"Chargement..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(It,{size:20,className:"text-gray-500"}),u.jsxs("select",{value:d,onChange:m=>f(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"all",children:"Toutes les dates"}),u.jsx("option",{value:"today",children:"Aujourd'hui"}),u.jsx("option",{value:"week",children:"Cette semaine"}),u.jsx("option",{value:"month",children:"Ce mois"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wl,{size:20,className:"text-gray-500"}),u.jsxs("select",{value:h,onChange:m=>p(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[u.jsx("option",{value:"all",children:"Tous les techniciens"}),v.map((m,x)=>u.jsx("option",{value:m.id,children:m.nom},x))]})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors ml-auto",children:[u.jsx(Py,{size:18}),"Exporter"]})]})}),u.jsxs("div",{className:"card",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Journal des Interventions"}),u.jsx("div",{className:"space-y-3",children:o.length===0?u.jsx("p",{className:"text-center text-gray-500 py-8",children:"Aucune intervention trouve"}):o.map(m=>{var x,b;return u.jsxs("div",{className:"border-l-4 border-primary bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>n&&n(m),children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${m.statut==="cloturee"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:gn(m.statut)}),u.jsx("span",{className:"text-xs text-gray-500",children:xA(m.date_intervention)})]}),u.jsx("h4",{className:"font-semibold text-gray-800",children:(x=m.client)==null?void 0:x.raison_sociale}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.resume_probleme})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-gray-600",children:(b=m.technicien)==null?void 0:b.nom}),u.jsxs("p",{className:"text-xs text-gray-500",children:[m.duree," min"]})]}),u.jsxs("div",{className:"flex gap-2",children:[m.statut==="en_cours"&&r&&u.jsx("button",{onClick:S=>{S.stopPropagation(),r(m)},className:"p-2 text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors font-semibold text-xs",title:"Clturer",children:""}),e&&u.jsx("button",{onClick:S=>{S.stopPropagation(),e(m)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:u.jsx(di,{size:18})}),t&&u.jsx("button",{onClick:S=>{S.stopPropagation(),t(m.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:u.jsx(fi,{size:18})})]})]})]}),m.action_entreprise&&u.jsxs("div",{className:"mt-2 bg-white rounded p-2",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Action:"}),u.jsx("p",{className:"text-sm text-gray-700",children:m.action_entreprise})]})]},m.id)})})]})]})},mie=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(null),[i,a]=O.useState(!0);O.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await Wn.getAll();t(l),s(l)}catch(l){console.error("Erreur chargement interventions:",l)}finally{a(!1)}},s=l=>{if(l.length===0){n(null);return}const c=l.length,d=l.filter(N=>N.statut==="cloturee"),f=l.filter(N=>N.statut==="en_cours"),h=l.filter(N=>N.priorite==="haute"),p=Math.round(l.reduce((N,P)=>N+(P.duree||0),0)/c||0),y=Math.round(d.length/c*100||0),g={};l.forEach(N=>{g[N.type_intervention]=(g[N.type_intervention]||0)+1});const v=Object.entries(g).sort((N,P)=>P[1]-N[1])[0],m={};l.forEach(N=>{var k;(((k=N.resume_probleme)==null?void 0:k.toLowerCase().split(" "))||[]).forEach(R=>{R.length>4&&(m[R]=(m[R]||0)+1)})});const x=Object.entries(m).sort((N,P)=>P[1]-N[1]).slice(0,5).map(([N,P])=>({mot:N,count:P})),b={};l.forEach(N=>{var P;(P=N.technicien)!=null&&P.nom&&(b[N.technicien.nom]||(b[N.technicien.nom]={total:0,cloturees:0,duree:0}),b[N.technicien.nom].total++,N.statut==="cloturee"&&b[N.technicien.nom].cloturees++,b[N.technicien.nom].duree+=N.duree||0)});const S=Object.entries(b).map(([N,P])=>({nom:N,total:P.total,tauxResolution:Math.round(P.cloturees/P.total*100),dureeMoyenne:Math.round(P.duree/P.total)})).sort((N,P)=>P.tauxResolution-N.tauxResolution),w=new Date,_=new Date(w.getTime()-7*24*60*60*1e3),E=l.filter(N=>new Date(N.date_intervention)>=_).length>c/4?"hausse":"baisse",A=[];f.length>d.length&&A.push({type:"warning",message:`${f.length} interventions en cours. Prioriser la clture des interventions en attente.`}),h.length>c*.3&&A.push({type:"danger",message:`${h.length} interventions haute priorit. Augmenter les ressources techniques.`}),p>120&&A.push({type:"info",message:`Dure moyenne leve (${p} min). Envisager une formation technique supplmentaire.`}),y>80&&A.push({type:"success",message:`Excellent taux de rsolution (${y}%). Continuez sur cette lance !`}),x.length>0&&A.push({type:"info",message:`Problme rcurrent dtect: "${x[0].mot}". Crer une documentation prventive.`}),n({totalInterventions:c,cloturees:d.length,enCours:f.length,hautesPriorites:h.length,dureeMoyenne:p,tauxResolution:y,typePlusFrequent:v,problemesRecurrents:x,performanceTechniciens:S,tendance:E,recommandations:A})};return i?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:u.jsx(Hm,{size:32})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Analyse IA des Interventions"}),u.jsx("p",{className:"text-purple-100",children:"Intelligence artificielle  Insights automatiques"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx("div",{className:"card bg-gradient-to-br from-blue-50 to-blue-100 border-l-4 border-blue-500",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(dc,{className:"text-blue-600",size:32}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Dure Moyenne"}),u.jsxs("h3",{className:"text-2xl font-bold text-blue-800",children:[r.dureeMoyenne," min"]})]})]})}),u.jsx("div",{className:"card bg-gradient-to-br from-green-50 to-green-100 border-l-4 border-green-500",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Of,{className:"text-green-600",size:32}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Taux de Rsolution"}),u.jsxs("h3",{className:"text-2xl font-bold text-green-800",children:[r.tauxResolution,"%"]})]})]})}),u.jsx("div",{className:"card bg-gradient-to-br from-orange-50 to-orange-100 border-l-4 border-orange-500",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(bl,{className:"text-orange-600",size:32}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Haute Priorit"}),u.jsx("h3",{className:"text-2xl font-bold text-orange-800",children:r.hautesPriorites})]})]})}),u.jsx("div",{className:"card bg-gradient-to-br from-purple-50 to-purple-100 border-l-4 border-purple-500",children:u.jsxs("div",{className:"flex items-center gap-3",children:[r.tendance==="hausse"?u.jsx(Ts,{className:"text-purple-600",size:32}):u.jsx(hM,{className:"text-purple-600",size:32}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Tendance"}),u.jsx("h3",{className:"text-2xl font-bold text-purple-800 capitalize",children:r.tendance})]})]})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(yA,{className:"text-yellow-500",size:24}),u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recommandations IA"})]}),u.jsx("div",{className:"space-y-3",children:r.recommandations.map((l,c)=>u.jsx("div",{className:`p-4 rounded-lg border-l-4 ${l.type==="success"?"bg-green-50 border-green-500":l.type==="warning"?"bg-orange-50 border-orange-500":l.type==="danger"?"bg-red-50 border-red-500":"bg-blue-50 border-blue-500"}`,children:u.jsx("p",{className:`text-sm font-medium ${l.type==="success"?"text-green-800":l.type==="warning"?"text-orange-800":l.type==="danger"?"text-red-800":"text-blue-800"}`,children:l.message})},c))})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(nM,{className:"text-primary",size:24}),u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Performance des Techniciens"})]}),u.jsx("div",{className:"space-y-3",children:r.performanceTechniciens.map((l,c)=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c===0?"bg-yellow-100":c===1?"bg-gray-200":c===2?"bg-orange-100":"bg-blue-100"}`,children:u.jsx(nd,{className:c===0?"text-yellow-600":c===1?"text-gray-600":c===2?"text-orange-600":"text-blue-600",size:20})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-800",children:l.nom}),u.jsxs("p",{className:"text-xs text-gray-500",children:[l.total," interventions"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[l.tauxResolution,"%"]}),u.jsxs("p",{className:"text-xs text-gray-500",children:[l.dureeMoyenne," min/inter"]})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${l.tauxResolution}%`}})})]},c))})]}),r.problemesRecurrents.length>0&&u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(bl,{className:"text-orange-500",size:24}),u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Problmes Rcurrents Dtects"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:r.problemesRecurrents.map((l,c)=>u.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 text-center border border-orange-200",children:[u.jsx("p",{className:"text-2xl font-bold text-orange-600",children:l.count}),u.jsx("p",{className:"text-sm text-orange-800 capitalize truncate",children:l.mot})]},c))})]}),r.typePlusFrequent&&u.jsx("div",{className:"card bg-gradient-to-br from-indigo-50 to-indigo-100 border border-indigo-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-indigo-600 font-medium mb-1",children:"Type d'intervention le plus frquent"}),u.jsx("h3",{className:"text-2xl font-bold text-indigo-800 capitalize",children:r.typePlusFrequent[0]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-4xl font-bold text-indigo-600",children:r.typePlusFrequent[1]}),u.jsx("p",{className:"text-sm text-indigo-500",children:"occurrences"})]})]})})]}):u.jsxs("div",{className:"card text-center py-12",children:[u.jsx(Hm,{className:"mx-auto text-gray-300 mb-4",size:64}),u.jsx("p",{className:"text-gray-500 text-lg",children:"Aucune donne disponible pour l'analyse"})]})},gie=()=>{const[e,t]=O.useState([]),[r,n]=O.useState([]),[i,a]=O.useState(!0),[o,s]=O.useState(""),[l,c]=O.useState("all"),[d,f]=O.useState("journal"),[h,p]=O.useState(!1),[y,g]=O.useState(!1),[v,m]=O.useState(!1),[x,b]=O.useState(null),[S,w]=O.useState("create"),{addNotification:_}=jr();O.useEffect(()=>{j()},[]),O.useEffect(()=>{E()},[e,o,l]);const j=async()=>{try{a(!0);const M=await Wn.getAll();t(M)}catch{_({type:"error",message:"Erreur lors du chargement des interventions"})}finally{a(!1)}},E=()=>{let M=[...e];l!=="all"&&(M=M.filter(I=>I.statut===l)),o&&(M=M.filter(I=>{var C,U,K,z,Y;return((U=(C=I.client)==null?void 0:C.raison_sociale)==null?void 0:U.toLowerCase().includes(o.toLowerCase()))||((z=(K=I.technicien)==null?void 0:K.nom)==null?void 0:z.toLowerCase().includes(o.toLowerCase()))||((Y=I.resume_probleme)==null?void 0:Y.toLowerCase().includes(o.toLowerCase()))})),n(M)},A=()=>{b(null),w("create"),p(!0)},N=M=>{b(M),w("edit"),p(!0)},P=M=>{b(M),g(!0)},k=M=>{b(M),m(!0)},R=async M=>{if(window.confirm("tes-vous sr de vouloir supprimer cette intervention ?"))try{await Wn.delete(M),_({type:"success",message:"Intervention supprime avec succs"}),j()}catch{_({type:"error",message:"Erreur lors de la suppression"})}},D=async M=>{try{S==="create"?(await Wn.create(M),_({type:"success",message:"Intervention cre avec succs"})):(await Wn.update(x.id,M),_({type:"success",message:"Intervention modifie avec succs"})),p(!1),j()}catch{_({type:"error",message:"Erreur lors de l'enregistrement"})}},L=async M=>{M.preventDefault();const I=new FormData(M.target);try{await Wn.cloturer(x.id,I.get("action_entreprise"),I.get("commentaires")),_({type:"success",message:"Intervention clture avec succs"}),m(!1),j()}catch{_({type:"error",message:"Erreur lors de la clture"})}},$={total:e.length,enCours:e.filter(M=>M.statut==="en_cours").length,cloturees:e.filter(M=>M.statut==="cloturee").length,hautesPriorites:e.filter(M=>M.priorite==="haute").length};return i?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Interventions"}),u.jsx("h3",{className:"text-3xl font-bold",children:$.total})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"En Cours"}),u.jsx("h3",{className:"text-3xl font-bold",children:$.enCours})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Cltures"}),u.jsx("h3",{className:"text-3xl font-bold",children:$.cloturees})]}),u.jsx("div",{className:"card",children:u.jsx(Ue,{variant:"primary",icon:na,onClick:A,className:"w-full h-full",children:"Nouvelle Intervention"})})]}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>f("list"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${d==="list"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[u.jsx(na,{size:18}),"Liste"]}),u.jsxs("button",{onClick:()=>f("journal"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${d==="journal"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[u.jsx(ju,{size:18}),"Journal"]}),u.jsxs("button",{onClick:()=>f("analyse"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${d==="analyse"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[u.jsx(Hm,{size:18}),"Analyse IA"]})]})}),d==="list"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(vi,{value:o,onChange:s,placeholder:"Rechercher une intervention..."})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Tous"}),u.jsx("button",{onClick:()=>c("en_cours"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="en_cours"?"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"En Cours"}),u.jsx("button",{onClick:()=>c("cloturee"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="cloturee"?"bg-success text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Cltures"})]})]})}),r.length===0?u.jsx("div",{className:"card text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Aucune intervention trouve"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(M=>u.jsx(hie,{intervention:M,onEdit:N,onDelete:R,onCloturer:k},M.id))})]}),d==="journal"&&u.jsx(pie,{onEdit:N,onDelete:R,onCloturer:k,onViewDetails:P}),d==="analyse"&&u.jsx(mie,{}),u.jsx(ir,{isOpen:h,onClose:()=>p(!1),title:S==="create"?"Nouvelle Intervention":"Modifier Intervention",size:"lg",children:u.jsx(fie,{intervention:x,onSubmit:D,onCancel:()=>p(!1)})}),u.jsx(ir,{isOpen:v,onClose:()=>m(!1),title:"Clturer l'Intervention",children:u.jsxs("form",{onSubmit:L,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Action Entreprise ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"action_entreprise",rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Dcrivez l'action entreprise...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaires"}),u.jsx("textarea",{name:"commentaires",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Commentaires additionnels..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{variant:"ghost",onClick:()=>m(!1),children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"success",children:"Clturer"})]})]})})]})},MS=({alerte:e,type:t,onRenouveler:r})=>{var s,l,c,d,f;const n=qa(e.date_fin),i=()=>t==="danger"?"border-red-500":t==="warning"?"border-orange-500":"border-blue-500",a=()=>t==="danger"?"bg-red-50":t==="warning"?"bg-orange-50":"bg-blue-50",o=()=>t==="danger"?"text-red-700":t==="warning"?"text-orange-700":"text-blue-700";return u.jsxs("div",{className:`card hover:shadow-xl transition-shadow duration-200 border-l-4 ${i()}`,children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:(s=e.installation)==null?void 0:s.application_installee}),t==="danger"&&u.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm font-medium",children:[u.jsx($t,{size:16}),u.jsx("span",{children:"EXPIR"})]}),t==="warning"&&u.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-sm font-medium",children:[u.jsx($t,{size:16}),u.jsxs("span",{children:[n," JOURS RESTANTS"]})]})]})}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-700 mb-4",children:[u.jsx(Hi,{size:18}),u.jsx("span",{className:"font-medium",children:(c=(l=e.installation)==null?void 0:l.client)==null?void 0:c.raison_sociale})]}),u.jsxs("div",{className:`${a()} rounded-lg p-3 mb-4`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-gray-600",children:"Date de fin:"}),u.jsx("span",{className:`font-bold ${o()}`,children:Ht(e.date_fin)})]}),((f=(d=e.installation)==null?void 0:d.client)==null?void 0:f.commercial_assigne)&&u.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Commercial: ",e.installation.client.commercial_assigne]})]}),u.jsxs("button",{onClick:()=>r(e.id),className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-colors ${t==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-orange-600 hover:bg-orange-700 text-white"}`,children:[u.jsx(Ty,{size:18}),"Renouveler Maintenant"]})]})},vie=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(!0),{addNotification:i}=jr();O.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const c=await Pt.checkAlertes();t(c)}catch{i({type:"error",message:"Erreur lors du chargement des alertes"})}finally{n(!1)}},o=async c=>{if(window.confirm("tes-vous sr de vouloir renouveler cet abonnement ?"))try{const d=e.find(p=>p.id===c);if(!d)throw new Error("Abonnement non trouv");await Pt.delete(c);const f=new Date(d.date_fin),h=new Date(f);h.setFullYear(h.getFullYear()+1),await Pt.create({installation_id:d.installation_id,date_debut:f.toISOString(),date_fin:h.toISOString(),statut:"actif"}),i({type:"success",message:"Abonnement renouvel avec succs"}),a()}catch(d){i({type:"error",message:d.message||"Erreur lors du renouvellement"})}};if(r)return u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const s=e.filter(c=>new Date(c.date_fin)>=new Date),l=e.filter(c=>new Date(c.date_fin)<new Date);return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"card bg-gradient-to-br from-orange-500 to-red-500 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Alertes de Renouvellement"}),u.jsxs("p",{className:"text-white opacity-90",children:[e.length," abonnement(s) ncessitent votre attention"]})]}),u.jsx($t,{size:64,className:"opacity-50"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"card bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(rd,{size:32}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"En Alerte"}),u.jsx("h3",{className:"text-3xl font-bold",children:s.length})]})]})}),u.jsx("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($t,{size:32}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Expirs"}),u.jsx("h3",{className:"text-3xl font-bold",children:l.length})]})]})}),u.jsx("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(It,{size:32}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total"}),u.jsx("h3",{className:"text-3xl font-bold",children:e.length})]})]})})]}),s.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx(rd,{className:"text-orange-500",size:24}),"Abonnements  Renouveler Prochainement"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(c=>u.jsx(MS,{alerte:c,type:"warning",onRenouveler:o},c.id))})]}),l.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx($t,{className:"text-red-500",size:24}),"Abonnements Expirs - Action Urgente"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>u.jsx(MS,{alerte:c,type:"danger",onRenouveler:o},c.id))})]}),e.length===0&&u.jsx("div",{className:"card text-center py-12",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(It,{className:"text-green-600",size:32})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Aucune Alerte Active"}),u.jsx("p",{className:"text-gray-600",children:"Tous les abonnements sont  jour !"})]})]})})]})},yie=({application:e,onSubmit:t,onCancel:r})=>{const[n,i]=O.useState({nom:"",description:"",prix:""}),[a,o]=O.useState({});O.useEffect(()=>{e&&i({nom:e.nom||"",description:e.description||"",prix:e.prix||""})},[e]);const s=(c,d)=>{i(f=>({...f,[c]:d})),a[c]&&o(f=>({...f,[c]:""}))},l=c=>{c.preventDefault();const d=wh.validateApplication(n);if(!d.isValid){o(d.errors);return}t(n)};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsx(Pe,{label:"Nom de l'Application",value:n.nom,onChange:c=>s("nom",c.target.value),error:a.nom,required:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{value:n.description,onChange:c=>s("description",c.target.value),rows:"4",className:"input-field",placeholder:"Description de l'application..."})]}),u.jsx(Pe,{label:"Prix (DA)",type:"number",value:n.prix,onChange:c=>s("prix",c.target.value),error:a.prix,required:!0}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{variant:"ghost",onClick:r,children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"primary",children:e?"Modifier":"Crer"})]})]})},xie=({application:e,onEdit:t,onDelete:r})=>u.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:u.jsx(Ny,{className:"text-purple-600",size:24})}),u.jsx("div",{children:u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:e.nom})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>t(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:u.jsx(di,{size:18})}),u.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(fi,{size:18})})]})]}),e.description&&u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 mt-auto",children:[u.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Prix"}),u.jsx("p",{className:"text-2xl font-bold text-purple-700",children:De(e.prix)})]})]}),bie=()=>{const[e,t]=O.useState([]),[r,n]=O.useState([]),[i,a]=O.useState(!0),[o,s]=O.useState(""),[l,c]=O.useState(!1),[d,f]=O.useState(null),[h,p]=O.useState("create"),{addNotification:y}=jr();O.useEffect(()=>{g()},[]),O.useEffect(()=>{v()},[e,o]);const g=async()=>{try{a(!0);const w=await Cs.getAll();t(w)}catch{y({type:"error",message:"Erreur lors du chargement des applications"})}finally{a(!1)}},v=()=>{let w=[...e];o&&(w=w.filter(_=>{var j,E;return((j=_.nom)==null?void 0:j.toLowerCase().includes(o.toLowerCase()))||((E=_.description)==null?void 0:E.toLowerCase().includes(o.toLowerCase()))})),n(w)},m=()=>{f(null),p("create"),c(!0)},x=w=>{f(w),p("edit"),c(!0)},b=async w=>{if(window.confirm("tes-vous sr de vouloir supprimer cette application ?"))try{await Cs.delete(w),y({type:"success",message:"Application supprime avec succs"}),g()}catch{y({type:"error",message:"Erreur lors de la suppression"})}},S=async w=>{try{h==="create"?(await Cs.create(w),y({type:"success",message:"Application cre avec succs"})):(await Cs.update(d.id,w),y({type:"success",message:"Application modifie avec succs"})),c(!1),g()}catch{y({type:"error",message:"Erreur lors de l'enregistrement"})}};return i?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Catalogue d'Applications"}),u.jsxs("p",{className:"text-white opacity-90",children:[e.length," application(s) disponible(s)"]})]}),u.jsx(Ny,{size:64,className:"opacity-50"})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(vi,{value:o,onChange:s,placeholder:"Rechercher une application..."})}),u.jsx(Ue,{variant:"primary",icon:na,onClick:m,children:"Ajouter Application"})]})}),r.length===0?u.jsx("div",{className:"card text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Aucune application trouve"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(w=>u.jsx(xie,{application:w,onEdit:x,onDelete:b},w.id))}),u.jsx(ir,{isOpen:l,onClose:()=>c(!1),title:h==="create"?"Nouvelle Application":"Modifier Application",children:u.jsx(yie,{application:d,onSubmit:S,onCancel:()=>c(!1)})})]})},wie=({user:e,onSubmit:t,onCancel:r})=>{const[n,i]=O.useState({nom:"",email:"",password:"",role:"commercial",pages_visibles:[]}),[a,o]=O.useState({}),s=[{value:he.DASHBOARD,label:"Tableau de Bord"},{value:he.PROSPECTS,label:"Prospects"},{value:he.CLIENTS,label:"Clients"},{value:he.INSTALLATIONS,label:"Installations"},{value:he.ABONNEMENTS,label:"Abonnements"},{value:he.PAIEMENTS,label:"Paiements"},{value:he.SUPPORT,label:"Support"},{value:he.ALERTES,label:"Alertes"},{value:he.APPLICATIONS,label:"Applications"},{value:he.UTILISATEURS,label:"Utilisateurs"}],l=[{value:"super_admin",label:" Super Administrateur"},{value:"admin",label:" Administrateur"},{value:"technicien",label:" Technicien"},{value:"commercial",label:" Commercial"},{value:"support",label:" Support"}];O.useEffect(()=>{e&&i({nom:e.nom||"",email:e.email||"",password:"",role:e.role||"commercial",pages_visibles:e.pages_visibles||[]})},[e]);const c=(y,g)=>{var v;i(m=>({...m,[y]:g})),a[y]&&o(m=>({...m,[y]:""})),y==="role"&&((v=Vi[g])!=null&&v.allPages)&&i(m=>({...m,pages_visibles:[]}))},d=y=>{i(g=>{const v=[...g.pages_visibles],m=v.indexOf(y);return m>-1?v.splice(m,1):v.push(y),{...g,pages_visibles:v}})},f=y=>{if(y.preventDefault(),e){const g={...n};delete g.password,t(g)}else{const g=wh.validateUser(n);if(!g.isValid){o(g.errors);return}t(n)}},h=Vi[n.role],p=n.role==="super_admin"||n.role==="admin";return u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsx(Pe,{label:"Nom Complet",value:n.nom,onChange:y=>c("nom",y.target.value),error:a.nom,required:!0}),u.jsx(Pe,{label:"Email",type:"email",value:n.email,onChange:y=>c("email",y.target.value),error:a.email,required:!0}),u.jsx(Pe,{label:e?"Nouveau Mot de Passe (laisser vide pour ne pas changer)":"Mot de Passe",type:"password",value:n.password,onChange:y=>c("password",y.target.value),error:a.password,required:!e}),u.jsx(jt,{label:"Rle",value:n.role,onChange:y=>c("role",y.target.value),options:l,required:!0}),h&&u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[u.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Permissions du rle:"}),u.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[h.canManageUsers&&u.jsx("li",{children:" Gestion des utilisateurs"}),h.canManageRoles&&u.jsx("li",{children:" Gestion des rles"}),h.canManageApplications&&u.jsx("li",{children:" Gestion des applications"}),h.canViewAll&&u.jsx("li",{children:" Voir toutes les donnes"}),h.canEditAll&&u.jsx("li",{children:" diter toutes les donnes"}),h.canDeleteAll&&u.jsx("li",{children:" Supprimer toutes les donnes"}),h.allPages&&u.jsx("li",{children:" Accs  toutes les pages"})]})]}),!p&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Pages Accessibles"}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 max-h-64 overflow-y-auto border border-gray-200",children:s.map(y=>u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-100 p-2 rounded transition-colors",children:[u.jsx("input",{type:"checkbox",checked:n.pages_visibles.includes(y.value),onChange:()=>d(y.value),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),u.jsx("span",{className:"text-sm text-gray-700",children:y.label})]},y.value))}),u.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Slectionnez au minimum une page pour ce rle"})]}),p&&u.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-xs text-amber-800",children:[" ",u.jsx("strong",{children:"Accs complet:"})," Les administrateurs ont automatiquement accs  toutes les pages et toutes les fonctionnalits."]})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(Ue,{variant:"ghost",onClick:r,children:"Annuler"}),u.jsx(Ue,{type:"submit",variant:"primary",children:e?"Modifier":"Crer"})]})]})},_ie=({user:e,onEdit:t,onDelete:r,canManage:n=!1})=>{const i=()=>({super_admin:"bg-red-100 text-red-800 border-red-200",admin:"bg-orange-100 text-orange-800 border-orange-200",technicien:"bg-green-100 text-green-800 border-green-200",commercial:"bg-blue-100 text-blue-800 border-blue-200",support:"bg-indigo-100 text-indigo-800 border-indigo-200"})[e.role]||"bg-gray-100 text-gray-800 border-gray-200",a=()=>{const l=Vi[e.role];return(l==null?void 0:l.label)||e.role},o=()=>({super_admin:"",admin:"",technicien:"",commercial:"",support:""})[e.role]||"",s=Vi[e.role];return u.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-200",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("div",{className:"w-14 h-14 bg-primary rounded-full flex items-center justify-center text-white text-xl font-bold",children:bA(e.nom)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:e.nom}),u.jsxs("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium border ${i()} mt-1`,children:[o()," ",a()]})]})]}),n&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>t(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:u.jsx(di,{size:18})}),u.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:u.jsx(fi,{size:18})})]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm mb-4",children:[u.jsx(fc,{size:16}),u.jsx("span",{className:"truncate",children:e.email})]}),s&&!s.allPages&&u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-2 font-medium",children:" Pages accessibles:"}),e.pages_visibles&&e.pages_visibles.length>0?u.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.pages_visibles.slice(0,3).map((l,c)=>u.jsx("span",{className:"text-xs bg-white px-2 py-1 rounded border border-gray-200",children:l},c)),e.pages_visibles.length>3&&u.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.pages_visibles.length-3]})]}):u.jsx("p",{className:"text-xs text-gray-500",children:"Aucune page assigne"})]}),s&&u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-blue-600 font-medium mb-2",children:" Permissions:"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.allPages&&u.jsx("span",{className:"text-blue-700",children:" Toutes les pages"}),s.canManageUsers&&u.jsx("span",{className:"text-blue-700",children:" Grer utilisateurs"}),s.canViewAll&&u.jsx("span",{className:"text-blue-700",children:" Voir toutes donnes"}),s.canEditAll&&u.jsx("span",{className:"text-blue-700",children:" diter tout"}),s.canDeleteAll&&u.jsx("span",{className:"text-blue-700",children:" Supprimer tout"}),!s.allPages&&!s.canManageUsers&&!s.canViewAll&&u.jsx("span",{className:"text-gray-500",children:"Accs limit"})]})]})]})},du={async canCreate(e){return Lt.canManageUsers(e)},async canUpdate(e,t){if(!Lt.canManageUsers(e))return!1;if((e==null?void 0:e.role)==="admin")try{const r=await this.getById(t);if((r==null?void 0:r.role)==="super_admin")return!1}catch(r){return console.error("Erreur vrification permission update:",r),!1}return!0},async canDelete(e,t){if(!Lt.canManageUsers(e))return!1;try{const r=await this.getById(t);return(r==null?void 0:r.role)==="super_admin"?(e==null?void 0:e.role)==="super_admin":!0}catch(r){return console.error("Erreur vrification permission delete:",r),!1}},async getAll(){try{const{data:e,error:t}=await V.from(X.USERS).select("*").order("nom",{ascending:!0});if(t)throw t;return e}catch(e){throw console.error("Erreur rcupration utilisateurs:",e),e}},async getById(e){try{const{data:t,error:r}=await V.from(X.USERS).select("*").eq("id",e).single();if(r)throw r;return t}catch(t){throw console.error("Erreur rcupration utilisateur:",t),t}},async getByRole(e){try{const{data:t,error:r}=await V.from(X.USERS).select("*").eq("role",e).order("nom",{ascending:!0});if(r)throw r;return t}catch(t){throw console.error("Erreur rcupration utilisateurs par rle:",t),t}},async getCommerciaux(){return this.getByRole("commercial")},async getTechniciens(){return this.getByRole("technicien")},async create(e,t){var r,n,i,a;try{if(!await this.canCreate(t)){const v=new Error("Vous n'avez pas la permission de crer des utilisateurs");throw v.code="PERMISSION_DENIED",v}const{data:o,error:s}=await V.from(X.USERS).select("id, email").ilike("email",e.email);if(o&&o.length>0){const v=new Error(`Un utilisateur avec l'email ${e.email} existe dj`);throw v.code="DUPLICATE_EMAIL",v}const l=Object.values(Tb),c=(r=e.role)==null?void 0:r.trim().toLowerCase();if(!c||!l.includes(c)){const v=new Error(`Rle invalide: "${e.role}". Rles valides: ${l.join(", ")}`);throw v.code="INVALID_ROLE",v}e.role=c;let d=null,f=!1,h="";try{console.log(` Cration d'utilisateur locale avec email: ${e.email}`);const{data:v,error:m}=await V.rpc("create_user_local",{p_email:e.email,p_password:e.password,p_nom:e.nom,p_role:e.role,p_pages_visibles:Array.isArray(e.pages_visibles)?e.pages_visibles:[]});if(m){if((n=m.message)!=null&&n.includes("duplicate")||(i=m.message)!=null&&i.includes("existe")){const x=new Error(`Un utilisateur avec l'email ${e.email} existe dj`);throw x.code="DUPLICATE_EMAIL",x}throw m}if(v&&v.length>0)d=v[0].user_id,console.log(" Utilisateur cr avec authentification locale:",{userId:d,email:e.email,nom:e.nom,role:e.role});else throw new Error("Impossible de crer l'utilisateur - pas de rponse du serveur")}catch(v){if(console.error(" Erreur cration authentification locale:",v),(a=v.message)!=null&&a.includes("duplicate"))throw v;f=!0,h=v.message,d=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,console.warn("  Auth locale choue, cration en BDD uniquement:",d)}const{data:p,error:y}=await V.from(X.USERS).insert([{id:d,nom:e.nom,email:e.email,role:e.role,pages_visibles:Array.isArray(e.pages_visibles)?e.pages_visibles:[]}]).select().single();if(y){if(y.code==="23505"||y.message.includes("duplicate")){const v=new Error(`Cet utilisateur existe dj. Vrifiez l'email: ${e.email}`);throw v.code="DUPLICATE_USER",v}throw y}if(console.log(" Utilisateur cr avec succs:",{id:p.id,email:p.email,nom:p.nom,role:p.role,authCreated:!f}),!d)throw new Error("Impossible de gnrer un identifiant utilisateur");const g={id:d,nom:e.nom,email:e.email,role:e.role,pages_visibles:Array.isArray(e.pages_visibles)?e.pages_visibles:[],created_at:new Date().toISOString()};return f?(g._authCreationFailed=!0,g._message=` Authentification locale: ${h}`):console.log(" Utilisateur cr avec succs (authentification locale)"),g}catch(o){throw console.error(" Erreur cration utilisateur:",o),o}},async update(e,t,r){try{if(!await this.canUpdate(r,e)){const s=new Error("Vous n'avez pas la permission de modifier cet utilisateur");throw s.code="PERMISSION_DENIED",s}const i={};if(t.nom&&(i.nom=t.nom),t.email&&(i.email=t.email),t.role){const s=t.role.trim().toLowerCase(),l=Object.values(Tb);if(!l.includes(s)){const c=new Error(`Rle invalide: "${t.role}". Rles valides: ${l.join(", ")}`);throw c.code="INVALID_ROLE",c}i.role=s}t.pages_visibles&&(Array.isArray(t.pages_visibles)?i.pages_visibles=t.pages_visibles:typeof t.pages_visibles=="object"&&(i.pages_visibles=Object.keys(t.pages_visibles).filter(s=>t.pages_visibles[s]===!0))),console.log("dataToUpdate final:",JSON.stringify(i,null,2));const{data:a,error:o}=await V.from(X.USERS).update(i).eq("id",e).select().single();if(o)throw console.error("Erreur dtaille Supabase:",o),console.error("Donnes envoyes:",i),o;return a}catch(n){throw console.error("Erreur mise  jour utilisateur:",n),n}},async delete(e,t){try{if(!await this.canDelete(t,e)){const a=new Error("Vous n'avez pas la permission de supprimer cet utilisateur");throw a.code="PERMISSION_DENIED",a}const n=await this.checkUserReferences(e);if(n.hasReferences){const a=new Error(` Impossible de supprimer cet utilisateur.

L'utilisateur est li :
${n.details.join(`
`)}

Supprimez d'abord ces enregistrements ou contactez un administrateur.`);throw a.code="USER_HAS_REFERENCES",a.details=n.details,a}const{error:i}=await V.from(X.USERS).delete().eq("id",e);if(i)throw console.error("Erreur suppression table users:",i),i;try{console.log(" Authentification locale supprime (cascade FK)")}catch{console.warn("Note: Authentification locale dj supprime ou inexistante")}return console.log(" Utilisateur supprim avec succs (BDD + authentification locale)"),!0}catch(r){throw console.error("Erreur suppression utilisateur:",r),r}},async checkUserReferences(e){try{const t=[];let r=!1;const{data:n,error:i}=await V.from(X.INTERVENTIONS).select("id",{count:"exact",head:!1}).eq("technicien_id",e).limit(5);return!i&&(n==null?void 0:n.length)>0&&(r=!0,t.push(` ${n.length} intervention(s) assigne(s)`)),{hasReferences:r,details:t}}catch(t){return console.error("Erreur vrification rfrences utilisateur:",t),{hasReferences:!1,details:[]}}}},Sie=()=>{const[e,t]=O.useState([]),[r,n]=O.useState([]),[i,a]=O.useState(!0),[o,s]=O.useState(""),[l,c]=O.useState("all"),[d,f]=O.useState(!1),[h,p]=O.useState(null),[y,g]=O.useState("create"),{addNotification:v}=jr(),{canManageUsers:m,profile:x}=Nn();O.useEffect(()=>{b()},[]),O.useEffect(()=>{S()},[e,o,l]);const b=async()=>{try{a(!0);const N=await du.getAll();t(N)}catch{v({type:"error",message:"Erreur lors du chargement des utilisateurs"})}finally{a(!1)}},S=()=>{let N=[...e];l!=="all"&&(N=N.filter(P=>P.role===l)),o&&(N=N.filter(P=>{var k,R;return((k=P.nom)==null?void 0:k.toLowerCase().includes(o.toLowerCase()))||((R=P.email)==null?void 0:R.toLowerCase().includes(o.toLowerCase()))})),n(N)},w=()=>{if(!m()){v({type:"error",message:" Vous n'avez pas la permission de crer des utilisateurs"});return}p(null),g("create"),f(!0)},_=N=>{if(!m()){v({type:"error",message:" Vous n'avez pas la permission de modifier des utilisateurs"});return}p(N),g("edit"),f(!0)},j=async N=>{if(!m()){v({type:"error",message:" Vous n'avez pas la permission de supprimer des utilisateurs"});return}const P=e.find(D=>D.id===N);if((P==null?void 0:P.role)==="super_admin"&&(x==null?void 0:x.role)!=="super_admin"){v({type:"error",message:" Seul un Super Admin peut supprimer un autre Super Admin"});return}const k=` ATTENTION 

tes-vous absolument sr de vouloir supprimer cet utilisateur ?

${P==null?void 0:P.nom}
${P==null?void 0:P.email}

Cette action est IRRVERSIBLE !`;if(!window.confirm(k))return;if(window.prompt('Pour confirmer la suppression, tapez "SUPPRIMER" en majuscules:')!=="SUPPRIMER"){v({type:"info",message:"Suppression annule"});return}try{await du.delete(N,x),v({type:"success",message:"Utilisateur supprim avec succs"}),b()}catch(D){D.code==="PERMISSION_DENIED"?v({type:"error",message:" "+D.message}):D.code==="USER_HAS_REFERENCES"?v({type:"error",title:" Impossible de supprimer cet utilisateur",message:D.message,duration:1e4}):v({type:"error",message:D.message||"Erreur lors de la suppression"})}},E=async N=>{var P,k;try{if(y==="create"){const R=await du.create(N,x);R!=null&&R._authCreationFailed?v({type:"warning",title:" Utilisateur cr partiellement",message:R._message||"Utilisateur cr en BDD mais Auth rate limite. L'utilisateur pourra se connecter normalement.",duration:8e3}):v({type:"success",message:"Utilisateur cr avec succs"})}else await du.update(h.id,N,x),v({type:"success",message:"Utilisateur modifi avec succs"});f(!1),b()}catch(R){R.code==="PERMISSION_DENIED"?v({type:"error",message:" "+R.message}):R.code==="DUPLICATE_EMAIL"?v({type:"error",title:" Email dj utilis",message:R.message,duration:6e3}):R.code==="INVALID_ROLE"?v({type:"error",title:" Rle invalide",message:R.message,duration:6e3}):(P=R.message)!=null&&P.includes("rate limit")?v({type:"warning",title:" Trop de requtes",message:"Supabase Auth a atteint sa limite. L'utilisateur a t cr en BDD et pourra se connecter.",duration:1e4}):(k=R.message)!=null&&k.includes("password")?v({type:"error",title:" Mot de passe trop faible",message:"Le mot de passe doit contenir au moins 6 caractres.",duration:6e3}):v({type:"error",message:R.message||"Erreur lors de l'enregistrement"})}},A={total:e.length,superAdmin:e.filter(N=>N.role==="super_admin").length,admin:e.filter(N=>N.role==="admin").length,technicien:e.filter(N=>N.role==="technicien").length,commercial:e.filter(N=>N.role==="commercial").length,support:e.filter(N=>N.role==="support").length};return i?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Gestion des Utilisateurs"}),u.jsxs("p",{className:"text-white opacity-90",children:[e.length," utilisateur(s) enregistr(s)"]})]}),u.jsx(dM,{size:64,className:"opacity-50"})]})}),!m()&&u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex gap-3",children:[u.jsx($t,{className:"text-amber-600 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-amber-900",children:" Accs Limit"}),u.jsx("p",{className:"text-sm text-amber-800",children:"Vous n'avez pas les permissions pour grer les utilisateurs. Seuls les administrateurs peuvent crer, modifier ou supprimer des utilisateurs."})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total"}),u.jsx("h3",{className:"text-3xl font-bold",children:A.total})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Super Admin"}),u.jsx("h3",{className:"text-3xl font-bold",children:A.superAdmin})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Admin"}),u.jsx("h3",{className:"text-3xl font-bold",children:A.admin})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Techniciens"}),u.jsx("h3",{className:"text-3xl font-bold",children:A.technicien})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Commerciaux"}),u.jsx("h3",{className:"text-3xl font-bold",children:A.commercial})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-indigo-500 to-indigo-600 text-white",children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Support"}),u.jsx("h3",{className:"text-3xl font-bold",children:A.support})]})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(vi,{value:o,onChange:s,placeholder:"Rechercher un utilisateur..."})}),u.jsx(Ue,{variant:"primary",icon:na,onClick:w,disabled:!m(),title:m()?"":"Vous n'avez pas la permission de crer des utilisateurs",children:"Ajouter Utilisateur"})]}),u.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[u.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Tous"}),u.jsx("button",{onClick:()=>c("super_admin"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="super_admin"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Super Admin"}),u.jsx("button",{onClick:()=>c("admin"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="admin"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Admin"}),u.jsx("button",{onClick:()=>c("technicien"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="technicien"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Technicien"}),u.jsx("button",{onClick:()=>c("commercial"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="commercial"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Commercial"}),u.jsx("button",{onClick:()=>c("support"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="support"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Support"})]})]}),r.length===0?u.jsx("div",{className:"card text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Aucun utilisateur trouv"})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(N=>u.jsx(_ie,{user:N,onEdit:_,onDelete:j,canManage:m()},N.id))}),u.jsx(ir,{isOpen:d,onClose:()=>f(!1),title:y==="create"?"Nouvel Utilisateur":"Modifier Utilisateur",children:u.jsx(wie,{user:h,onSubmit:E,onCancel:()=>f(!1)})})]})},jie=()=>{const[e,t]=O.useState(he.DASHBOARD),{hasAccess:r,profile:n}=Nn();T.useEffect(()=>{if(n){if(n.role==="admin"||n.role==="super_admin"){t(he.DASHBOARD),console.log(` ${n.role}  Dashboard`);return}if(n!=null&&n.pages_visibles&&n.pages_visibles.length>0){const s=n.pages_visibles[0],l=Object.values(he).find(c=>c.toLowerCase()===s.toLowerCase());l&&(console.log(` Redirection vers: ${l}`),t(l))}}},[n]);const a={[he.DASHBOARD]:{title:"Tableau de Bord",subtitle:"Vue d'ensemble de votre activit",component:Jne},[he.PROSPECTS]:{title:"Gestion des Prospects",subtitle:"Suivi du pipeline commercial",component:tie},[he.CLIENTS]:{title:"Clients",subtitle:"Base de clients actifs",component:iie},[he.INSTALLATIONS]:{title:"Installations",subtitle:"Suivi des dploiements",component:lie},[he.ABONNEMENTS]:{title:"Abonnements",subtitle:"Renouvellements et alertes",component:uie},[he.PAIEMENTS]:{title:"Paiements",subtitle:"Historique des transactions",component:die},[he.SUPPORT]:{title:"Support Technique",subtitle:"Interventions et tickets",component:gie},[he.ALERTES]:{title:"Alertes",subtitle:"Notifications importantes",component:vie},[he.APPLICATIONS]:{title:"Applications",subtitle:"Catalogue de logiciels",component:bie},[he.UTILISATEURS]:{title:"Utilisateurs",subtitle:"Gestion des comptes",component:Sie}}[e],o=a.component;return(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="super_admin"?u.jsxs(u.Fragment,{children:[u.jsx(lp,{}),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx(op,{currentPage:e,onPageChange:t}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx(sp,{title:a.title,subtitle:a.subtitle}),u.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:u.jsx(o,{})})]})]})]}):r(e)?u.jsxs(u.Fragment,{children:[u.jsx(lp,{}),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx(op,{currentPage:e,onPageChange:t}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx(sp,{title:a.title,subtitle:a.subtitle}),u.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:u.jsx(o,{})})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(lp,{}),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx(op,{currentPage:e,onPageChange:t}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx(sp,{title:"Accs Refus",subtitle:"Vous n'avez pas accs  cette page"}),u.jsx("main",{className:"flex-1 overflow-y-auto p-6 flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full text-center bg-white rounded-lg shadow p-8",children:[u.jsx("div",{className:"text-5xl mb-4",children:""}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accs Refus"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Vous n'avez pas accs  cette page."}),u.jsx("button",{onClick:()=>{if(n!=null&&n.pages_visibles&&n.pages_visibles.length>0){const s=n.pages_visibles[0],l=Object.values(he).find(c=>c.toLowerCase()===s.toLowerCase());l&&t(l)}},className:"inline-block bg-primary text-white px-6 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Retour  ma page d'accueil"})]})})]})]})]})},Oie=()=>{const{isAuthenticated:e,loading:t,profile:r}=Nn();return T.useEffect(()=>{r&&console.log(" Utilisateur connect:",{id:r.id,nom:r.nom,email:r.email,role:r.role,pages_visibles:r.pages_visibles})},[r]),t?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):u.jsxs(P$,{children:[u.jsx(km,{path:"/login",element:e?u.jsx(cE,{to:"/",replace:!0}):u.jsx(pM,{})}),u.jsx(km,{path:"/*",element:u.jsx(mM,{children:u.jsx(jie,{})})})]})};function Eie(){return u.jsx(k$,{children:u.jsx(QR,{children:u.jsx(ZR,{children:u.jsx(Oie,{})})})})}Dp.createRoot(document.getElementById("root")).render(u.jsx(Eie,{}));
